<?php

#-------------------------------------------------------------------------------
/** @author Великодный В.В. (Joonte Ltd.) */
/******************************************************************************/
/******************************************************************************/
$__args_list = Array('Attribs','Value');
/******************************************************************************/
Eval(COMP_INIT);
#******************************************************************************#
#******************************************************************************#
$TextArea = new Tag('TEXTAREA');
#-------------------------------------------------------------------------------
if(IsSet($Attribs['prompt'])){
	#-------------------------------------------------------------------------------
	$Prompt = $Attribs['prompt'];
	#-------------------------------------------------------------------------------
	UnSet($Attribs['prompt']);
	#-------------------------------------------------------------------------------
	$LinkID = UniqID('TextArea');
	#-------------------------------------------------------------------------------
	$Links = &Links();
	#-------------------------------------------------------------------------------
	$Links[$LinkID] = &$TextArea;
	#-------------------------------------------------------------------------------
	$Comp = Comp_Load('Form/Prompt',$LinkID,$Prompt);
	if(Is_Error($Comp))
		return ERROR | @Trigger_Error(500);
	#-------------------------------------------------------------------------------
	UnSet($Links[$LinkID]);
	#-------------------------------------------------------------------------------
}
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
// для автоматического увеличения высоты формы при вводе
$Attribs['OnKeyUp'] = 'autosize(this)';
// и при вставке текста тоже (на клик)
if(!IsSet($Attribs['OnClick']))
	$Attribs['OnClick'] = 'autosize(this)';
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
$TextArea->AddAttribs($Attribs);
#-------------------------------------------------------------------------------
if(!Is_Null($Value))
	$TextArea->AddText($Value);
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
return $TextArea;
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------

?>
