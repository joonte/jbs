import{_ as G}from"./StatusBadge-BmqDrHzy.js";import{_ as J}from"./IconLink-D5X10WIs.js";import{_ as K}from"./OrderIDBadge-DCIAfa63.js";import{_ as Q}from"./ServerStatusBadge.vue_vue_type_script_setup_true_lang-CNB3-WyC.js";import{r as X,Y as Z,v as tt,m as et}from"./bootstrap-vue-next-W16P-SAV.js";import{_ as st}from"./IconDots-BIoh_VC5.js";import{_ as nt}from"./UserNote-9g0f9gxP.js";import{_ as ot}from"./IconCard-C_8uFbeS.js";import{_ as rt}from"./CardButton-DT2I8_xv.js";import{_ as at}from"./IconRotate-D7pUrhpz.js";import{d as it,r as k,m as lt,x as dt,f as ut,G as mt,o as m,c as p,a as o,j as i,n as C,e as d,b as n,h as y,w as l,t as c,F as pt,g as ct}from"./index-Codq73aV.js";import{f as $}from"./time-DenPiOX5.js";import{i as vt}from"./common-DyknwSqv.js";import{_ as wt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ft={class:"ico"},gt={class:"btn btn--dots"},Dt={class:"tw-flex tw-flex-col xl:tw-flex-row tw-mt-14 xl:tw-mt-0 xl:tw-items-center tw-gap-2 xl:tw-gap-4"},It={class:"tw-flex tw-items-center tw-gap-4"},St={class:"tw-flex tw-gap-2 tw-items-center"},xt={class:"tw-flex"},_t=["href"],bt={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-text-lg"},Ot={class:"tw-text-sky-400 tw-mt-2"},kt={class:"tw-flex tw-flex-col tw-gap-2 tw-mt-2 lg:tw-items-center lg:tw-flex-row lg:tw-justify-between"},Ct={class:"tw-flex tw-flex-wrap tw-items-center tw-gap-x-4 tw-gap-y-1 tw-text-sm tw-text-gray-500 tw-text-nowrap"},yt={class:"tw-flex tw-items-center tw-gap-2 tw-text-nowrap"},$t={class:"hosting-status__date"},Pt={__name:"VPSCard",props:{params:{type:Array,default:()=>[]},vps:{type:Object,required:!0},isLast:{type:Boolean,default:!1},userName:{type:String,default:""},isSeveral:{type:Boolean,default:!1},selectedRows:{type:Object,required:!0}},emits:["manage","transfer","delete"],setup(e,{emit:P}){const r=e,_=P,V=it(),D=k({...r.selectedRows}),R=()=>{_("update-selected-rows",D.value)};lt(()=>r.selectedRows,s=>{D.value={...s}},{deep:!0});const I=dt("emitter"),S=k(!1),b=ut(()=>{const s=r.vps.IP||r.vps.Domain;return s==="-"?"":s.startsWith("http://")||s.startsWith("https://")?s:`https://${s}`});function B(s){if(!s)return $(new Date);const t=new Date,x=new Date(t.getTime()+s*24*60*60*1e3);return $(x)}function N(){_("delete",r.vps.ID,r.vps.OrderID)}function L(s){vt()||V.push(`/VPSOrders/${s}`)}function h(){I.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:r.vps.ID,ServiceID:r.vps.ServiceID}})}function j(s){I.emit("open-modal",{component:"StatusHistory",data:{modeID:"VPSOrders",rowID:s}})}function M(){I.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:r.vps.ID,ServiceID:r.vps.ServiceID,emitEvent:"updateVPSIDPage",Login:r.vps.Login}})}function T(){function s(t){S.value=t}I.emit("open-modal",{component:"ReloadVPS",data:{VPSOrderID:r.vps.ID,isReloading:S.value,onReloadStatusChange:s}})}function O(){_("manage",{ServiceOrderID:r.vps.ID,ServiceID:r.vps.ServiceID,OrderID:r.vps.OrderID})}function U(s){if(!s)return"";const t=new Date(Number.parseInt(s)*1e3),v=new Date-t,w=Math.floor(v/1e3),f=Math.floor(w/60),g=Math.floor(f/60),u=Math.floor(g/24);return w<60?`${w} сек. от статуса`:f<60?`${f} мин. от статуса`:g<24?`${g} ч. от статуса`:`${u} дн. от статуса`}return(s,t)=>{const x=at,v=rt,w=ot,f=nt,g=st,u=X,A=mt("RouterLink"),E=Z,F=tt,q=et,z=Q,H=K,W=J,Y=G;return m(),p("div",{onClick:t[12]||(t[12]=a=>L(e.vps.OrderID)),class:"tw-relative tw-p-4 tw-border tw-border-gray-200 tw-rounded tw-cursor-pointer hover:tw-bg-sky-100"},[o("div",{onClick:t[7]||(t[7]=i(()=>{},["stop"])),class:"tw-absolute tw-right-4 tw-top-4 tw-flex tw-items-center tw-gap-1"},[e.vps.StatusID==="Active"?(m(),p("button",{key:0,class:C(["btn btn--md btn--border btn--rotate btn--rotate_green button-large btn-reload tw-hidden sm:tw-flex",{"btn--rotate_gray":e.vps.StatusID!=="Active"||S.value,"btn--rotate_loading":S.value}]),onClick:i(T,["stop"])},[t[13]||(t[13]=d(" Включен ",-1)),o("span",ft,[n(x)]),t[14]||(t[14]=o("div",{class:"hosting-item__title"},"Перезагрузить виртуальный сервер",-1))],2)):y("",!0),n(v,{onClick:t[0]||(t[0]=i(a=>s.$router.push(`/VPSOrders/${e.vps.OrderID}/SchemeChange`),["stop"]))},{default:l(()=>t[15]||(t[15]=[d(" Изменить тариф ",-1)])),_:1,__:[15]}),n(v,{onClick:t[1]||(t[1]=i(a=>s.$router.push(`/VPSOrderPay/${e.vps.OrderID}`),["stop"]))},{default:l(()=>[n(w),t[16]||(t[16]=o("div",null,"Оплатить",-1))]),_:1,__:[16]}),n(v,{onClick:t[2]||(t[2]=i(a=>O(),["stop"])),class:"tw-hidden lg:tw-flex"},{default:l(()=>t[17]||(t[17]=[d("Управлять заказом",-1)])),_:1,__:[17]}),n(f,{text:e.vps.UserNotice,"order-id":e.vps.OrderID,emit:"updateVPSList"},null,8,["text","order-id"]),n(F,{class:"dropdown-dots",right:""},{"button-content":l(()=>[o("span",gt,[n(g)])]),default:l(()=>[n(u,{onClick:t[3]||(t[3]=i(a=>O(),["stop"]))},{default:l(()=>t[18]||(t[18]=[d("Управлять заказом",-1)])),_:1,__:[18]}),n(u,{onClick:t[4]||(t[4]=i(a=>h(),["stop"]))},{default:l(()=>t[19]||(t[19]=[d("Передать на другой аккаунт",-1)])),_:1,__:[19]}),n(u,{onClick:t[5]||(t[5]=i(a=>M(),["stop"]))},{default:l(()=>t[20]||(t[20]=[d("Сменить пароль",-1)])),_:1,__:[20]}),n(u,null,{default:l(()=>[n(A,{to:`/VPSOrders/${e.vps.OrderID}/SchemeChange`},{default:l(()=>t[21]||(t[21]=[d("Изменить тариф",-1)])),_:1,__:[21]},8,["to"])]),_:1}),n(E),n(u,{class:"color-red",onClick:t[6]||(t[6]=i(a=>N(),["stop"]))},{default:l(()=>t[22]||(t[22]=[d("Удалить",-1)])),_:1,__:[22]})]),_:1})]),o("div",Dt,[o("div",It,[e.isSeveral?(m(),p("div",{key:0,onClick:t[9]||(t[9]=i(()=>{},["stop"]))},[n(q,{id:"checkbox-"+e.vps.OrderID,modelValue:D.value[e.vps.OrderID],"onUpdate:modelValue":t[8]||(t[8]=a=>D.value[e.vps.OrderID]=a),name:"checkbox-"+e.vps.OrderID,onChange:R},null,8,["id","modelValue","name"])])):y("",!0),o("div",St,[n(z,{indicators:e.vps.Stat?.Last},null,8,["indicators"]),n(H,{orderId:e.vps.OrderID},null,8,["orderId"])]),o("div",xt,[b.value?(m(),p("a",{key:0,href:b.value,target:"_blank",onClick:t[10]||(t[10]=i(()=>{},["stop"])),class:"tw-flex tw-items-center tw-gap-2 tw-text-lg"},[o("div",null,c(e.vps.IP||e.vps.Domain),1),n(W,{class:"tw-size-5"})],8,_t)):(m(),p("span",bt,c(e.vps.IP||e.vps.Domain),1))])])]),o("div",Ot,c(e.userName),1),o("div",kt,[o("div",Ct,[(m(!0),p(pt,null,ct(e.params,a=>(m(),p("div",null,c(a.text),1))),256))]),o("div",yt,[o("div",{class:C(["tw-pl-0",{danger:Number(e.vps.DaysRemainded)<14}])},c(B(e.vps.DaysRemainded))+" • "+c(e.vps.DaysRemainded||0)+" дн. ",3),n(Y,{class:"status-badge tw-cursor-pointer",status:e.vps.StatusID,"status-table":"VPSOrders",onClick:t[11]||(t[11]=i(a=>j(e.vps.ID),["stop"]))},null,8,["status"]),o("div",$t,c(U(e.vps.StatusDate)),1)])])])}}},zt=wt(Pt,[["__scopeId","data-v-2527ee15"]]);export{zt as _};
