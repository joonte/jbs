import{j as C,o as u,c as p,a as v,F as A,v as N,x as O,w as g,t as k,b as w,n as y,k as x,_ as B,a6 as V,e as L,f as b,r as E,g as M}from"./index-ed1f28f8.js";import{u as T}from"./contracts-cedf6a91.js";import{u as j}from"./services-092233a9.js";import{S as m}from"./ServiceListOrderSelection-3dddf381.js";import{E as q}from"./EmptyStateBlock-dbc11827.js";import{s as F}from"./multiselect-198a8c51.js";import{_ as R}from"./IconArrow-6ab5d812.js";import"./ButtonDefault-a8aacc82.js";import"./BlockSelectContract-c1497cc9.js";import"./ClausesKeeper-9aa8ead7.js";import"./IconClose-a1e58263.js";const U={class:"section"},z={class:"container"},G={class:"section-header"},H={class:"section-nav"},J=["onClick"],K={class:"multiselect-option"},P={class:"section-body"};function Q(r,n,I,e,f,i){var s,o,d,a,_,D,h;const S=R,l=C("Multiselect"),c=m;return u(),p("div",U,[v("div",z,[v("div",G,[v("div",H,[(u(!0),p(A,null,N((s=e.getServices)==null?void 0:s.slice(0,3),t=>(u(),p("div",{class:y(["section-nav__item",{"section-link":!0,"section-link-active":e.section===(t==null?void 0:t.ID)}]),onClick:X=>e.switchToSection(t==null?void 0:t.ID)},k(t==null?void 0:t.Item),11,J))),256)),((o=e.getServices)==null?void 0:o.length)>3?(u(),O(l,{key:0,class:y(["multiselect-special",{"multiselect--white additional-service__select":!0,"additional-service__select_active":(a=e.getServices)==null?void 0:a.slice(3,(d=e.getServices)==null?void 0:d.length).find(t=>(t==null?void 0:t.ID)===e.section)}]),modelValue:e.section,"onUpdate:modelValue":n[0]||(n[0]=t=>e.section=t),options:(D=e.getServices)==null?void 0:D.slice(3,(_=e.getServices)==null?void 0:_.length),label:"ID",onSelect:n[1]||(n[1]=t=>e.switchToSection(t))},{option:g(({option:t})=>[v("div",K,k(t==null?void 0:t.Item),1)]),caret:g(()=>[w(S,{class:"icon-arrow_caret"})]),_:1},8,["modelValue","class","options"])):x("",!0)])]),v("div",P,[w(c,{sectionID:e.section,sectionData:(h=e.getServices)==null?void 0:h.find(t=>t.ID===e.section)},null,8,["sectionID","sectionData"])])])])}const W={components:{ServiceListOrderSelection:m,emptyStateBlock:q,Multiselect:F},async setup(){const r=V(),n=L(),I=b(),e=j(),f=T(),i=E(null);function S(c){n.replace(`/AdditionalServicesOrder?ServiceID=${c}`),i.value=c}const l=M(()=>{var c;return(c=Object.keys(e==null?void 0:e.ServicesList))==null?void 0:c.map(s=>{var o;return{...e==null?void 0:e.ServicesList[s],value:(o=e==null?void 0:e.ServicesList[s])==null?void 0:o.ID}}).filter(s=>(s==null?void 0:s.ServicesGroupID)!=="1000"&&(s==null?void 0:s.IsActive)&&!(s!=null&&s.IsHidden)).sort((s,o)=>Number(s==null?void 0:s.SortID)<Number(o==null?void 0:o.SortID)?-1:Number(s==null?void 0:s.SortID)>Number(o==null?void 0:o.SortID)?1:0)});return await e.fetchServices().then(()=>{var c,s,o,d;(c=l.value)!=null&&c.find(a=>{var _;return(a==null?void 0:a.ID)===((_=r==null?void 0:r.query)==null?void 0:_.ServiceID)})?i.value=(s=r==null?void 0:r.query)==null?void 0:s.ServiceID:(i.value=(d=(o=l.value)==null?void 0:o[0])==null?void 0:d.ID,n.replace(`/AdditionalServicesOrder?ServiceID=${i.value}`))}),await f.fetchContracts(),await I.fetchUserOrders(),{section:i,getServices:l,switchToSection:S}}},ae=B(W,[["render",Q],["__scopeId","data-v-7dbe4cb1"]]);export{ae as default};
