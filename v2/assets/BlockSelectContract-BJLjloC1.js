import{r as I,f as c,h as T,c as D,o as m,I as b,a as n,J as y,t as s,e as C,b as S,w as i,v as N}from"./index-XtiBO-PZ.js";import{u as h}from"./contracts-BdlSA9YT.js";import{s as B}from"./multiselect-eqvbz1NV.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"block--mobile_divider"},g={class:"form-field form-field--basic"},w={class:"form-field-input__wrapper"},O={class:"multiselect-option"},x={__name:"BlockSelectContract",props:["modelValue","title","isBalance","isTransfer"],emits:["update:modelValue","buttonClicked"],setup(d,{emit:p}){const u=d,v=p,f=h(),o=I(null),a=c(()=>f?.contractsList),r=c(()=>u.isBalance?Object.keys(a.value).map(e=>{const l=a.value[e];return l&&(l.TypeID==="Natural"||l.TypeID==="Juridical"||l.TypeID==="Default"||l.TypeID==="Public"||l.TypeID==="Individual"||l.TypeID==="NaturalPartner")?{value:l.ID,name:l.Customer,balance:l.Balance}:null}).filter(e=>e!==null&&Number(e.balance)>0):u.isTransfer?Object.keys(a.value).map(e=>(a.value[e].TypeID==="Natural"||a.value[e].TypeID==="Juridical"||a.value[e].TypeID==="Default"||a.value[e].TypeID==="Public"||a.value[e].TypeID==="Individual")&&a.value[e].IsHidden===!1?{value:a.value[e].ID,name:a.value[e].Customer,balance:a.value[e].Balance}:null).filter(Boolean):Object.keys(a.value).map(e=>(a.value[e].TypeID==="Natural"||a.value[e].TypeID==="Juridical"||a.value[e].TypeID==="Default"||a.value[e].TypeID==="Public"||a.value[e].TypeID==="Individual"||a.value[e].TypeID==="NaturalPartner")&&a.value[e].IsHidden===!1?{value:a.value[e].ID,name:a.value[e].Customer,balance:a.value[e].Balance}:null).filter(Boolean));function _(e){v("update:modelValue",e)}return T(()=>{if(r.value?.length&&a.value){const e=r.value[0].value;a.value[e]?o.value=e:console.error("Договор не найден в CONTRACTS_LIST:",e)}}),(e,l)=>(m(),D("div",null,[b(n("h2",{class:"section-block_title"},s(u.title),513),[[y,u.title]]),n("div",k,[n("div",g,[l[1]||(l[1]=n("div",{class:"form-field__label"},[C(" Выбрать договор "),n("span",null,"*")],-1)),n("div",w,[S(N(B),{class:"multiselect--white",placeholder:"Выбрать договор",label:"name",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value=t),options:r.value,disabled:r.value?.length<=1,onChange:_},{singlelabel:i(({value:t})=>[n("span",null," # "+s(t.value?t.value.toString().padStart(5,"0"):t.padStart(5,"0"))+" / "+s(t.name)+" / "+s(t.balance+" руб"),1)]),option:i(({option:t})=>[n("div",O," # "+s(t.value.toString().padStart(5,"0"))+" / "+s(t.name)+" / "+s(t.balance+" руб"),1)]),_:1},8,["modelValue","options","disabled"])])])])]))}},j=V(x,[["__scopeId","data-v-678a2e3e"]]);export{j as _};
