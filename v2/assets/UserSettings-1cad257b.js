import{o as I,c as V,a as o,b as i,w as _,d as m,p as S,l as b,_ as k,f as C,r as p,g as D}from"./index-ed1f28f8.js";import{_ as f}from"./BasicInput-13cf2877.js";import{I as w}from"./IconUpload-eac4cb9a.js";import{_ as v}from"./ClausesKeeper-9aa8ead7.js";import{_ as y}from"./ButtonDefault-a8aacc82.js";import{f as U}from"./bootstrap-vue-next.es-79226723.js";import"./component2-08856ab6.js";import"./component-cdbc2d35.js";import"./IconClose-a1e58263.js";const l=s=>(S("data-v-7ccff7c5"),s=s(),b(),s),P={class:"section"},x={class:"container"},N=l(()=>o("div",{class:"section-header"},[o("h1",{class:"section-title"},"Настройки")],-1)),A={class:"profile-settings"},B={class:"profile-settings__item"},E=l(()=>o("div",{class:"profile-settings__title"},"Система поддержки пользователей (Тикеты)",-1)),O={class:"profile-settings__item"},W=l(()=>o("div",{class:"profile-settings__title"},"Интерфейс",-1)),Y={class:"profile-settings__item"},L=l(()=>o("div",{class:"profile-settings__title"},"Счета",-1)),K=l(()=>o("div",{class:"note"},"На какой период выписывать автоматически выставляемые счета на продление (дни 10-9999)",-1)),T={class:"profile-settings__item"};function j(s,e,n,t,u,c){const r=v,d=U,g=f,h=y;return I(),V("div",P,[o("div",x,[N,i(r),o("div",A,[o("div",B,[E,i(d,{id:"display-thumbnails",name:"display-thumbnails",value:"Yes","unchecked-value":"No",modelValue:t.formData.EdeskImagesPreview,"onUpdate:modelValue":e[0]||(e[0]=a=>t.formData.EdeskImagesPreview=a)},{default:_(()=>[m("Отображать миниатрюры изображений")]),_:1},8,["modelValue"])]),o("div",O,[W,i(d,{id:"display-counterparties",name:"display-counterparties",value:"Yes","unchecked-value":"No",modelValue:t.formData.ShowContractsWithoutOrders,"onUpdate:modelValue":e[1]||(e[1]=a=>t.formData.ShowContractsWithoutOrders=a)},{default:_(()=>[m("Отображать договора без услуг")]),_:1},8,["modelValue"])]),o("div",Y,[L,i(d,{id:"issue-invoices",name:"issue-invoices",value:"Yes","unchecked-value":"No",modelValue:t.formData.CreateInvoicesAutomatically,"onUpdate:modelValue":e[2]||(e[2]=a=>t.formData.CreateInvoicesAutomatically=a)},{default:_(()=>[m("Выписывать счета автоматически")]),_:1},8,["modelValue"]),i(g,{label:"Период выписки счетов",name:"billing-period",placeholder:"365",modelValue:t.formData.InvoicingPeriod,"onUpdate:modelValue":e[3]||(e[3]=a=>t.formData.InvoicingPeriod=a),isNumber:"",vertical:""},null,8,["modelValue"]),K]),o("div",T,[i(h,{onClick:e[4]||(e[4]=a=>t.saveChanges()),"is-loading":t.isLoading,label:"Сохранить изменения"},null,8,["is-loading"])])])])])}const q={components:{IconUpload:w,BasicInput:f,ClausesKeeper:v},async setup(){const s=C(),e=p(!1),n=p({EdeskImagesPreview:null,ShowContractsWithoutOrders:null,CreateInvoicesAutomatically:null,InvoicingPeriod:0}),t=D(()=>{var c,r;return(r=(c=s.userInfo)==null?void 0:c.Params)==null?void 0:r.Settings});function u(){e.value=!0,s.userPersonalDataSettings({...n.value}).then(()=>{e.value=!1})}return await s.fetchUserData().then(()=>{n.value={...t.value},console.log(n.value)}),{formData:n,getUserSettings:t,isLoading:e,saveChanges:u}}},Z=k(q,[["render",j],["__scopeId","data-v-7ccff7c5"]]);export{Z as default};
