import{_ as oe}from"./EmptyStateBlock-BaR9js3E.js";import{_ as ne,a as le}from"./CopyToClipboard.vue_vue_type_script_setup_true_lang-91wn8_BT.js";import{_ as ie}from"./WhiteButton-B0VC5rKo.js";import{I as ue}from"./IconProfile-BO-wrWBn.js";import{_ as de}from"./BlueButton.vue_vue_type_script_setup_true_lang-CnzqAS80.js";import{_ as ve}from"./StatusBadge-CjHHKSUG.js";import{_ as ce}from"./ClausesKeeper-CTja-fCz.js";import{_ as me}from"./BlockBalanceAgreement-qtspRQ_B.js";import{u as we,r as A,D as x,f as d,g as pe,x as Se,H as Ie,c as w,b as n,a as s,C as b,h as v,F as C,t as l,w as _,I as ge,K as fe,e as g,d as De,o as a}from"./index-CmCGXBst.js";import{u as _e}from"./postings-CAwWnBGE.js";import{u as Oe}from"./services-C54cnl9l.js";import{u as Pe}from"./server-CRQmsQ4v.js";import{u as xe}from"./global-5eUCDNCu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconCopy-JqCg6kwh.js";import"./IconClose-B_k4TzXM.js";import"./contracts-P7YPBhEI.js";import"./ButtonDefault-BIBStZbJ.js";const be={class:"tw-px-4 md:tw-px-8"},ye={class:"tw-text-2xl sm:tw-text-4xl"},ke={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},he={class:"tw-grid tw-grid-cols-1 xl:tw-grid-cols-2 tw-gap-4 tw-mt-4"},Ce={key:0,class:"tw-border tw-rounded tw-border-gray-200 tw-p-4"},$e={class:"tw-flex tw-items-center tw-gap-2"},Ne={class:"tw-text-lg sm:tw-text-2xl"},Ae={key:0,class:"tw-text-xs tw-text-gray-500"},Me={key:1,class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-mt-4"},Le={class:"tw-flex tw-items-center tw-gap-1"},Be={class:"tw-flex tw-gap-4 tw-mt-4"},Ge={class:"btn btn--border btn--switch tw-ml-0 tw-h-10 sm:tw-h-12"},Ee={class:"tw-flex tw-flex-wrap tw-gap-4 tw-mt-4"},He={key:1,class:"tw-grid tw-grid-cols-3 tw-gap-6 tw-border tw-border-gray-200 tw-rounded tw-p-4"},je={class:"tw-col-span-3 tw-flex tw-items-center tw-justify-between tw-gap-2"},Te={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Ve={class:"tw-break-all"},Re={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Fe={class:"tw-col-span-2 tw-flex tw-flex-wrap tw-items-center tw-gap-2"},qe={key:0,class:"password-hidden"},Ue={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},We={class:"tw-break-all"},Xe={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Ke={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},wt={__name:"AdditionalServicesID",async setup(ze){let c,m;const f=pe(),y=De(),o=Oe(),M=Pe(),L=xe(),$=_e(),k=we(),h=A(!1),B=A(!1),G=A(!0),D=Se("emitter");[c,m]=x(()=>o.fetchServices()),await c,m(),[c,m]=x(()=>o.fetchDNSmanagerOrders()),await c,m(),[c,m]=x(()=>o.fetchISPswOrders()),await c,m();const t=d(()=>Object.values(k.userOrders).find(r=>r.ID==f.params.id)),E=d(()=>$?.servicesList[k.userOrders[t.value?.DependOrderID]?.ServiceID]),S=d(()=>$.servicesList[t.value?.ServiceID]),p=d(()=>Object.values(o.ISPswOrdersList).find(r=>r.OrderID==t.value?.ID)),i=d(()=>Object.values(o.DNSmanagerOrdersList).find(r=>r.OrderID==t.value?.ID)),N=d(()=>Object.values(o.ExtraIPOrdersList).find(r=>r.OrderID==t.value?.ID)),H=d(()=>o?.additionalServicesScheme),j=d(()=>M?.serverGroupsList?.Servers?.[i.value?.ServerID]),T=d(()=>M?.serverGroupsList?.Servers?.[p.value?.ServerID]);D.on("updateDNSManagerPage",()=>{o.fetchDNSmanagerOrders()});const R=d(()=>{const r=i.value;return r&&H.value.DNSmanager[r.SchemeID]||null}),F=d(()=>{const r=p.value;return r&&H.value.ISPsw[r.SchemeID]||null});function q(r,e){let O="";switch(e){case"Default":O="Orders";break;default:O=e+"Orders";break}D.emit("open-modal",{component:"StatusHistory",data:{modeID:O,rowID:r}})}function U(){D.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:i.value?.ID,ServiceID:i.value?.ServiceID,emitEvent:"updateDNSManagerPage"}})}function W(){D.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:t.value?.ID,ServiceID:t.value?.ServiceID}})}function X(){L.OrderManageHosting({ServiceOrderID:i.value?.ID,OrderID:i.value?.OrderID,ServiceID:i.value?.ServiceID,XMLHttpRequest:"yes"})}function K(){L.OrderManageHosting({ServiceOrderID:p.value?.ID,OrderID:p.value?.OrderID,ServiceID:p.value?.ServiceID,XMLHttpRequest:"yes"})}function z(){t.value?.ServiceID==5e4?y.push(`/ExtraIPOrderPay/${f.params.id}`):t.value?.ServiceID==51e3?y.push(`/ISPswOrderPay/${f.params.id}`):t.value?.ServiceID==52e3?y.push(`/DNSmanagerOrderPay/${f.params.id}`):y.push(`/ServiceOrderPay/${f.params.id}`)}function J(){k.prolongOrder({IsAutoProlong:h.value?0:1,OrderID:t.value?.ID})}function V(){D.emit("open-modal",{component:"ISPswSchemeChange",data:{ISPswID:t.value?.ID,ServerGroup:F.value?.ServersGroupID,Code:S.value?.Code}})}function Q(){Y()}function Y(){D.emit("open-modal",{component:"DNSOrderSchemeChange",data:{DNSID:t.value?.ID,ServerGroup:R.value?.ServersGroupID,Code:S.value?.Code}})}return Ie(async()=>{t.value?.ServiceID==52e3&&(await o.fetchAdditionalServiceScheme(S.value?.Code),await o.fetchDNSmanagerOrders()),t.value?.ServiceID==51e3&&(await o.fetchAdditionalServiceScheme(S.value?.Code),await o.fetchISPswOrders()),t.value?.ServiceID==5e4&&(await o.fetchAdditionalServiceScheme(S.value?.Code),await o.fetchExtraIPOrders()),f.name==="ISPswOrdersIdSchemeChange"&&V(),G.value=!1}),[c,m]=x(()=>k.fetchUserOrders().then(()=>{h.value=t.value?.IsAutoProlong})),await c,m(),[c,m]=x(()=>$.fetchServices()),await c,m(),(r,e)=>{const O=me,Z=ce,ee=ve,I=ne,P=de,te=ue,se=ie,re=le,ae=oe;return a(),w(C,null,[n(O),s("div",be,[t.value?(a(),w(C,{key:0},[s("div",null,[s("h1",ye,l(S.value?.Name),1),s("div",ke,"# "+l(t.value.ID),1)]),n(Z),s("div",he,[S.value&&t.value?(a(),w("div",Ce,[s("div",$e,[s("div",Ne,l(S.value.Name),1),n(ee,{status:t.value.StatusID,"status-table":"Orders",onClick:e[0]||(e[0]=u=>q(t.value.ServiceOrderID,t.value?.Code)),class:"tw-cursor-pointer"},null,8,["status"])]),t.value.DependOrderID?(a(),w("div",Ae," Относится к заказу "+l(t.value.DependOrderID)+l(E.value?.Name?`/${E.value?.Name}`:""),1)):v("",!0),N.value?(a(),w("div",Me,[e[11]||(e[11]=s("div",{class:"tw-font-bold"},"IP адрес",-1)),s("div",Le,[s("div",null,l(N.value.Login),1),n(I,{value:N.value.Login},null,8,["value"])])])):v("",!0),s("div",Be,[n(P,{onClick:e[1]||(e[1]=u=>z()),class:"tw-w-30 sm:tw-w-40"},{default:_(()=>[g(l(t.value.StatusID==="ClaimForRegister"||t.value.StatusID==="Waiting"?"Оплатить":"Продлить"),1)]),_:1}),s("label",Ge,[ge(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=u=>h.value=u),onInput:e[3]||(e[3]=u=>J())},null,544),[[fe,h.value]]),e[12]||(e[12]=s("span",{class:"btn-switch__text tw-text-xs sm:tw-text-sm"},"Автопродление",-1)),e[13]||(e[13]=s("span",{class:"btn-switch__toggle"},null,-1))])]),s("div",Ee,[t.value.ServiceID==52e3?(a(),b(P,{key:0,onClick:e[4]||(e[4]=u=>Q()),class:"tw-w-36 sm:tw-w-40"},{default:_(()=>e[14]||(e[14]=[g("Изменить тариф",-1)])),_:1,__:[14]})):v("",!0),t.value.ServiceID==51e3?(a(),b(P,{key:1,onClick:e[5]||(e[5]=u=>V()),class:"tw-w-36 sm:tw-w-40"},{default:_(()=>e[15]||(e[15]=[g("Изменить тариф",-1)])),_:1,__:[15]})):v("",!0),n(se,{onClick:e[6]||(e[6]=u=>W())},{default:_(()=>[n(te),e[16]||(e[16]=g(" Передать на другой аккаунт ",-1))]),_:1,__:[16]})])])):v("",!0),t.value&&(t.value.ServiceID==52e3||t.value.ServiceID==51e3)?(a(),w("div",He,[s("div",je,[e[19]||(e[19]=s("div",{class:"tw-text-2xl"},"Панель управления",-1)),t.value.ServiceID==52e3?(a(),b(P,{key:0,onClick:e[7]||(e[7]=u=>X()),type:"small"},{default:_(()=>e[17]||(e[17]=[g("Вход",-1)])),_:1,__:[17]})):v("",!0),t.value.ServiceID==51e3?(a(),b(P,{key:1,onClick:e[8]||(e[8]=u=>K()),type:"small"},{default:_(()=>e[18]||(e[18]=[g("Вход",-1)])),_:1,__:[18]})):v("",!0)]),t.value.ServiceID==52e3?(a(),w(C,{key:0},[e[21]||(e[21]=s("div",null,"Адрес",-1)),s("div",Te,[s("div",Ve,l(`https://${j.value?.Address}/manager`),1),n(I,{value:`https://${j.value?.Address}/manager`},null,8,["value"])]),e[22]||(e[22]=s("div",null,"Логин",-1)),s("div",Re,[s("div",null,l(i.value?.Login),1),n(I,{value:i.value?.Login},null,8,["value"])]),e[23]||(e[23]=s("div",null,"Пароль",-1)),s("div",Fe,[B.value?(a(),w("span",qe,l(i.value?.Password),1)):(a(),w("button",{key:1,class:"btn btn--border btn--md tw-h-8 tw-gap-1",onClick:e[9]||(e[9]=u=>B.value=!0)},[n(re),e[20]||(e[20]=g(" Показать ",-1))])),s("button",{class:"btn btn--border btn--md tw-h-8",onClick:e[10]||(e[10]=u=>U())},"Сменить пароль"),n(I,{value:i.value?.Password},null,8,["value"])])],64)):v("",!0),t.value.ServiceID==51e3?(a(),w(C,{key:1},[e[24]||(e[24]=s("div",null,"Адрес",-1)),s("div",Ue,[s("div",We,l(p.value?.ControlPanel),1),n(I,{value:p.value?.ControlPanel},null,8,["value"])]),e[25]||(e[25]=s("div",null,"FTP, POP3, SMTP, IMAP",-1)),s("div",Xe,[s("div",null,l(T.value?.Address),1),n(I,{value:T.value?.Address},null,8,["value"])]),e[26]||(e[26]=s("div",null,"IP адрес",-1)),s("div",Ke,[s("div",null,l(p.value?.IP),1),n(I,{value:p.value?.IP},null,8,["value"])])],64)):v("",!0)])):v("",!0)])],64)):G.value?v("",!0):(a(),b(ae,{key:1,label:"Заказ не найден"}))])],64)}}};export{wt as default};
