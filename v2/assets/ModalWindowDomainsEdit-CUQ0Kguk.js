import{_ as U}from"./ButtonDefault-B1FApUky.js";import{_ as k}from"./BasicInput-VlbY6GiE.js";import{R as C,an as E,x as S,r as m,f as y,H as V,Y as $,s as F,c as x,o as w,a,b as n,t as B}from"./index-C9dBN6m4.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./component-D8Pmx5O0.js";const j={class:"modal__body"},W={class:"edit-settings"},A={class:"edit-settings__item"},K={class:"form-field"},R={class:"form-field-input__text"},Y={class:"edit-settings__item"},q=["innerHTML"],z={class:"edit-settings__item"},G=["innerHTML"],J={class:"edit-settings__item"},Q=["innerHTML"],X={class:"edit-settings__item"},Z=["innerHTML"],h={class:"edit-settings__item"},ee=["innerHTML"],se={class:"edit-settings__item"},ae=["innerHTML"],te={class:"edit-settings__item"},le=["innerHTML"],oe={class:"edit-settings__item"},ne=["innerHTML"],ie={__name:"ModalWindowDomainsEdit",props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(D,{emit:M}){const l=D,L=M,_=C(),H=E(),T=S("emitter"),v=m(!1),p=m(null),I=m(!0),P=m(!0),c=m(!0),f=m(!0),s=m({Domain:"",Ns1Name:"",Ns1IP:"",Ns2Name:"",Ns2IP:"",Ns3Name:"",Ns3IP:"",Ns4Name:"",Ns4IP:""});function g(){v.value=!0,_.DomainOrderNsChange({DomainOrderID:l.data.ID,Domain:s.value?.Domain,Ns1Name:s.value?.Ns1Name,Ns1IP:s.value?.Ns1IP,Ns2Name:s.value?.Ns2Name,Ns2IP:s.value?.Ns2IP,Ns3Name:s.value?.Ns3Name,Ns3IP:s.value?.Ns3IP,Ns4Name:s.value?.Ns4Name,Ns4IP:s.value?.Ns4IP}).then(d=>{let{result:e,error:o}=d;e==="SUCCESS"&&_.fetchDomainOrders(),v.value=!1,L("modalClose")})}const i=y(()=>H.data.Messages?.Prompts);V(()=>{p.value=l.data.Domain,s.value={Domain:l.data.Domain,Ns1Name:l.data.Ns1Name,Ns1IP:l.data.Ns1IP,Ns2Name:l.data.Ns2Name,Ns2IP:l.data.Ns2IP,Ns3Name:l.data.Ns3Name,Ns3IP:l.data.Ns3IP,Ns4Name:l.data.Ns4Name,Ns4IP:l.data.Ns4IP},["Ns1Name","Ns2Name","Ns3Name","Ns4Name"].forEach(e=>{N(s.value[e],e)})});function N(d,e){const o=d.replace(/ /g,""),r=l.data.Domain,t=p.value,u=o.includes(r)||o.includes(t);switch(e){case"Ns1Name":I.value=!u;break;case"Ns2Name":P.value=!u;break;case"Ns3Name":c.value=!u;break;case"Ns4Name":f.value=!u;break}}$(()=>{T.emit("close-modal")});const b=d=>{d.key==="Enter"&&g()};return V(()=>{document.addEventListener("keyup",b)}),F(()=>{document.removeEventListener("keyup",b)}),(d,e)=>{const o=k,r=U;return w(),x("div",j,[e[18]||(e[18]=a("div",{class:"list-item__title"},"Смена именных серверов",-1)),a("div",W,[a("div",A,[a("div",K,[e[13]||(e[13]=a("div",{class:"form-field__label"},"Доменное имя",-1)),a("div",R,B(s.value.Domain),1)])]),e[14]||(e[14]=a("div",{class:"edit-settings__title"},"Первичный сервер имен",-1)),a("div",Y,[n(o,{label:"Доменный адрес",modelValue:s.value.Ns1Name,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.Ns1Name=t),onInput:e[1]||(e[1]=t=>N(s.value.Ns1Name,"Ns1Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,q)]),a("div",z,[n(o,{label:"IP адрес",modelValue:s.value.Ns1IP,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.Ns1IP=t),name:"Ns1IP",disabled:I.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,G)]),e[15]||(e[15]=a("div",{class:"edit-settings__title"},"Вторичный сервер имен",-1)),a("div",J,[n(o,{label:"Доменный адрес",modelValue:s.value.Ns2Name,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.Ns2Name=t),onInput:e[4]||(e[4]=t=>N(s.value.Ns2Name,"Ns2Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,Q)]),a("div",X,[n(o,{label:"IP адрес",modelValue:s.value.Ns2IP,"onUpdate:modelValue":e[5]||(e[5]=t=>s.value.Ns2IP=t),name:"Ns2IP",disabled:P.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,Z)]),e[16]||(e[16]=a("div",{class:"edit-settings__title"},"Дополнительный сервер имен",-1)),a("div",h,[n(o,{label:"Доменный адрес",modelValue:s.value.Ns3Name,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value.Ns3Name=t),onInput:e[7]||(e[7]=t=>N(s.value.Ns3Name,"Ns3Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,ee)]),a("div",se,[n(o,{label:"IP адрес",modelValue:s.value.Ns3IP,"onUpdate:modelValue":e[8]||(e[8]=t=>s.value.Ns3IP=t),name:"Ns3IP",disabled:c.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,ae)]),e[17]||(e[17]=a("div",{class:"edit-settings__title"},"Расширенный сервер имен",-1)),a("div",te,[n(o,{label:"Доменный адрес",modelValue:s.value.Ns4Name,"onUpdate:modelValue":e[9]||(e[9]=t=>s.value.Ns4Name=t),onInput:e[10]||(e[10]=t=>N(s.value.Ns4Name,"Ns4Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,le)]),a("div",oe,[n(o,{label:"IP адрес",modelValue:s.value.Ns4IP,"onUpdate:modelValue":e[11]||(e[11]=t=>s.value.Ns4IP=t),name:"Ns4IP",disabled:f.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,ne)]),n(r,{onClick:e[12]||(e[12]=t=>g()),label:"Сохранить изменения","is-loading":v.value},null,8,["is-loading"])])])}}},re=O(ie,[["__scopeId","data-v-74733e98"]]);export{re as default};
