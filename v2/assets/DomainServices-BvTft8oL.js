import{_ as C}from"./LoadingIndicator-y8DeC9jv.js";import{_ as L}from"./EmptyStateBlock-DA3-0YDi.js";import{_ as N,a as V}from"./BlockDependentServices-DPC_LtYM.js";import{_ as $}from"./BlockAdditionalServices-Dc0oR6v8.js";import{_ as E}from"./ClausesKeeper-iUM0yapS.js";import{_ as R}from"./BlockBalanceAgreement-v_bWuiVT.js";import{S as j,u as F,r as f,f as S,E as T,o as a,c as D,b as s,a as l,t as U,w as b,C as O,F as G,G as K,i as P,e as k}from"./index-Codq73aV.js";import{u as q}from"./services-DyPBvbVy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ButtonDefault-CMw2aBy6.js";import"./common-DyknwSqv.js";import"./BlueButton.vue_vue_type_script_setup_true_lang-BKdLNEec.js";import"./StatusBadge-BmqDrHzy.js";import"./bootstrap-vue-next-W16P-SAV.js";import"./InputServiceSelect-Dvi-CxI4.js";import"./InputSelect.vue_vue_type_script_setup_true_lang-D7E9_BoS.js";import"./IconChevronDown-DOsbTpSQ.js";import"./index-BO2gwtUe.js";import"./BasicInput-DeQAeyXe.js";import"./component-DqcwA9JN.js";import"./IconClose-Dia1noy8.js";const z={key:0,class:"tw-px-4 md:tw-px-8 tw-mb-6"},H={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},J={class:"tw-flex tw-items-center tw-gap-8 tw-border-b tw-border-gray-200 tw-mt-4 tw-whitespace-nowrap tw-mb-6"},we={__name:"DomainServices",async setup(M){let u,d;const x=P(),p=j(),_=q(),o=F(),i=f([]),v=f(!0),e=S(()=>Object.values(p.domainsList).find(n=>n.OrderID===Number(x.params.id))),y=S(()=>{if(!e.value?.OrderID||!o?.userOrders)return[];const n=e.value.OrderID;return Object.keys(o.userOrders).map(r=>o.userOrders[r]).filter(r=>r.DependOrderID===n&&r.ServiceID&&_.ServicesList[r.ServiceID]).sort((r,m)=>Number(r?.ID)-Number(m?.ID))});return[u,d]=T(()=>Promise.all([p.fetchDomainOrders(),_.fetchServices(),o.fetchUserOrders()])),await u,d(),v.value=!1,(n,t)=>{const w=R,c=K("RouterLink"),r=E,m=N,I=$,g=V,B=L,h=C;return a(),D(G,null,[s(w,{"contract-id":e.value?.ContractID},null,8,["contract-id"]),e.value?(a(),D("div",z,[t[3]||(t[3]=l("h1",{class:"tw-text-xl sm:tw-text-4xl"},"Дополнительные услуги",-1)),l("div",H,"Домен #"+U(e.value.OrderID),1),l("div",J,[s(c,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/DomainOrders/${e.value.OrderID}`},{default:b(()=>t[1]||(t[1]=[k(" Домен ",-1)])),_:1,__:[1]},8,["to"]),s(c,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/DomainOrders/${e.value.OrderID}/Services`},{default:b(()=>t[2]||(t[2]=[k(" Услуги ",-1)])),_:1,__:[2]},8,["to"])]),s(r),s(m,{services:y.value},null,8,["services"]),s(I,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=A=>i.value=A),"service-search-params":{ServiceID:e.value.ServiceID},class:"tw-mt-6"},null,8,["modelValue","service-search-params"]),s(g,{services:i.value,"main-order":e.value},null,8,["services","main-order"])])):v.value?(a(),O(h,{key:2,class:"tw-mt-10"})):(a(),O(B,{key:1,label:"Заказ не найден"}))],64)}}};export{we as default};
