import{o as h,c as S,a as o,t as U,b as d,p as w,l as k,_ as y,u as E,R as x,r as c,g as B,i as O,B as j}from"./index-15714261.js";import{u as W}from"./domain-d6bd830b.js";import{_ as A}from"./ButtonDefault-47f7ce80.js";import{_ as R}from"./BasicInput-32ce1450.js";import"./component-60f19e1e.js";const u=t=>(w("data-v-49dec2f6"),t=t(),k(),t),q={class:"modal__body"},z=u(()=>o("div",{class:"list-item__title"},"Смена именных серверов",-1)),G={class:"edit-settings"},J={class:"edit-settings__item"},K={class:"form-field"},Q=u(()=>o("div",{class:"form-field__label"},"Доменное имя",-1)),X={class:"form-field-input__text"},Y=u(()=>o("div",{class:"edit-settings__title"},"Первичный сервер имен",-1)),Z={class:"edit-settings__item"},$=["innerHTML"],ee={class:"edit-settings__item"},se=["innerHTML"],ae=u(()=>o("div",{class:"edit-settings__title"},"Вторичный сервер имен",-1)),oe={class:"edit-settings__item"},te=["innerHTML"],ne={class:"edit-settings__item"},ie=["innerHTML"],le=u(()=>o("div",{class:"edit-settings__title"},"Дополнительный сервер имен",-1)),me={class:"edit-settings__item"},de=["innerHTML"],Ne={class:"edit-settings__item"},re=["innerHTML"],_e=u(()=>o("div",{class:"edit-settings__title"},"Расширенный сервер имен",-1)),ce={class:"edit-settings__item"},ue=["innerHTML"],ve={class:"edit-settings__item"},Ie=["innerHTML"];function Pe(t,s,b,e,M,V){var v,I,P,n,f,F,g,m,i,N,r,_;const l=R,D=A;return h(),S("div",q,[z,o("div",G,[o("div",J,[o("div",K,[Q,o("div",X,U(e.FormData.Domain),1)])]),Y,o("div",Z,[d(l,{label:"Доменный адрес",modelValue:e.FormData.Ns1Name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.FormData.Ns1Name=a),onInput:s[1]||(s[1]=a=>e.IsNewNs(e.FormData.Ns1Name,"Ns1Name"))},null,8,["modelValue"]),o("div",{class:"popover",innerHTML:(I=(v=e.getConfigPrompts)==null?void 0:v.Domain)==null?void 0:I.NsName},null,8,$)]),o("div",ee,[d(l,{label:"IP адрес",modelValue:e.FormData.Ns1IP,"onUpdate:modelValue":s[2]||(s[2]=a=>e.FormData.Ns1IP=a),name:"Ns1IP",disabled:e.FormNs1},null,8,["modelValue","disabled"]),o("div",{class:"popover",innerHTML:(P=e.getConfigPrompts)==null?void 0:P.IP},null,8,se)]),ae,o("div",oe,[d(l,{label:"Доменный адрес",modelValue:e.FormData.Ns2Name,"onUpdate:modelValue":s[3]||(s[3]=a=>e.FormData.Ns2Name=a),onInput:s[4]||(s[4]=a=>e.IsNewNs(e.FormData.Ns2Name,"Ns2Name"))},null,8,["modelValue"]),o("div",{class:"popover",innerHTML:(f=(n=e.getConfigPrompts)==null?void 0:n.Domain)==null?void 0:f.NsName},null,8,te)]),o("div",ne,[d(l,{label:"IP адрес",modelValue:e.FormData.Ns2IP,"onUpdate:modelValue":s[5]||(s[5]=a=>e.FormData.Ns2IP=a),name:"Ns2IP",disabled:e.FormNs2},null,8,["modelValue","disabled"]),o("div",{class:"popover",innerHTML:(F=e.getConfigPrompts)==null?void 0:F.IP},null,8,ie)]),le,o("div",me,[d(l,{label:"Доменный адрес",modelValue:e.FormData.Ns3Name,"onUpdate:modelValue":s[6]||(s[6]=a=>e.FormData.Ns3Name=a),onInput:s[7]||(s[7]=a=>e.IsNewNs(e.FormData.Ns3Name,"Ns3Name"))},null,8,["modelValue"]),o("div",{class:"popover",innerHTML:(m=(g=e.getConfigPrompts)==null?void 0:g.Domain)==null?void 0:m.NsName},null,8,de)]),o("div",Ne,[d(l,{label:"IP адрес",modelValue:e.FormData.Ns3IP,"onUpdate:modelValue":s[8]||(s[8]=a=>e.FormData.Ns3IP=a),name:"Ns3IP",disabled:e.FormNs3},null,8,["modelValue","disabled"]),o("div",{class:"popover",innerHTML:(i=e.getConfigPrompts)==null?void 0:i.IP},null,8,re)]),_e,o("div",ce,[d(l,{label:"Доменный адрес",modelValue:e.FormData.Ns4Name,"onUpdate:modelValue":s[9]||(s[9]=a=>e.FormData.Ns4Name=a),onInput:s[10]||(s[10]=a=>e.IsNewNs(e.FormData.Ns4Name,"Ns4Name"))},null,8,["modelValue"]),o("div",{class:"popover",innerHTML:(r=(N=e.getConfigPrompts)==null?void 0:N.Domain)==null?void 0:r.NsName},null,8,ue)]),o("div",ve,[d(l,{label:"IP адрес",modelValue:e.FormData.Ns4IP,"onUpdate:modelValue":s[11]||(s[11]=a=>e.FormData.Ns4IP=a),name:"Ns4IP",disabled:e.FormNs4},null,8,["modelValue","disabled"]),o("div",{class:"popover",innerHTML:(_=e.getConfigPrompts)==null?void 0:_.IP},null,8,Ie)]),d(D,{onClick:s[12]||(s[12]=a=>e.saveChanges()),label:"Сохранить изменения","is-loading":t._is_loading},null,8,["is-loading"])])])}const ge={components:{},props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(t,{emit:s}){const b=W(),e=E(),M=x("emitter"),V=c(!1),l=c(null),D=c(!0),v=c(!0),I=c(!0),P=c(!0),n=c({Domain:"",Ns1Name:"",Ns1IP:"",Ns2Name:"",Ns2IP:"",Ns3Name:"",Ns3IP:"",Ns4Name:"",Ns4IP:""});function f(){var m,i,N,r,_,a,C,L,p;V.value=!0,b.DomainOrderNsChange({DomainOrderID:t.data.ID,Domain:(m=n.value)==null?void 0:m.Domain,Ns1Name:(i=n.value)==null?void 0:i.Ns1Name,Ns1IP:(N=n.value)==null?void 0:N.Ns1IP,Ns2Name:(r=n.value)==null?void 0:r.Ns2Name,Ns2IP:(_=n.value)==null?void 0:_.Ns2IP,Ns3Name:(a=n.value)==null?void 0:a.Ns3Name,Ns3IP:(C=n.value)==null?void 0:C.Ns3IP,Ns4Name:(L=n.value)==null?void 0:L.Ns4Name,Ns4IP:(p=n.value)==null?void 0:p.Ns4IP}).then(H=>{let{result:T,error:De}=H;T==="SUCCESS"&&b.fetchDomains(),V.value=!1,s("modalClose")})}const F=B(()=>{var m,i;return(i=(m=e.ConfigList)==null?void 0:m.Messages)==null?void 0:i.Prompts});O(()=>{l.value=t.data.Domain,n.value={Domain:t.data.Domain,Ns1Name:t.data.Ns1Name,Ns1IP:t.data.Ns1IP,Ns2Name:t.data.Ns2Name,Ns2IP:t.data.Ns2IP,Ns3Name:t.data.Ns3Name,Ns3IP:t.data.Ns3IP,Ns4Name:t.data.Ns4Name,Ns4IP:t.data.Ns4IP},["Ns1Name","Ns2Name","Ns3Name","Ns4Name"].forEach(i=>{g(n.value[i],i)})});function g(m,i){const N=m.replace(/ /g,""),r=t.data.Domain,_=l.value,a=N.includes(r)||N.includes(_);switch(i){case"Ns1Name":D.value=!a;break;case"Ns2Name":v.value=!a;break;case"Ns3Name":I.value=!a;break;case"Ns4Name":P.value=!a;break}}return j(()=>{M.emit("close-modal")}),{FormData:n,FormNs1:D,FormNs2:v,FormNs3:I,FormNs4:P,getConfigPrompts:F,IsNewNs:g,saveChanges:f}}},Ce=y(ge,[["render",Pe],["__scopeId","data-v-49dec2f6"]]);export{Ce as default};
