import{o as r,c as d,a as C,b as I,t as $,k as p,n as b,_ as S,r as h,i as L,a1 as B,a2 as N,a3 as A,f as T,a6 as E,g as H,h as M,x as g,w as O,F as R,v as V,a7 as j}from"./index-1c309346.js";import{I as w}from"./IconClose-7cf50ca7.js";const F={key:0},J={key:0,class:"notify-title"},K=["innerHTML"];function P(c,n,o,a,l,e){var i,u;const y=w;return a.show?(r(),d("div",F,[C("div",{class:b(["notify","notify--"+o.notify.class])},[C("button",{class:"notify-close",onClick:n[0]||(n[0]=m=>a.closeAlert())},[I(y)]),(i=o.notify)!=null&&i.title?(r(),d("div",J,$(o.notify.title),1)):p("",!0),(u=o.notify)!=null&&u.text?(r(),d("p",{key:1,innerHTML:o.notify.text},null,8,K)):p("",!0)],2)])):p("",!0)}const q={components:{IconClose:w},props:{show:{type:Boolean,default:!1},notify:{type:Object,default:()=>{}}},emits:["close"],setup(c,{emit:n}){const o=h(!1);function a(){o.value=!1,n("close")}return L(()=>{o.value=c.show}),{show:o,closeAlert:a}}},z=S(q,[["render",P],["__scopeId","data-v-5af090cb"]]),G=B("clauses",()=>{const c=h(null);function n(a){try{JSON.parse(a)}catch{return!1}return!0}async function o(a){let l=null;return await N.post(""+A.fetchClauses,{Partition:a}).then(e=>{n(e)&&(l=e==null?void 0:e.data)}),l}return{clausesList:c,fetchClauses:o}});const X={__name:"ClausesKeeper",props:["partition"],setup(c){const n=c,o=G(),a=T(),l=E();h("");const e=h([]),y=H(()=>a.userInfo);function i(t){var s;return`clause_${(s=y.value)==null?void 0:s.ID}_${t==null?void 0:t.ID}`}function u(t){return document.cookie.match(RegExp(`(?:^|;\\s*)${i(t)}=([^;]*)`))===null}function m(t){let s=new Date;s.setDate(7+s.getDate()),document.cookie=`${i(t)}=hidden; path=/; expires=${s}`,f()}function f(){let t=[];return Object.keys((e==null?void 0:e.value)||{}).forEach((s,x)=>{u(e==null?void 0:e.value[s])&&t.push(e==null?void 0:e.value[s])}),t}function v(){o.fetchClauses((n==null?void 0:n.partition)||`Header:${l.fullPath}`).then(t=>{t&&(e.value=t,f())})}return v(),M(n,()=>{v()}),(t,s)=>{var k;const x=z;return((k=f())==null?void 0:k.length)>0?(r(),g(j,{key:0,class:"clauses-keeper",name:"list",tag:"div"},{default:O(()=>[(r(!0),d(R,null,V(f(),(_,D)=>(r(),g(x,{class:"clauses-alert",key:D,notify:{text:_==null?void 0:_.Text,class:"basic"},show:!0,onClose:U=>m(_)},null,8,["notify","onClose"]))),128))]),_:1})):p("",!0)}}};export{X as _};
