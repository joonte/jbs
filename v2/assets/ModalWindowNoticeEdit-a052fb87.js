import{o as N,c as v,a as s,t as r,Z as C,af as D,y as U,k as I,b as g,_ as k,S as x,r as b,h as y}from"./index-145d9cde.js";import{u as E}from"./globalActions-de64efb8.js";import{_ as V}from"./ButtonDefault-6a3a5e1e.js";const h={class:"modal__body"},w={class:"list-item__title"},S={class:"modal__input-row"},T={class:"list-form_col list-form_col--xl"},B={class:"search-field form-field"},M={class:"modal__buttons"};function O(t,i,e,d,_,f){var u,a,n,c,o;const m=V;return N(),v("div",h,[s("div",w,"Редактирование примечания, заказ # "+r((u=e.data)==null?void 0:u.OrderID),1),s("div",S,[s("div",T,[s("div",B,[C(s("textarea",{"onUpdate:modelValue":i[0]||(i[0]=l=>d.inputValue=l)},null,512),[[D,d.inputValue]])])])]),s("div",M,[((a=e.data)==null?void 0:a.UserNotice)!==null&&((n=e.data)==null?void 0:n.UserNotice)!==""?(N(),U(m,{key:0,class:"modal__button",label:"Удалить","is-loading":d.isLoading,onClick:i[1]||(i[1]=l=>d.deleteNotice())},null,8,["is-loading"])):I("",!0),g(m,{class:"modal__button",label:((c=e.data)==null?void 0:c.UserNotice)!==null&&((o=e.data)==null?void 0:o.UserNotice)!==""?"Изменить":"Добавить","is-loading":d.isLoading,onClick:i[2]||(i[2]=l=>d.editNotice())},null,8,["label","is-loading"])])])}const L={props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(t,{emit:i}){const e=E(),d=x("emitter"),_=b(null),f=b(!1);function m(){var a,n;e==null||e.NoticeEdit({TableID:(a=t.data)==null?void 0:a.noteTable,RowID:(n=t.data)==null?void 0:n.OrderID,UserNotice:_.value}).then(c=>{var o,l;c==="SUCCESS"&&(i("modalClose"),(o=t==null?void 0:t.data)!=null&&o.emit&&d.emit((l=t==null?void 0:t.data)==null?void 0:l.emit))})}function u(){var a,n;e==null||e.NoticeEdit({TableID:(a=t.data)==null?void 0:a.noteTable,RowID:(n=t.data)==null?void 0:n.OrderID,UserNotice:""}).then(c=>{var o,l;c==="SUCCESS"&&(i("modalClose"),(o=t==null?void 0:t.data)!=null&&o.emit&&d.emit((l=t==null?void 0:t.data)==null?void 0:l.emit))})}return y(()=>{var a;_.value=(a=t==null?void 0:t.data)==null?void 0:a.UserNotice}),{inputValue:_,isLoading:f,editNotice:m,deleteNotice:u}}},Z=k(L,[["render",O],["__scopeId","data-v-baddb715"]]);export{Z as default};
