import{_ as T}from"./EmptyStateBlock-Dks67PsT.js";import{_ as H}from"./IconEye-BDq8X8km.js";import{_ as L}from"./ButtonDefault-tVMF5ozh.js";import{_ as W}from"./SettingsEngineItem-C3F6FBYh.js";import{r as j}from"./bootstrap-vue-next-9iQSFcL_.js";import{_ as z}from"./ServicesContractBalanceBlock-CvRiuffP.js";import{_ as J}from"./ClausesKeeper-DtaNhp0a.js";import{_ as K}from"./IconRotate-D2tnBUTY.js";import{_ as q}from"./StatusBadge-DroW9lKR.js";import{_ as Q}from"./BlockBalanceAgreement-ckI0MbGb.js";import{c as v,b as r,a as t,I as x,t as i,J as X,n as Y,e as m,w as u,G as Z,i as $,K as tt,F as et,H as st,u as ot,r as y,x as it,f as V,g as nt,d as rt,o as p}from"./index-DxPA2ffO.js";import{u as lt}from"./contracts-DD2O0C6m.js";import{u as at}from"./globalActions-DUlmxNCV.js";import{u as dt}from"./resetServer-BdPP9l0n.js";import{f as A}from"./time-DenPiOX5.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconSettings-B86P2WL5.js";import"./IconProfile-WOpP3Y6y.js";import"./IconCard-BQu6YZod.js";import"./IconClose-Br7S99e8.js";const mt={Waiting:{id:1,label:"Ожидание оплаты",color:"#FFC107",background:"rgba(255,193,7,0.1)"},OnCreate:{id:2,label:"На создании",color:"#459FD1",background:"#ADC1F04C"},Deleted:{id:3,label:"Удален",color:"#DF5747",background:"#DF57471A"},Suspended:{id:4,label:"Заблокирован",color:"#DF5747",background:"#DF57471A"},Active:{id:5,label:"Активен",color:"#28A745",background:"#EAF7ED"}},ct={async setup(){const d=st(),e=lt(),S=ot(),s=at(),I=dt(),O=nt(),D=rt(),c=y(!1),g=y(!1),l=it("emitter");l.on("updateVPSIDPage",()=>{d.fetchVPS()});const f=y(!1),o=V(()=>Object.keys(d.vpsList).map(a=>d.vpsList[a]).find(a=>a.OrderID===O.params.id)),_=V(()=>d.vpsSchemes?.[o.value?.SchemeID]),h=V(()=>S?.userOrders?.[o.value?.OrderID]);function b(){function a(k){c.value=k}l.emit("open-modal",{component:"ReloadVPS",data:{VPSOrderID:o.value?.ID,isReloading:c.value,onReloadStatusChange:a}})}function w(a){l.emit("open-modal",{component:"StatusHistory",data:{modeID:"VPSOrders",rowID:a}})}const P=V(()=>I?.serverGroupsList?.Servers?.[o.value?.ServerID]);function n(a){if(!a)return A(new Date);const k=new Date,U=new Date(k.getTime()+a*24*60*60*1e3);return A(U)}function R(){l.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:o.value?.ID,ServiceID:o.value?.ServiceID}})}function F(){D.push(`/VPSOrders/${o.value?.OrderID}/SchemeChange`),C()}function N(){D.push(`/VPSOrderPay/${o.value?.OrderID}`)}function M(){S.prolongOrder({IsAutoProlong:g.value?0:1,OrderID:o.value?.OrderID})}function C(){l.emit("open-modal",{component:"VPSOrderSchemeChange",data:{VpsID:o.value?.ID,ServerGroup:_.value?.ServersGroupID,emitEvent:"updateVPSIDPage"}})}function E(){l.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:o.value?.ID,ServiceID:o.value?.ServiceID,emitEvent:"updateVPSIDPage"}})}function B(){l.emit("open-modal",{component:"OrderRestore",data:{OrderID:o.value?.OrderID,CostDay:_.value?.CostDay,DaysRemainded:o.value?.DaysRemainded,emitEvent:"updateVPSIDPage"}})}function G(){s.OrderManage({ServiceOrderID:o.value?.ID,OrderID:o.value?.OrderID,ServiceID:o.value?.ServiceID})}return await d.fetchVPS(),await d.fetchVPSSchemes(),await I.fetchServerGroups(),await e.fetchContracts().then(()=>{O.name==="default.MyVPSOrderSchemeChange"&&C()}),await S.fetchUserOrders().then(()=>{g.value=h.value?.IsAutoProlong}),{getVpsOrder:o,passwordShow:f,getVpsScheme:_,isAutoProlong:g,setProlongValue:M,navigateToProlong:N,transferItem:R,vpsStatuses:mt,openPackageChangeModal:C,openPasswordChange:E,openOrderRestore:B,orderManage:G,calculateExpirationDate:n,changeScheme:F,reloadItem:b,isReloading:c,getServerGroup:P,openHistoryStatuses:w}}},vt={key:0,class:"my-vps-order"},ut={class:"section"},pt={class:"container"},gt={class:"section-header"},St={class:"section-title"},Dt={class:"ico"},bt={class:"section-label"},Vt={class:"section-nav"},It={class:"list"},Ot={class:"list-col list-col--md"},ft={class:"list-item"},ht={class:"list-item__row"},wt={class:"list-item__title"},Pt={class:"list-item__status"},Ct={class:"list-item__row"},kt={class:"list-item__ul"},yt={key:0},xt={class:"list-item__row list-item__row--column"},At={class:"list-item__text"},Rt={class:"list-item__text"},Ft={class:"list-item__text"},Nt={class:"list-item__row"},Mt={class:"btn btn--border btn--switch"},Et={class:"list-col list-col--md"},Bt={class:"list-item"},Gt={class:"list-item__row"},Ut={class:"list-item__row list-item__row--table"},Tt={class:"list-item__item"},Ht={class:"list-item__row list-item__row--table"},Lt={class:"list-item__item"},Wt={class:"list-item__row list-item__row--table password-box"},jt={class:"list-item__item hide-button"},zt={key:0,class:"password-hidden"},Jt={class:"list-item__row list-item__row--table"},Kt={class:"list-item__item"},qt={class:"list-col list-col--md"},Qt={class:"list-item"},Xt={class:"list-item__row list-item__row--table"},Yt={class:"list-item__item"},Zt={class:"list-item__row list-item__row--table"},$t={class:"list-item__item"},te={class:"list-col list-col--md"},ee={class:"list-item"},se={class:"list-item__row list-item__row--table"},oe={class:"list-item__item"},ie={key:1,class:"section"},ne={class:"container"};function re(d,e,S,s,I,O){const D=Q,c=q,g=K,l=Z("router-link"),f=J,o=z,_=j,h=W,b=L,w=H,P=T;return p(),v(et,null,[r(D),s.getVpsOrder?.ID?(p(),v("div",vt,[t("div",ut,[t("div",pt,[t("div",gt,[t("h1",St,i(s.getVpsOrder?.Domain),1),r(c,{status:s.getVpsOrder?.StatusID,"status-table":"VPSOrders",onClick:e[0]||(e[0]=n=>s.openHistoryStatuses(s.getVpsOrder?.ID))},null,8,["status"]),x(t("button",{class:Y(["btn btn--md btn--border btn--rotate btn--rotate_green button-large",{"btn--rotate_gray":s.getVpsOrder?.StatusID!=="Active"||s.isReloading,"btn--rotate_loading":s.isReloading}]),title:"Перезагрузить виртуальный сервер",onClick:e[1]||(e[1]=(...n)=>s.reloadItem&&s.reloadItem(...n))},[e[13]||(e[13]=m(" Включен ",-1)),t("span",Dt,[r(g)])],2),[[X,s.getVpsOrder?.StatusID==="Active"]]),t("div",bt,"VPS/VDS сервер # "+i(s.getVpsOrder?.OrderID),1),t("div",Vt,[r(l,{class:"section-nav__item",to:`/VPSOrders/${s.getVpsOrder?.OrderID}`},{default:u(()=>e[14]||(e[14]=[m("Сервер",-1)])),_:1,__:[14]},8,["to"]),r(l,{class:"section-nav__item",to:`/VPSServices/${s.getVpsOrder?.OrderID}`},{default:u(()=>e[15]||(e[15]=[m("Услуги",-1)])),_:1,__:[15]},8,["to"])])]),r(f),t("div",It,[r(o,{"contract-id":s.getVpsOrder?.ContractID,onTransfer:e[2]||(e[2]=n=>s.transferItem())},null,8,["contract-id"]),t("div",Ot,[t("div",ft,[t("div",ht,[t("div",wt,i(s.getVpsScheme?.Name),1),t("div",Pt,[r(c,{status:s.getVpsOrder?.StatusID,"status-table":"VPSOrders",onClick:e[3]||(e[3]=n=>s.openHistoryStatuses(s.getVpsOrder?.ID))},null,8,["status"])]),r(h,null,{default:u(()=>[r(_,{onClick:e[4]||(e[4]=n=>s.changeScheme())},{default:u(()=>e[16]||(e[16]=[m("Изменить тариф",-1)])),_:1,__:[16]}),r(_,{onClick:e[5]||(e[5]=n=>s.openOrderRestore())},{default:u(()=>e[17]||(e[17]=[m("Просмотреть учет заказа",-1)])),_:1,__:[17]}),r(_,{onClick:e[6]||(e[6]=n=>s.openPasswordChange())},{default:u(()=>e[18]||(e[18]=[m("Сменить пароль от аккаунта",-1)])),_:1,__:[18]})]),_:1})]),t("div",Ct,[t("ul",kt,[s.getVpsScheme?.SchemeParams?.os?.value?(p(),v("li",yt,i(s.getVpsScheme?.SchemeParams?.os?.value),1)):$("",!0),t("li",null,i(`${s.getVpsScheme?.SchemeParams?.hdd_mib?.InternalName} ${s.getVpsScheme?.SchemeParams?.hdd_mib?.Value} ${s.getVpsScheme?.SchemeParams?.hdd_mib?.Unit}`),1),t("li",null,i(`RAM ${s.getVpsScheme?.SchemeParams?.ram_mib?.Value} ${s.getVpsScheme?.SchemeParams?.ram_mib?.Unit}`),1),t("li",null,i(`Канал ${s.getVpsScheme?.SchemeParams?.net_bandwidth_mbitps?.Value} ${s.getVpsScheme?.SchemeParams?.net_bandwidth_mbitps?.Unit}`),1)])]),t("div",xt,[t("div",At,i(s.getVpsScheme?.CostMonth)+" ₽ в месяц",1),t("div",Rt,"Дней осталось "+i(s.getVpsOrder?.DaysRemainded),1),t("div",Ft," Дата окончания "+i(s.calculateExpirationDate(s.getVpsOrder?.DaysRemainded)),1)]),t("div",Nt,[r(b,{label:s.getVpsOrder?.StatusID==="Suspended"||s.getVpsOrder?.StatusID==="Waiting"?"Оплатить":"Продлить",onClick:e[7]||(e[7]=n=>s.navigateToProlong())},null,8,["label"]),t("label",Mt,[x(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=n=>s.isAutoProlong=n),onInput:e[9]||(e[9]=n=>s.setProlongValue())},null,544),[[tt,s.isAutoProlong]]),e[19]||(e[19]=t("span",{class:"btn-switch__text"},"Автопродление",-1)),e[20]||(e[20]=t("span",{class:"btn-switch__toggle"},null,-1))])])])]),t("div",Et,[t("div",Bt,[t("div",Gt,[e[21]||(e[21]=t("div",{class:"list-item__title"},"Панель управления",-1)),r(b,{class:"ml-auto",onClick:e[10]||(e[10]=n=>s.orderManage()),label:"Вход"})]),t("div",Ut,[e[22]||(e[22]=t("div",{class:"list-item__item"},"Адрес",-1)),t("div",Tt,i(`https://${s.getServerGroup?.Address}/manager`),1)]),t("div",Ht,[e[23]||(e[23]=t("div",{class:"list-item__item"},"Логин",-1)),t("div",Lt,i(s.getVpsOrder?.Login),1)]),t("div",Wt,[e[25]||(e[25]=t("div",{class:"list-item__item"},"Пароль",-1)),t("div",jt,[s.passwordShow?(p(),v("span",zt,i(s.getVpsOrder?.Password),1)):(p(),v("button",{key:1,class:"btn btn--border btn--md password-box",onClick:e[11]||(e[11]=n=>s.passwordShow=!0)},[r(w),e[24]||(e[24]=m(" Показать ",-1))])),t("button",{class:"btn btn--border btn--md hide-button",onClick:e[12]||(e[12]=n=>s.openPasswordChange())}," Сменить пароль ")])]),t("div",Jt,[e[26]||(e[26]=t("div",{class:"list-item__item"},"IP адрес",-1)),t("div",Kt,i(s.getVpsOrder?.IP?s.getVpsOrder?.IP:"-"),1)])])]),t("div",qt,[t("div",Qt,[e[29]||(e[29]=t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Именные сервера")],-1)),t("div",Xt,[e[27]||(e[27]=t("div",{class:"list-item__item"},"Первичный сервер",-1)),t("div",Yt,i(s.getVpsOrder?.Ns1Name),1)]),t("div",Zt,[e[28]||(e[28]=t("div",{class:"list-item__item"},"Вторичный сервер",-1)),t("div",$t,i(s.getVpsOrder?.Ns2Name),1)])])]),t("div",te,[t("div",ee,[e[31]||(e[31]=t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Паркованный домен")],-1)),t("div",se,[e[30]||(e[30]=t("div",{class:"list-item__item"},"Паркованный домен",-1)),t("div",oe,i(s.getVpsOrder?.Domain),1)])])])])])]),e[32]||(e[32]=t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1))])):(p(),v("div",ie,[t("div",ne,[r(P,{label:"Заказ не найден"})])]))],64)}const Ce=_t(ct,[["render",re],["__scopeId","data-v-c19ce7c2"]]);export{Ce as default};
