import{_ as A}from"./LoadingIndicator-DXjOL6Pz.js";import{_ as C}from"./EmptyStateBlock-Ad1AmtSS.js";import{_ as $,a as N}from"./BlockDependentServices-CX2fnrCR.js";import{_ as R}from"./BlockAdditionalServices-C2o0wt_v.js";import{_ as E}from"./ClausesKeeper-gPyacQ05.js";import{_ as G}from"./BlockBalanceAgreement-DSLTUOoQ.js";import{G as j,r as f,f as n,g as F,D as T,c as D,b as s,C as i,a as m,h as K,t as U,w as x,E as q,F as z,d as H,x as J,o,e as k}from"./index-C9dBN6m4.js";import{u as M}from"./services-moLhYNFg.js";import{u as Q}from"./orders-D_JLVTov.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ButtonDefault-B1FApUky.js";import"./BlueButton.vue_vue_type_script_setup_true_lang-q3k2Q2g8.js";import"./StatusBadge-DZmmWv0G.js";import"./bootstrap-vue-next-BglOzul_.js";import"./ServiceListOrderSelection-DnnRkveR.js";import"./TotalAmount.vue_vue_type_script_setup_true_lang-BJFSjxtt.js";import"./BasicInput-VlbY6GiE.js";import"./component-D8Pmx5O0.js";import"./BlockSelectContract-Dn4S5pYG.js";import"./contracts-BEc0DZS2.js";import"./multiselect-B6DlyfA6.js";import"./IconClose-CgjzG0Yf.js";import"./index-D0iqQ1zq.js";const W={key:0,class:"tw-px-4 md:tw-px-8 tw-mb-6"},X={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},Y={class:"tw-flex tw-items-center tw-gap-8 tw-border-b tw-border-gray-200 tw-mt-4 tw-whitespace-nowrap tw-mb-6"},ye={__name:"VPSServices",async setup(Z){let l,p;const b=F();H();const a=j(),u=M(),_=Q();J("emitter");const c=f([]),d=f(!0),e=n(()=>Object.values(a.vpsList).find(r=>r&&r.OrderID===Number(b.params.id))),v=n(()=>a.vpsSchemes[e.value.SchemeID]),w=n(()=>!e.value||!v.value?null:{ServiceID:e.value.ServiceID,ServersGroupID:v.value.ServersGroupID}),y=n(()=>e.value?_.ordersList.filter(r=>r.DependOrderID===e.value.OrderID&&r.ServiceID&&u.ServicesList[r.ServiceID]).sort((r,t)=>r.ID-t.ID):[]);return[l,p]=T(()=>Promise.all([a.fetchVPS(),a.fetchVPSSchemes(),u.fetchServices(),_.fetchAllOrders()])),await l,p(),d.value=!1,(r,t)=>{const I=G,S=q("RouterLink"),V=E,g=$,h=R,O=N,B=C,P=A;return o(),D(z,null,[s(I),e.value?(o(),D("div",W,[t[3]||(t[3]=m("h1",{class:"tw-text-xl sm:tw-text-4xl"},"Дополнительные услуги",-1)),m("div",X,"VPS/VDS сервер #"+U(e.value.OrderID),1),m("div",Y,[s(S,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/VPSOrders/${e.value.OrderID}`},{default:x(()=>t[1]||(t[1]=[k(" Сервер ",-1)])),_:1,__:[1]},8,["to"]),s(S,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/VPSOrders/${e.value.OrderID}/Services`},{default:x(()=>t[2]||(t[2]=[k(" Услуги ",-1)])),_:1,__:[2]},8,["to"])]),s(V),s(g,{services:y.value},null,8,["services"]),w.value?(o(),i(h,{key:0,modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=L=>c.value=L),"service-search-params":w.value,class:"tw-mt-6"},null,8,["modelValue","service-search-params"])):K("",!0),s(O,{services:c.value,"main-order":e.value},null,8,["services","main-order"])])):d.value?(o(),i(P,{key:2,class:"tw-mt-10"})):(o(),i(B,{key:1,label:"Заказ не найден"}))],64)}}};export{ye as default};
