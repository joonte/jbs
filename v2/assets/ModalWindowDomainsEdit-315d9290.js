import{o as S,c as k,a,t as w,b as d,p as y,m as E,_ as x,u as B,U as O,r as u,h as j,i as T,D as W,P as A}from"./index-5b1b768e.js";import{u as K}from"./domain-bf3cfe51.js";import{_ as q}from"./ButtonDefault-e9d3cb95.js";import{_ as z}from"./BasicInput-12f04eb5.js";import"./component-21d2217e.js";const v=t=>(y("data-v-e49fb50d"),t=t(),E(),t),G={class:"modal__body"},J=v(()=>a("div",{class:"list-item__title"},"Смена именных серверов",-1)),Q={class:"edit-settings"},R={class:"edit-settings__item"},X={class:"form-field"},Y=v(()=>a("div",{class:"form-field__label"},"Доменное имя",-1)),Z={class:"form-field-input__text"},$=v(()=>a("div",{class:"edit-settings__title"},"Первичный сервер имен",-1)),ee={class:"edit-settings__item"},se=["innerHTML"],ae={class:"edit-settings__item"},oe=["innerHTML"],te=v(()=>a("div",{class:"edit-settings__title"},"Вторичный сервер имен",-1)),ne={class:"edit-settings__item"},ie=["innerHTML"],le={class:"edit-settings__item"},me=["innerHTML"],de=v(()=>a("div",{class:"edit-settings__title"},"Дополнительный сервер имен",-1)),Ne={class:"edit-settings__item"},re=["innerHTML"],_e={class:"edit-settings__item"},ue=["innerHTML"],ve=v(()=>a("div",{class:"edit-settings__title"},"Расширенный сервер имен",-1)),ce={class:"edit-settings__item"},Ie=["innerHTML"],Pe={class:"edit-settings__item"},ge=["innerHTML"];function De(t,s,V,e,p,M){var c,I,P,n,g,b,D,f,i,l,N,r;const m=z,F=q;return S(),k("div",G,[J,a("div",Q,[a("div",R,[a("div",X,[Y,a("div",Z,w(e.FormData.Domain),1)])]),$,a("div",ee,[d(m,{label:"Доменный адрес",modelValue:e.FormData.Ns1Name,"onUpdate:modelValue":s[0]||(s[0]=o=>e.FormData.Ns1Name=o),onInput:s[1]||(s[1]=o=>e.IsNewNs(e.FormData.Ns1Name,"Ns1Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:(I=(c=e.getConfigPrompts)==null?void 0:c.Domain)==null?void 0:I.NsName},null,8,se)]),a("div",ae,[d(m,{label:"IP адрес",modelValue:e.FormData.Ns1IP,"onUpdate:modelValue":s[2]||(s[2]=o=>e.FormData.Ns1IP=o),name:"Ns1IP",disabled:e.FormNs1},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:(P=e.getConfigPrompts)==null?void 0:P.IP},null,8,oe)]),te,a("div",ne,[d(m,{label:"Доменный адрес",modelValue:e.FormData.Ns2Name,"onUpdate:modelValue":s[3]||(s[3]=o=>e.FormData.Ns2Name=o),onInput:s[4]||(s[4]=o=>e.IsNewNs(e.FormData.Ns2Name,"Ns2Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:(g=(n=e.getConfigPrompts)==null?void 0:n.Domain)==null?void 0:g.NsName},null,8,ie)]),a("div",le,[d(m,{label:"IP адрес",modelValue:e.FormData.Ns2IP,"onUpdate:modelValue":s[5]||(s[5]=o=>e.FormData.Ns2IP=o),name:"Ns2IP",disabled:e.FormNs2},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:(b=e.getConfigPrompts)==null?void 0:b.IP},null,8,me)]),de,a("div",Ne,[d(m,{label:"Доменный адрес",modelValue:e.FormData.Ns3Name,"onUpdate:modelValue":s[6]||(s[6]=o=>e.FormData.Ns3Name=o),onInput:s[7]||(s[7]=o=>e.IsNewNs(e.FormData.Ns3Name,"Ns3Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:(f=(D=e.getConfigPrompts)==null?void 0:D.Domain)==null?void 0:f.NsName},null,8,re)]),a("div",_e,[d(m,{label:"IP адрес",modelValue:e.FormData.Ns3IP,"onUpdate:modelValue":s[8]||(s[8]=o=>e.FormData.Ns3IP=o),name:"Ns3IP",disabled:e.FormNs3},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:(i=e.getConfigPrompts)==null?void 0:i.IP},null,8,ue)]),ve,a("div",ce,[d(m,{label:"Доменный адрес",modelValue:e.FormData.Ns4Name,"onUpdate:modelValue":s[9]||(s[9]=o=>e.FormData.Ns4Name=o),onInput:s[10]||(s[10]=o=>e.IsNewNs(e.FormData.Ns4Name,"Ns4Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:(N=(l=e.getConfigPrompts)==null?void 0:l.Domain)==null?void 0:N.NsName},null,8,Ie)]),a("div",Pe,[d(m,{label:"IP адрес",modelValue:e.FormData.Ns4IP,"onUpdate:modelValue":s[11]||(s[11]=o=>e.FormData.Ns4IP=o),name:"Ns4IP",disabled:e.FormNs4},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:(r=e.getConfigPrompts)==null?void 0:r.IP},null,8,ge)]),d(F,{onClick:s[12]||(s[12]=o=>e.saveChanges()),label:"Сохранить изменения","is-loading":t._is_loading},null,8,["is-loading"])])])}const fe={components:{},props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(t,{emit:s}){const V=K(),e=B(),p=O("emitter"),M=u(!1),m=u(null),F=u(!0),c=u(!0),I=u(!0),P=u(!0),n=u({Domain:"",Ns1Name:"",Ns1IP:"",Ns2Name:"",Ns2IP:"",Ns3Name:"",Ns3IP:"",Ns4Name:"",Ns4IP:""});function g(){var i,l,N,r,o,_,C,L,H;M.value=!0,V.DomainOrderNsChange({DomainOrderID:t.data.ID,Domain:(i=n.value)==null?void 0:i.Domain,Ns1Name:(l=n.value)==null?void 0:l.Ns1Name,Ns1IP:(N=n.value)==null?void 0:N.Ns1IP,Ns2Name:(r=n.value)==null?void 0:r.Ns2Name,Ns2IP:(o=n.value)==null?void 0:o.Ns2IP,Ns3Name:(_=n.value)==null?void 0:_.Ns3Name,Ns3IP:(C=n.value)==null?void 0:C.Ns3IP,Ns4Name:(L=n.value)==null?void 0:L.Ns4Name,Ns4IP:(H=n.value)==null?void 0:H.Ns4IP}).then(h=>{let{result:U,error:Fe}=h;U==="SUCCESS"&&V.fetchDomains(),M.value=!1,s("modalClose")})}const b=j(()=>{var i,l;return(l=(i=e.ConfigList)==null?void 0:i.Messages)==null?void 0:l.Prompts});T(()=>{m.value=t.data.Domain,n.value={Domain:t.data.Domain,Ns1Name:t.data.Ns1Name,Ns1IP:t.data.Ns1IP,Ns2Name:t.data.Ns2Name,Ns2IP:t.data.Ns2IP,Ns3Name:t.data.Ns3Name,Ns3IP:t.data.Ns3IP,Ns4Name:t.data.Ns4Name,Ns4IP:t.data.Ns4IP},["Ns1Name","Ns2Name","Ns3Name","Ns4Name"].forEach(l=>{D(n.value[l],l)})});function D(i,l){const N=i.replace(/ /g,""),r=t.data.Domain,o=m.value,_=N.includes(r)||N.includes(o);switch(l){case"Ns1Name":F.value=!_;break;case"Ns2Name":c.value=!_;break;case"Ns3Name":I.value=!_;break;case"Ns4Name":P.value=!_;break}}W(()=>{p.emit("close-modal")});const f=i=>{i.key==="Enter"&&g()};return T(()=>{document.addEventListener("keyup",f)}),A(()=>{document.removeEventListener("keyup",f)}),{FormData:n,FormNs1:F,FormNs2:c,FormNs3:I,FormNs4:P,getConfigPrompts:b,IsNewNs:D,saveChanges:g}}},Le=x(fe,[["render",De],["__scopeId","data-v-e49fb50d"]]);export{Le as default};
