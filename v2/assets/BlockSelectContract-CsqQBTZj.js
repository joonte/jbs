import{u as h}from"./index-BO2gwtUe.js";import{s as C}from"./multiselect-DElL0Rlw.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{N as g,r as N,f as V,I as w,o as d,c,t as l,h as B,a as s,e as D,b as I,w as m,v as y,O as f}from"./index-Codq73aV.js";const x={key:0,class:"tw-mb-2"},T={class:"form-field form-field--basic"},L={class:"form-field-input__wrapper"},P={class:"tw-mr-2"},k={class:"tw-text-right"},E={__name:"BlockSelectContract",props:f({title:{type:String,default:""},hasBalance:{type:Boolean,default:!1},allowPartner:{type:Boolean,default:!1}},{modelValue:{type:Number},modelModifiers:{}}),emits:f(["buttonClicked","update"],["update:modelValue"]),setup(r,{emit:p}){const n=r,_=g(r,"modelValue"),v=p,i=h(),u=N(null),o=V(()=>{const a=["Natural","Juridical","Default","Public","Individual","NaturalPartner"];return Object.values(i.contractsList).filter(e=>!(!a.includes(e.TypeID)||e.IsHidden||!n.allowPartner&&e.TypeID==="NaturalPartner"||n.hasBalance&&Number(e.Balance)<=0)).map(e=>({value:Number(e.ID),name:e.Customer,balance:e.Balance}))});function b(a){_.value=a,v("update")}return w(()=>{if(o.value?.length&&i.contractsList){const a=o.value[0].value;i.contractsList[a]?u.value=a:console.error("Договор не найден:",a)}}),(a,e)=>(d(),c("div",null,[r.title?(d(),c("h2",x,l(n.title),1)):B("",!0),s("div",T,[e[1]||(e[1]=s("div",{class:"form-field__label"},[D(" Выбрать договор "),s("span",null,"*")],-1)),s("div",L,[I(y(C),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),class:"multiselect--white tw-h-[44px]",placeholder:"Выбрать договор",label:"name",options:o.value,disabled:o.value?.length<=1,onChange:b},{singlelabel:m(({value:t})=>[s("div",P," # "+l(t.value?t.value.toString().padStart(5,"0"):String(t).padStart(5,"0"))+" / "+l(t.name)+" / "+l(t.balance+" руб"),1)]),option:m(({option:t})=>[s("div",k," # "+l(t.value.toString().padStart(5,"0"))+" / "+l(t.name)+" / "+l(t.balance+" руб"),1)]),_:1},8,["modelValue","options","disabled"])])])]))}},j=S(E,[["__scopeId","data-v-3cdd6238"]]);export{j as _};
