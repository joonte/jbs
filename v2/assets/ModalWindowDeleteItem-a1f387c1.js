import{o as openBlock,c as createElementBlock,b as createVNode,a as createBaseVNode,t as toDisplayString,_ as _export_sfc,R as inject,r as ref}from"./index-ed1f28f8.js";import{I as IconHelpCircle}from"./IconHelpCircle-4bbb8c92.js";import{u as useDeleteStore}from"./globalActions-55d313ae.js";import{_ as __unplugin_components_0}from"./ButtonDefault-a8aacc82.js";const _hoisted_1={class:"modal__body"},_hoisted_2={class:"modal__info"},_hoisted_3={class:"modal__alert-title"};function render(s,e,o,t,l,n){var c;const a=IconHelpCircle,d=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(a,{class:"modal__alert-icon"}),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,toDisplayString((c=o.data)==null?void 0:c.message),1)]),createVNode(d,{class:"modal__alert-button",onClick:e[0]||(e[0]=i=>t.deleteHosting()),label:"УДАЛИТЬ","is-loading":t.isLoading},null,8,["is-loading"])])}const ModalWindowDeleteItem_vue_vue_type_style_index_0_scoped_80541df5_lang="",_sfc_main={components:{IconHelpCircle},props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(props,{emit}){const deleteStore=useDeleteStore(),emitter=inject("emitter"),isLoading=ref(!1);function deleteHosting(){var s,e,o;if(isLoading.value=!0,console.log(props.data),props.data&&((s=props.data)!=null&&s.callback)){const t=props.data.callback.match(/RowsIDs:(\d+)/);deleteStore.deleteItem({TableID:(e=props.data)==null?void 0:e.tableID,RowsIDs:t[1]}).then(({result:l,error:n})=>{var a;console.log(props.data),console.log(l),console.log(n),l==="SUCCESS"&&(emitter.emit((a=props.data)==null?void 0:a.successEmit),emit("modalClose")),isLoading.value=!1})}else eval((o=props.data)==null?void 0:o.callback),emit("modalClose")}return{deleteHosting,isLoading}}},ModalWindowDeleteItem=_export_sfc(_sfc_main,[["render",render],["__scopeId","data-v-80541df5"]]);export{ModalWindowDeleteItem as default};
