import{_ as k}from"./ButtonDefault-eJbeaBtE.js";import{_ as S}from"./BasicInput-TTn3Hxre.js";import{_ as T}from"./BlockSelectContract-BJLjloC1.js";import{u as g}from"./contracts-BdlSA9YT.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as u,f as y,h as D,s as E,c as F,o as L,a as p,b as r}from"./index-XtiBO-PZ.js";import"./component-YfTGPdLe.js";import"./multiselect-eqvbz1NV.js";const M={class:"modal__body"},U={class:"modal__input-row"},w={__name:"ModalWindowFundsTransfer",emits:["modalClose","buttonClicked"],setup(x,{emit:f}){const c=g(),n=u(null),l=u(null),a=u(null),d=u(!1),v=f,C=y(()=>c?.contractsList);function B(o){const e=Object.values(C.value).find(s=>s.ID===o);e&&(a.value=e.Balance)}function i(){v("modalClose")}function m(){d.value=!0;const o={FromContractID:n.value,ToContractID:l.value,Summ:a.value};c.FundsTransfer(o).then(e=>{e.status==="success"&&i(),d.value=!1})}const _=o=>{o.key==="Enter"&&m()};return D(()=>{document.addEventListener("keyup",_),c.fetchContracts(),console.log(1)}),E(()=>{document.removeEventListener("keyup",_)}),(o,e)=>{const s=T,V=S,b=k;return L(),F("div",M,[e[3]||(e[3]=p("div",{class:"list-item__title"},"Перевод средств между счетами",-1)),p("div",U,[r(s,{title:"Откуда",modelValue:n.value,"onUpdate:modelValue":[e[0]||(e[0]=t=>n.value=t),B],isBalance:!0,onButtonClicked:i},null,8,["modelValue"]),r(s,{title:"Куда",isTransfer:!0,modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),onButtonClicked:i},null,8,["modelValue"]),r(V,{label:"Сумма",name:"Summ",placeholder:"199.99",modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value=t)},null,8,["modelValue"]),r(b,{class:"modal__button",label:"Сохранить",disabled:n.value===null||l.value===null,"is-loading":d.value,onClick:m},null,8,["disabled","is-loading"])])])}}},h=I(w,[["__scopeId","data-v-366e7066"]]);export{h as default};
