import{o as u,c as m,a as l,b as _,p as f,l as v,_ as k,r as i,h as O,O as y}from"./index-5e313302.js";import{u as I}from"./globalActions-a7429ad5.js";import{_ as b}from"./ButtonDefault-7c216fc6.js";import{_ as C}from"./BlockSelectContract-65c747e2.js";import"./contracts-3351d68f.js";import"./multiselect-bfc29db8.js";const S=o=>(f("data-v-f572788d"),o=o(),v(),o),T={class:"modal__body"},E=S(()=>l("div",{class:"list-item__title"},"Перенос услуги",-1)),g={class:"modal__input-row"},w={class:"modal__input-row"};function D(o,e,n,t,c,d){const a=C,s=b;return u(),m("div",T,[E,l("div",g,[_(a,{title:"",modelValue:t._contract_select,"onUpdate:modelValue":e[0]||(e[0]=r=>t._contract_select=r),onButtonClicked:e[1]||(e[1]=r=>o.closeModal())},null,8,["modelValue"])]),l("div",w,[_(s,{class:"modal__button",label:"Сохранить",onClick:e[2]||(e[2]=r=>t.acceptOrder())})])])}const B={props:{data:{type:Object,default:()=>{}}},emits:["modalClose","buttonClicked"],setup(o,{emit:e}){const n=i(""),t=i(o.data.OrdersTransferID||""),c=I();async function d(){console.log(n.value),console.log(t.value.OrdersTransferID);const s={ContractID:n.value,OrdersTransferID:t.value.OrdersTransferID};try{const{result:r,error:p}=await c.OrdersTransfer(s);r==="SUCCESS"?e("modalClose"):console.error("Error:",p)}catch(r){console.error("Error:",r.message)}}const a=s=>{s.key==="Enter"&&d()};return O(()=>{document.addEventListener("keyup",a)}),y(()=>{document.removeEventListener("keyup",a)}),{acceptOrder:d,orderTransferId:t,_contract_select:n}}},L=k(B,[["render",D],["__scopeId","data-v-f572788d"]]);export{L as default};
