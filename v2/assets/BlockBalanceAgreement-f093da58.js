import{o as i,c as b,b as c,a6 as C,x as v,w as d,a as e,t as o,F as T,y as B,k as S,p as k,l as I,_ as R,e as E,g as f}from"./index-59dbe3d3.js";import{u as w}from"./contracts-d90f6cbb.js";import{z as A,d as N}from"./bootstrap-vue-next.es-faf1dad1.js";import{_ as L}from"./ButtonDefault-a62141a4.js";import{_ as O}from"./IconArrow-ad4e318c.js";const r=a=>(k("data-v-537b5f6d"),a=a(),I(),a),D={key:0,class:"balance__wrapper"},F={class:"balance__agreement"},x={class:"balance__agreement-id"},H={class:"balance__agreement-name"},P={class:"balance__pay"},V={class:"balance__pay-info"},$=r(()=>e("div",{class:"balance__pay-info__title"},"Баланс",-1)),z={class:"balance__pay-info__total"},j=r(()=>e("div",{class:"balance__pay-btn"},null,-1)),q={class:"balance__agreement"},G={class:"balance__agreement-id"},J={class:"balance__agreement-name"},K={class:"balance__pay"},M={class:"balance__pay-info"},Q=r(()=>e("div",{class:"balance__pay-info__title"},"Баланс",-1)),U={class:"balance__pay-info__total"},W={class:"balance__pay-btn"};function X(a,p,l,s,u,_){const t=O,m=L,h=A,g=N;return s.FILTERED_CONTRACTS.length>0?(i(),b("div",D,[c(g,{onHide:a.closeSublist},C({default:d(()=>[(i(!0),b(T,null,v(s.FILTERED_CONTRACTS,n=>(i(),B(h,{key:n.value},{default:d(()=>[e("div",q,[e("div",G,o(n.value.padStart(5,"0")),1),e("div",J,o(n.name),1)]),e("div",K,[e("div",M,[Q,e("div",U,o(n.balance)+" ₽",1)]),e("div",W,[c(m,{class:"btn-pay",label:"Пополнить",onClick:y=>s.navigateToBalancePage(n.value)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:2},[v(s.FILTERED_CONTRACTS,n=>({name:"button-content",fn:d(()=>[e("div",F,[e("div",x,o(n.value.padStart(5,"0")),1),e("div",H,o(n.name),1),c(t)]),e("div",P,[e("div",V,[$,e("div",z,o(n.balance)+" ₽",1)]),j,c(m,{class:"btn-pay",label:"Пополнить",onClick:y=>s.navigateToBalancePage(n.value)},null,8,["onClick"])])])}))]),1032,["onHide"])])):S("",!0)}const Y={async setup(){const a=w(),p=E(),l=f(()=>a==null?void 0:a.contractsList),s=f(()=>Object.keys(l.value).map(_=>{const t=l.value[_];return(t.Orders>0||t.Balance>0)&&t.IsHidden===!1?{value:t.ID,name:t.Customer,balance:t.Balance}:null}).filter(_=>_!==null));function u(_){p.push(`/Balance/${_}`)}return await a.fetchContracts(),{navigateToBalancePage:u,FILTERED_CONTRACTS:s}}},se=R(Y,[["render",X],["__scopeId","data-v-537b5f6d"]]);export{se as B};
