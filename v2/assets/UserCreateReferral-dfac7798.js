import{o as w,c as b,b as p,a as e,t as D,Z as c,af as d,p as U,l as S,_ as y,f as B,a7 as N,e as P,S as x,r as v,g as h}from"./index-145d9cde.js";import{u as I}from"./contracts-009c925b.js";import{s as k}from"./multiselect-a2d623ca.js";import{B as g}from"./BlockBalanceAgreement-650ad03e.js";import{_ as C}from"./ButtonDefault-6a3a5e1e.js";import{_ as E}from"./ClausesKeeper-d3875457.js";import"./bootstrap-vue-next.es-759b1c9f.js";import"./IconArrow-f2b12a71.js";import"./IconClose-f461656c.js";const l=a=>(U("data-v-1f0256d7"),a=a(),S(),a),R={class:"create-referral"},V={class:"section"},A={class:"container"},L={class:"section-header"},M=l(()=>e("h1",{class:"section-title"},"Создать реферала",-1)),j={class:"section-label"},T={class:"section"},Z={class:"container"},q={class:"create-referral__data"},z={class:"form-field"},F=l(()=>e("div",{class:"form-field__label"},"ФИО",-1)),G={class:"form-field"},H=l(()=>e("div",{class:"form-field__label"},"Email",-1)),J={class:"form-field"},K=l(()=>e("div",{class:"form-field__label"},"Пароль",-1)),O={class:"form-field"},Q=l(()=>e("div",{class:"form-field__label"},"Подтвердить пароль",-1)),W={class:"section"},X={class:"container"},Y={class:"create-referral__data"};function $(a,s,u,t,n,r){var i;const _=g,f=E,m=C;return w(),b("div",R,[p(_),e("div",V,[e("div",A,[e("div",L,[M,e("div",j,D((i=t.getUserInfo)==null?void 0:i.Name),1)]),p(f)])]),e("div",T,[e("div",Z,[e("div",q,[e("label",z,[F,c(e("input",{type:"text",placeholder:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.formData.Name=o)},null,512),[[d,t.formData.Name]])]),e("label",G,[H,c(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>t.formData.Email=o)},null,512),[[d,t.formData.Email]])]),e("label",J,[K,c(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>t.formData.Password=o)},null,512),[[d,t.formData.Password]])]),e("label",O,[Q,c(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=o=>t.formData._Password=o)},null,512),[[d,t.formData._Password]])])])])]),e("div",W,[e("div",X,[e("div",Y,[p(m,{class:"btn--wide",label:"Зарегистрировать","is-loading":t.isLoading,onClick:s[4]||(s[4]=o=>t.createReferral())},null,8,["is-loading"])])])])])}const ee={components:{Multiselect:k,BlockBalanceAgreement:g},async setup(){const a=B(),s=I(),u=N(),t=P();x("emitter");const n=v(!1),r=v({Email:"",Name:"",Password:"",_Password:""}),_=h(()=>a.userInfo),f=h(()=>s.contractsList[u.params.id]);function m(){r.value.Email.length>0&&r.value.Password.length>0&&r.value.Name.length>0&&r.value._Password.length>0&&(n.value=!0,a.registerNewUser({...r.value}).then(i=>{const{response:o,error:se}=i;o==="success"&&t.push({path:"/DependUsers"}),n.value=!1}))}return await a.fetchUserData(),await s.fetchContracts(),{formData:r,getUserInfo:_,getContract:f,isLoading:n,createReferral:m}}},_e=y(ee,[["render",$],["__scopeId","data-v-1f0256d7"]]);export{_e as default};
