import{r as I,f as u,h as b,m as h,c as D,o as S,I as V,a as l,J as w,t as n,e as E,b as N,w as m,v as T}from"./index-XtiBO-PZ.js";import{u as k}from"./contracts-BdlSA9YT.js";import{s as O}from"./multiselect-eqvbz1NV.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"block--mobile_divider"},B={class:"form-field form-field--basic"},C={class:"form-field-input__wrapper"},L={class:"multiselect-option"},M={__name:"BlockSelectProfile",props:["modelValue","title","items","domainOwner"],emits:["update:modelValue","buttonClicked"],setup(r,{emit:p}){const s=r,_=p,v=k(),i=I(null),a=u(()=>v?.profileList),c=u(()=>Object.keys(a.value).map(t=>{const e=a.value[t].TemplateID;if(e==="Natural"||e==="Juridical"||e==="Individual"||e==="NaturalPartner")return{value:a.value[t].ID,name:a.value[t].Name,contractID:a.value[t].ContractID}}).filter(Boolean)),d=u(()=>s.domainOwner?c.value.filter(t=>{const e=a.value[t.value].TemplateID;return e==="Natural"||e==="Juridical"}):c.value);function f(t){_("update:modelValue",t)}return b(()=>{a.value&&(i.value=Object.keys(a.value)?.[0])}),h(s,()=>{i.value=s.modelValue}),(t,e)=>(S(),D("section",null,[V(l("h2",{class:"section-block_title"},n(s.title),513),[[w,s.title]]),l("div",x,[l("div",B,[e[1]||(e[1]=l("div",{class:"form-field__label"},[E(" Выбрать профиль "),l("span",null,"*")],-1)),l("div",C,[N(T(O),{class:"multiselect--white",placeholder:"Выбрать профиль",label:"name",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),options:r.items||d.value,disabled:r.items?.length<=1&&d.value?.length<=1,onChange:f},{singlelabel:m(({value:o})=>[l("span",null,"# "+n(o.value.padStart(5,"0"))+" / "+n(o.name),1)]),option:m(({option:o})=>[l("div",L,"# "+n(o.value.padStart(5,"0"))+" / "+n(o.name),1)]),_:1},8,["modelValue","options","disabled"])])])])]))}},P=g(M,[["__scopeId","data-v-a1853c9d"]]);export{P as _};
