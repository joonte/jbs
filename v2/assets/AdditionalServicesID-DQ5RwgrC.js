import{_ as Q}from"./IconEye-Bjdc0umJ.js";import{_ as Y}from"./StatusBadge-DoJSzeeo.js";import{_ as Z}from"./ServicesContractBalanceBlock-DSORAI4R.js";import{_ as ee}from"./ClausesKeeper-DEgaQ2N3.js";import{_ as te}from"./ButtonDefault-eJbeaBtE.js";import{_ as se}from"./BlockBalanceAgreement-DjWMZ940.js";import{u as re,r as x,E as I,f as v,g as ie,x as oe,h as ae,c as d,b as g,a as s,D as P,i as l,t as c,I as ne,K as le,e as de,F as ce,d as ue,o}from"./index-XtiBO-PZ.js";import{u as ve}from"./postings-D5DA40Zz.js";import{u as me}from"./services-izfy4zss.js";import{u as _e}from"./resetServer-CCXxJWyw.js";import{u as Se}from"./globalActions-Tf2FwXht.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconProfile-twpez_2K.js";import"./IconCard-cFowCC2T.js";import"./contracts-BdlSA9YT.js";import"./IconClose-s_NQ_Q4c.js";const pe={class:"section"},De={class:"container"},ge={class:"section-header"},fe={class:"section-title"},he={class:"section-label"},Oe={class:"list"},we={class:"list-col list-col--md"},be={class:"list-item"},Pe={class:"list-item__row"},ke={class:"list-item__title"},ye={class:"list-item__status"},Ce={class:"list-item__row"},Ne={class:"list-item__ul"},$e={key:0},Ae={class:"list-item__row"},Me={class:"btn btn--border btn--switch"},xe={key:0,class:"list-col list-col--md"},Le={class:"list-item"},Ge={class:"list-item__row"},Be={class:"list-item__row list-item__row--table"},Ee={key:0,class:"list-item__item"},He={key:1,class:"list-item__item"},Te={key:0,class:"list-item__row list-item__row--table"},Ve={class:"list-item__item"},Re={key:1,class:"list-item__row list-item__row--table"},je={class:"list-item__item hide-button"},Fe={key:0,class:"password-hidden"},qe={class:"list-item__row list-item__row--table"},Ue={key:0,class:"list-item__item"},Xe={key:1,class:"list-item__item"},Ke={key:2,class:"list-item__row list-item__row--table"},We={class:"list-item__item"},ze={__name:"AdditionalServicesID",async setup(Je){let a,n;const p=ie(),w=ue(),i=me(),k=_e(),C=Se(),y=ve(),f=re(),b=x(!1),N=x(!1),D=oe("emitter");[a,n]=I(()=>i.fetchServices()),await a,n(),[a,n]=I(()=>i.fetchDNSmanagerOrders()),await a,n(),[a,n]=I(()=>i.fetchISPswOrders()),await a,n(),[a,n]=I(()=>i.fetchExtraIPOrders()),await a,n();const t=v(()=>Object.keys(f?.userOrders).map(r=>f?.userOrders[r]).find(r=>r.ID===p.params.id)),L=v(()=>y?.servicesList[f.userOrders[t.value?.DependOrderID]?.ServiceID]),_=v(()=>y?.servicesList[t.value?.ServiceID]),S=v(()=>Object.keys(i?.ISPswOrdersList).map(r=>i?.ISPswOrdersList[r]).find(r=>r.OrderID===t.value?.ID)),m=v(()=>Object.keys(i?.DNSmanagerOrdersList).map(r=>i?.DNSmanagerOrdersList[r]).find(r=>r.OrderID===t.value?.ID)),$=v(()=>i?.additionalServicesScheme),A=v(()=>k?.serverGroupsList?.Servers?.[m.value?.ServerID]),G=v(()=>k?.serverGroupsList?.Servers?.[S.value?.ServerID]);D.on("updateDNSManagerPage",()=>{i.fetchDNSmanagerOrders()});const B=v(()=>{const r=m.value;return r&&$.value.DNSmanager[r.SchemeID]||null}),E=v(()=>{const r=S.value;return r&&$.value.ISPsw[r.SchemeID]||null});function H(r,e){let h="";switch(e){case"Default":h="Orders";break;default:h=e+"Orders";break}D.emit("open-modal",{component:"StatusHistory",data:{modeID:h,rowID:r}})}function T(){D.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:m.value?.ID,ServiceID:m.value?.ServiceID,emitEvent:"updateDNSManagerPage"}})}function V(){D.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:t.value?.ID,ServiceID:t.value?.ServiceID}})}function R(){C.OrderManageHosting({ServiceOrderID:m.value?.ID,OrderID:m.value?.OrderID,ServiceID:m.value?.ServiceID,XMLHttpRequest:"yes"})}function j(){C.OrderManageHosting({ServiceOrderID:S.value?.ID,OrderID:S.value?.OrderID,ServiceID:S.value?.ServiceID,XMLHttpRequest:"yes"})}function F(){t?.value?.ServiceID==="50000"?w.push(`/ExtraIPOrderPay/${p.params.id}`):t?.value?.ServiceID==="51000"?w.push(`/ISPswOrderPay/${p.params.id}`):t?.value?.ServiceID==="52000"?w.push(`/DNSmanagerOrderPay/${p.params.id}`):w.push(`/ServiceOrderPay/${p.params.id}`)}function q(){f.prolongOrder({IsAutoProlong:b.value?0:1,OrderID:t.value?.ID})}function M(){D.emit("open-modal",{component:"ISPswSchemeChange",data:{ISPswID:t.value?.ID,ServerGroup:E.value?.ServersGroupID,Code:_.value?.Code}})}function U(){X()}function X(){D.emit("open-modal",{component:"DNSOrderSchemeChange",data:{DNSID:t.value?.ID,ServerGroup:B.value?.ServersGroupID,Code:_.value?.Code}})}return ae(async()=>{t.value?.ServiceID==="52000"&&(await i.fetchAdditionalServiceScheme(_.value?.Code),await i.fetchDNSmanagerOrders()),t.value?.ServiceID==="51000"&&(await i.fetchAdditionalServiceScheme(_.value?.Code),await i.fetchISPswOrders()),t.value?.ServiceID==="50000"&&(await i.fetchAdditionalServiceScheme(_.value?.Code),await i.fetchExtraIPOrders()),p.name==="ISPswOrdersIdSchemeChange"&&M()}),[a,n]=I(()=>f.fetchUserOrders().then(()=>{b.value=t.value?.IsAutoProlong})),await a,n(),[a,n]=I(()=>y.fetchServices()),await a,n(),[a,n]=I(()=>k.fetchServerGroups()),await a,n(),(r,e)=>{const h=se,O=te,K=ee,W=Z,z=Y,J=Q;return o(),d(ce,null,[g(h),s("section",pe,[s("div",De,[s("div",ge,[s("h1",fe,c(_.value?.Name),1),s("div",he,"# "+c(t.value?.ID),1),t.value?.ServiceID==="52000"?(o(),P(O,{key:0,class:"section-scheme",label:"Изменить тариф",onClick:e[0]||(e[0]=u=>U())})):l("",!0),t.value?.ServiceID==="51000"?(o(),P(O,{key:1,class:"section-scheme",label:"Изменить тариф",onClick:e[1]||(e[1]=u=>M())})):l("",!0)]),g(K),s("div",Oe,[g(W,{"contract-id":t.value?.ContractID,onTransfer:e[2]||(e[2]=u=>V())},null,8,["contract-id"]),s("div",we,[s("div",be,[s("div",Pe,[s("div",ke,c(_.value?.Name),1),s("div",ye,[g(z,{status:t.value?.StatusID,"status-table":"Orders",onClick:e[3]||(e[3]=u=>H(t.value?.ServiceOrderID,t.value?.Code))},null,8,["status"])])]),s("div",Ce,[s("ul",Ne,[t.value?.DependOrderID&&t.value?.DependOrderID!=="0"?(o(),d("li",$e," Относится к заказу "+c(t.value?.DependOrderID)+"/"+c(L.value?.Name),1)):l("",!0)])]),s("div",Ae,[g(O,{label:t.value?.StatusID==="ClaimForRegister"||t.value?.StatusID==="Waiting"?"Оплатить":"Продлить",onClick:e[4]||(e[4]=u=>F())},null,8,["label"]),s("label",Me,[ne(s("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=u=>b.value=u),onInput:e[6]||(e[6]=u=>q())},null,544),[[le,b.value]]),e[11]||(e[11]=s("span",{class:"btn-switch__text"},"Автопродление",-1)),e[12]||(e[12]=s("span",{class:"btn-switch__toggle"},null,-1))])])])]),t.value?.ServiceID==="52000"||t.value?.ServiceID==="51000"?(o(),d("div",xe,[s("div",Le,[s("div",Ge,[e[13]||(e[13]=s("div",{class:"list-item__title"},"Панель управления",-1)),t.value?.ServiceID==="52000"?(o(),P(O,{key:0,class:"ml-auto",onClick:e[7]||(e[7]=u=>R()),label:"Вход"})):l("",!0),t.value?.ServiceID==="51000"?(o(),P(O,{key:1,class:"ml-auto",onClick:e[8]||(e[8]=u=>j()),label:"Вход"})):l("",!0)]),s("div",Be,[e[14]||(e[14]=s("div",{class:"list-item__item"},"Адрес",-1)),t.value?.ServiceID==="52000"?(o(),d("div",Ee,c(`https://${A.value?.Address}/manager`),1)):l("",!0),t.value?.ServiceID==="51000"?(o(),d("div",He,c(S.value?.ControlPanel),1)):l("",!0)]),t.value?.ServiceID==="52000"?(o(),d("div",Te,[e[15]||(e[15]=s("div",{class:"list-item__item"},"Логин",-1)),s("div",Ve,c(m.value?.Login),1)])):l("",!0),t.value?.ServiceID==="52000"?(o(),d("div",Re,[e[17]||(e[17]=s("div",{class:"list-item__item"},"Пароль",-1)),s("div",je,[N.value?(o(),d("span",Fe,c(m.value?.Password),1)):(o(),d("button",{key:1,class:"btn btn--border btn--md hide-button",onClick:e[9]||(e[9]=u=>N.value=!0)},[g(J),e[16]||(e[16]=de(" Показать ",-1))])),s("button",{class:"btn btn--border btn--md hide-button",onClick:e[10]||(e[10]=u=>T())}," Сменить пароль ")])])):l("",!0),s("div",qe,[e[18]||(e[18]=s("div",{class:"list-item__item"},"FTP, POP3, SMTP, IMAP",-1)),t.value?.ServiceID==="52000"?(o(),d("div",Ue,c(A.value?.Address),1)):l("",!0),t.value?.ServiceID==="51000"?(o(),d("div",Xe,c(G.value?.Address),1)):l("",!0)]),t.value?.ServiceID==="51000"?(o(),d("div",Ke,[e[19]||(e[19]=s("div",{class:"list-item__item"},"IP адрес",-1)),s("div",We,c(S.value?.IP),1)])):l("",!0)])])):l("",!0)])])])],64)}}},mt=Ie(ze,[["__scopeId","data-v-4bf72b07"]]);export{mt as default};
