import{_ as g}from"./BlockAuthEnter-Z7ZQz42c.js";import{_ as E}from"./ButtonDefault-CMw2aBy6.js";import{_ as O}from"./ProtectionCode-C0lJOYch.js";import{_ as U}from"./BasicInput-DeQAeyXe.js";import{r as t,u as x,o as B,c as N,a as e,j as P,b as o,n as u,d as S}from"./index-Codq73aV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./component-DqcwA9JN.js";import"./common-DyknwSqv.js";const k={class:"registration-page"},A={class:"section"},C={class:"container"},j={class:"tw-flex tw-flex-col sm:tw-flex-row sm:tw-mb-4"},y={class:"form-offset_label"},I={__name:"Registration",setup(z){const c=t(!1),a=t(null),_=x(),f=S(),r=t(null),i=t(null),m=t(null),d=t(null),p=t(null);function R(){m.value!==null&&r.value!==null&&i.value!==null&&d.value!==null&&p.value!==null?(c.value=!0,_.registerNewUser({Email:r.value,Password:i.value,_Password:d.value,Name:m.value,Protect:p.value}).then(v=>{const{response:l}=v;l==="success"?f.push({path:"/"}):a.value="ERROR",c.value=!1})):a.value="ERROR"}return(v,l)=>{const n=U,w=O,b=E,V=g;return B(),N("div",k,[e("div",A,[e("div",C,[l[7]||(l[7]=e("div",{class:"section-header"},[e("h1",{class:"section-title"},"Регистрация")],-1)),e("form",{onSubmit:P(R,["prevent"])},[o(n,{label:"Имя",name:"name",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=s=>m.value=s),class:u({"form-field-error":a.value==="ERROR"})},null,8,["modelValue","class"]),o(n,{label:"Email",name:"mail",modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=s=>r.value=s),class:u({"form-field-error":a.value==="ERROR"})},null,8,["modelValue","class"]),o(n,{label:"Пароль",name:"password",modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=s=>i.value=s),"is-password":"",class:u({"form-field-error":a.value==="ERROR"})},null,8,["modelValue","class"]),o(n,{label:"Подтвердить пароль",name:"repeat_password",modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=s=>d.value=s),"is-password":"",class:u({"form-field-error":a.value==="ERROR"})},null,8,["modelValue","class"]),e("div",j,[l[5]||(l[5]=e("div",{class:"tw-w-64 tw-mr-4"},null,-1)),e("div",null,[o(w)])]),o(n,{label:"Защитный код",name:"code",modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=s=>p.value=s),class:u({"form-field-error":a.value==="ERROR"})},null,8,["modelValue","class"]),e("div",y,[o(b,{label:"Зарегистрироваться",type:"submit",class:"btn--blue","is-loading":c.value},null,8,["is-loading"])]),l[6]||(l[6]=e("div",{class:"form-offset_label"},[e("p",null," Нажимая на кнопку зарегистрироваться я соглашаюсь с условиями договора на оказание услуг ")],-1))],32),o(V,{label:"Зарегистрироваться с помощью",class:"tw-mt-6"})])])])}}};export{I as default};
