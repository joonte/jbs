import{k as f,o as r,c,b as p,a as o,F as d,y as k,z as N,w as b,t as g,l as y,p as x,m as B,_ as D,r as w,h as m}from"./index-777dc609.js";import{u as P}from"./content-1b264cf9.js";import{a as T,c as C}from"./useTimeFunction-8602dd60.js";import"./IconArrow-1d7911e1.js";import{F as I}from"./bootstrap-vue-next.es-8d4e1458.js";import"./ButtonDefault-7f62b822.js";import{B as V}from"./BlockBalanceAgreement-d9b1b07a.js";import{E as L}from"./EmptyStateBlock-1f3845f9.js";const F=s=>(x("data-v-7e81b319"),s=s(),B(),s),E={class:"section"},S={class:"container"},A=F(()=>o("div",{class:"section-header"},[o("h1",{class:"section-title"},"Новости")],-1)),H={class:"news"},M={key:0,class:"news__item"},j={class:"news__item-name"},z={class:"news__item-date"},O=["innerHTML"];function U(s,a,l,t,u,n){const _=V,i=f("router-link"),v=I,h=L;return r(),c(d,null,[p(_),o("div",E,[o("div",S,[A,t.getNews&&t.getNews.length>0?(r(),c(d,{key:0},[o("div",H,[(r(!0),c(d,null,k(t.getPaginatedData,e=>(r(),c(d,{key:e.index},[e!=null&&e.IsPublish?(r(),c("div",M,[p(i,{class:"news__item-link",to:`/News/${e==null?void 0:e.ID}`},{default:b(()=>[o("div",j,g(e==null?void 0:e.Title),1),o("div",z,g(t.formNormalTextDate(t.secondToDate(e==null?void 0:e.PublicDate))),1),o("div",{class:"news__item-text",innerHTML:e==null?void 0:e.Text},null,8,O)]),_:2},1032,["to"])])):y("",!0)],64))),128))]),p(v,{modelValue:t.currentPage,"onUpdate:modelValue":a[0]||(a[0]=e=>t.currentPage=e),"total-rows":t.getNews.length,"per-page":t.perPage,"first-number":"","last-number":""},null,8,["modelValue","total-rows","per-page"])],64)):(r(),N(h,{key:1,label:"Пока что нет добавленных новостей"}))])])],64)}const q={async setup(){const s=P(),a=w(8),l=w(1),t=m(()=>{var n,_;return(_=(n=Object.keys(s==null?void 0:s.newsList))==null?void 0:n.map(i=>s==null?void 0:s.newsList[i]))==null?void 0:_.reverse()}),u=m(()=>{var n;return(n=t.value)==null?void 0:n.slice((l.value-1)*a.value,l.value*a.value)});return await s.fetchNews(),{perPage:a,currentPage:l,getNews:t,getPaginatedData:u,secondToDate:T,formNormalTextDate:C}}},Z=D(q,[["render",U],["__scopeId","data-v-7e81b319"]]);export{Z as default};
