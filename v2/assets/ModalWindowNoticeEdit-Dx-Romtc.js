import{_ as U}from"./BlueButton.vue_vue_type_script_setup_true_lang-q3k2Q2g8.js";import{_ as g}from"./WhiteButton.vue_vue_type_script_setup_true_lang-ClwvvVEf.js";import{x as E,r as f,H as w,s as k,c as D,o as N,a as s,t as p,J as S,X as B,C as I,h as T,b as V,w as v,e as x}from"./index-C9dBN6m4.js";import{u as h}from"./global-DiPSuX9n.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"tw-text-2xl"},$={class:"tw-mt-4"},j={class:"tw-flex tw-items-center tw-justify-end tw-gap-4 tw-mt-4"},K={__name:"ModalWindowNoticeEdit",props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(o,{emit:_}){const t=o,d=_,l=h(),r=E("emitter"),i=f(null),c=f(!1);function m(){l.NoticeEdit({TableID:t.data?.noteTable,RowID:t.data?.OrderID,UserNotice:i.value}).then(e=>{e==="SUCCESS"&&(d("modalClose"),t?.data?.emit&&r.emit(t?.data?.emit))})}function y(){l.NoticeEdit({TableID:t.data?.noteTable,RowID:t.data?.OrderID,UserNotice:""}).then(e=>{e==="SUCCESS"&&(d("modalClose"),t?.data?.emit&&r.emit(t?.data?.emit))})}w(()=>{i.value=t?.data?.UserNotice});const u=e=>{e.key==="Enter"&&(e.ctrlKey||e.metaKey)&&m()};return w(()=>{document.addEventListener("keyup",u)}),k(()=>{document.removeEventListener("keyup",u)}),(e,a)=>{const C=g,b=U;return N(),D("div",null,[s("div",O,"Редактирование примечания, заказ #"+p(o.data?.OrderID),1),s("div",$,[S(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=n=>i.value=n),class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-h-[300px] tw-w-full tw-p-4 tw-text-sm tw-text-gray-800"},null,512),[[B,i.value]])]),s("div",j,[o.data?.UserNotice!==null&&o.data?.UserNotice!==""?(N(),I(C,{key:0,"is-loading":c.value,onClick:a[1]||(a[1]=n=>y())},{default:v(()=>a[3]||(a[3]=[x("Удалить",-1)])),_:1,__:[3]},8,["is-loading"])):T("",!0),V(b,{"is-loading":c.value,onClick:a[2]||(a[2]=n=>m())},{default:v(()=>[x(p(o.data?.UserNotice!==null&&o.data?.UserNotice!==""?"Изменить":"Добавить"),1)]),_:1},8,["is-loading"])])])}}},J=M(K,[["__scopeId","data-v-acf7014e"]]);export{J as default};
