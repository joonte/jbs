import{_ as C,r as m,i as ie,j as _e,o as a,y as S,w as J,m as ge,c as r,a as e,b as _,k as D,t as M,F as R,x as ae,d as k,p as we,l as Ie,f as be,u as Ve,S as De,g as x,h as ce}from"./index-145d9cde.js";import{s as re}from"./multiselect-a2d623ca.js";import{_ as de}from"./BasicInput-9e44931e.js";import{I as fe}from"./IconUpload-d0515ed6.js";import{u as Me}from"./files-75648570.js";import{u as xe}from"./globalActions-de64efb8.js";import{_ as ue}from"./ClausesKeeper-d3875457.js";import{B as me}from"./BlockBalanceAgreement-650ad03e.js";import{f as Se}from"./bootstrap-vue-next.es-759b1c9f.js";import{I as ke}from"./IconSettings-f6e23fa6.js";import{_ as ye}from"./HelperComponent-3b7b2692.js";import{_ as Ee}from"./IconArrow-f2b12a71.js";import{_ as Be}from"./IconCopy-a9b6850b.js";import{_ as Le}from"./ButtonDefault-6a3a5e1e.js";import{_ as Ue}from"./user-placeholder-54fd4a87.js";import"./component-adfdaade.js";import"./IconClose-f461656c.js";import"./contracts-009c925b.js";const Ae={components:{VueSelect:re},props:{modelValue:{type:String,required:!0},placeholder:{type:String,default:"Select"},options:{type:Array,required:!0,default:()=>[]},taggable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(i,{emit:l}){const h=m(i.modelValue);return ie(h,()=>{l("update:modelValue",h.value)}),ie(i,()=>{h.value=i.modelValue}),{newValue:h}}};function Te(i,l,h,t,q,G){const b=_e("vue-select");return a(),S(b,{modelValue:t.newValue,"onUpdate:modelValue":l[0]||(l[0]=g=>t.newValue=g),"clear-on-select":!1,options:h.options,placeholder:h.placeholder,searchable:!0,taggable:h.taggable,label:"name","track-by":"value"},{default:J(()=>[ge(i.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","options","placeholder","taggable"])}const Ze=C(Ae,[["render",Te],["__scopeId","data-v-f3c9e691"]]),$e={},Fe={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},He=e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 6V18.5C19 19.8807 17.8807 21 16.5 21H7.5C6.11929 21 5 19.8807 5 18.5V6H4.5C4.22386 6 4 5.77614 4 5.5C4 5.22386 4.22386 5 4.5 5H9V4.5C9 3.67157 9.67157 3 10.5 3H13.5C14.3284 3 15 3.67157 15 4.5V5H19.5C19.7761 5 20 5.22386 20 5.5C20 5.77614 19.7761 6 19.5 6H19ZM6 6V18.5C6 19.3284 6.67157 20 7.5 20H16.5C17.3284 20 18 19.3284 18 18.5V6H6ZM14 4.5V5H10V4.5C10 4.22386 10.2239 4 10.5 4H13.5C13.7761 4 14 4.22386 14 4.5ZM14 9.5C14 9.22386 14.2239 9 14.5 9C14.7761 9 15 9.22386 15 9.5V16.5C15 16.7761 14.7761 17 14.5 17C14.2239 17 14 16.7761 14 16.5V9.5ZM9.5 9C9.22386 9 9 9.22386 9 9.5V16.5C9 16.7761 9.22386 17 9.5 17C9.77614 17 10 16.7761 10 16.5V9.5C10 9.22386 9.77614 9 9.5 9Z",fill:"#B92519"},null,-1),Ne=[He];function Pe(i,l){return a(),r("svg",Fe,Ne)}const he=C($e,[["render",Pe]]),Oe={},je={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},Ye=e("path",{d:"M14.4442 6.12906C14.4442 8.4053 12.4464 10.2569 9.98869 10.2569C7.53154 10.2569 5.53319 8.4053 5.53319 6.12906C5.53319 3.85207 7.53154 2 9.98869 2C12.4464 2 14.4442 3.85207 14.4442 6.12906ZM11.8335 6.12904C11.8335 5.18633 11.006 4.41976 9.98869 4.41976C8.97219 4.41976 8.1439 5.18633 8.1439 6.12904C8.1439 7.07101 8.97219 7.83808 9.98869 7.83808C11.006 7.83808 11.8335 7.07101 11.8335 6.12904Z",fill:"#EE8208"},null,-1),Ke=e("path",{d:"M11.8028 13.6269C12.7097 13.4354 13.5844 13.1029 14.39 12.634C14.9997 12.2778 15.1834 11.531 14.7992 10.966C14.4153 10.3998 13.61 10.2293 12.9992 10.5855C11.1741 11.6491 8.82442 11.6488 7.00042 10.5855C6.38966 10.2293 5.58403 10.3998 5.20094 10.966C4.81679 11.5315 4.99993 12.2778 5.60962 12.634C6.41525 13.1024 7.28993 13.4354 8.19687 13.6269L5.70586 15.9352C5.19668 16.4076 5.19668 17.1734 5.70639 17.6457C5.96152 17.8817 6.29529 17.9998 6.62906 17.9998C6.96336 17.9998 7.29766 17.8817 7.55279 17.6457L9.99954 15.3774L12.4484 17.6457C12.9576 18.1181 13.7838 18.1181 14.2935 17.6457C14.8037 17.1734 14.8037 16.4071 14.2935 15.9352L11.8028 13.6269Z",fill:"#EE8208"},null,-1),Re=[Ye,Ke];function Je(i,l){return a(),r("svg",je,Re)}const qe=C(Oe,[["render",Je]]),Ge={},We={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},ze=e("path",{d:"M16.3848 11.3341C16.2017 11.0418 16.1607 10.7459 16.2608 10.4461C16.5104 9.64627 20.147 4.56612 18.6321 4.56612C17.5911 4.5824 16.3391 4.56612 15.3411 4.56612C15.1558 4.61918 15.036 4.73357 14.961 4.96631C14.3774 6.54946 13.6632 8.48147 12.6166 9.72315C12.4789 9.85376 12.393 9.84819 12.2361 9.79989C11.502 8.89054 12.2848 5.77508 11.8383 4.54405C11.7503 4.30309 11.5577 4.19425 11.3607 4.13296C10.3639 3.85349 8.08743 4.01984 7.716 4.5824C7.60982 4.74322 7.59501 4.83098 7.67166 4.84542C8.02556 4.9111 8.27609 5.06824 8.42354 5.31666C8.70172 6.03737 8.90673 9.8764 8.08743 9.8764C7.26814 9.8764 5.947 6.1088 5.58406 5.06436C5.48748 4.74988 5.24161 4.56959 4.98254 4.51637L2.5587 4.53818C2.13265 4.53818 1.89454 4.78543 2.04555 5.28357C3.30798 8.97029 6.07063 16.1164 10.3078 15.9375C10.7323 15.9375 11.4625 16.1292 11.794 15.6963C12.2496 14.9852 11.694 13.7188 12.4752 13.2359C12.6722 13.1126 12.8764 13.2159 13.0457 13.3676C13.9146 14.146 14.3759 15.5122 15.4475 15.927C15.6359 16 15.801 16.0183 15.9427 15.9818L18.2073 15.938C18.6277 15.938 19.0418 15.7179 18.9548 15.1266C18.6247 13.8585 17.3092 12.555 16.3848 11.3341Z",fill:"#2789F6"},null,-1),Qe=[ze];function Xe(i,l){return a(),r("svg",We,Qe)}const e1=C(Ge,[["render",Xe]]),o1={},t1={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n1=e("g",{"clip-path":"url(#clip0_2871_29099)"},[e("path",{d:"M14 17H11.6428V5.75836H10.5909C8.66254 5.75836 7.64954 6.69326 7.64954 8.07766C7.64954 9.64858 8.35078 10.3783 9.7921 11.3137L10.9804 12.0807L7.55193 17H5L8.07786 12.6043C6.30534 11.3883 5.31177 10.21 5.31177 8.20868C5.31177 5.70194 7.12361 4 10.5715 4H14V17Z",fill:"#FC3F1D"})],-1),s1=e("defs",null,[e("clipPath",{id:"clip0_2871_29099"},[e("rect",{width:"20",height:"20",fill:"white"})])],-1),l1=[n1,s1];function i1(i,l){return a(),r("svg",t1,l1)}const a1=C(o1,[["render",i1]]),c1={},_1={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},r1=e("path",{d:"M18.7511 10.1943C18.7511 9.47489 18.6915 8.94989 18.5626 8.40546H10.1797V11.6526H15.1003C15.0011 12.4596 14.4654 13.6749 13.2749 14.4915L13.2582 14.6002L15.9087 16.6125L16.0924 16.6305C17.7788 15.104 18.7511 12.8582 18.7511 10.1943Z",fill:"#4285F4"},null,-1),d1=e("path",{d:"M10.1793 18.75C12.59 18.75 14.6138 17.9722 16.092 16.6305L13.2745 14.4916C12.5206 15.0068 11.5086 15.3666 10.1793 15.3666C7.81822 15.3666 5.81427 13.8402 5.09992 11.7305L4.99522 11.7392L2.23917 13.8295L2.20312 13.9277C3.67136 16.786 6.68723 18.75 10.1793 18.75Z",fill:"#34A853"},null,-1),f1=e("path",{d:"M5.09916 11.7305C4.91068 11.1861 4.80159 10.6027 4.80159 9.99998C4.80159 9.39716 4.91068 8.81385 5.08925 8.26941L5.08425 8.15346L2.29366 6.0296L2.20236 6.07216C1.59723 7.25829 1.25 8.59026 1.25 9.99998C1.25 11.4097 1.59723 12.7416 2.20236 13.9277L5.09916 11.7305Z",fill:"#FBBC05"},null,-1),u1=e("path",{d:"M10.1794 4.63331C11.8559 4.63331 12.9868 5.34303 13.6317 5.93612L16.1516 3.525C14.604 2.11528 12.59 1.25 10.1794 1.25C6.68725 1.25 3.67137 3.21387 2.20312 6.07218L5.09002 8.26943C5.8143 6.15972 7.81825 4.63331 10.1794 4.63331Z",fill:"#EB4335"},null,-1),m1=[r1,d1,f1,u1];function h1(i,l){return a(),r("svg",_1,m1)}const p1=C(c1,[["render",h1]]),v1={},C1={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},g1=e("path",{"clip-rule":"evenodd",d:"M17.227 10.012c3.053.013 4.516.902 4.855 1.2 1.126.932 1.7 3.164 1.28 6.433-.365 2.855-2.345 3.301-3.06 3.463-.08.017-.144.032-.188.046-.189.06-1.938.479-4.137.34 0 0-1.639 1.912-2.15 2.409-.08.077-.174.108-.237.094-.087-.021-.111-.122-.111-.27l.014-2.61c-3.095-.832-3.023-3.881-2.982-5.612 0-.06.002-.118.004-.174.036-1.692.365-3.079 1.341-4.011 1.755-1.538 5.37-1.308 5.37-1.308Zm-.336 1.684c-.11 0-.2.085-.201.192 0 .107.088.194.198.194 1.088.008 1.987.354 2.71 1.036.718.677 1.091 1.609 1.1 2.82a.198.198 0 0 0 .202.192c.11 0 .2-.088.198-.194-.01-1.291-.41-2.33-1.22-3.094-.803-.757-1.803-1.138-2.987-1.146Zm.679 2.084a.198.198 0 0 0-.21.182.196.196 0 0 0 .189.203c.353.018.594.118.752.276.159.159.26.403.279.76a.197.197 0 0 0 .209.184.196.196 0 0 0 .19-.203c-.022-.416-.143-.762-.39-1.01-.25-.248-.599-.371-1.02-.392Zm-.38-1.021a.187.187 0 0 0-.19.183c0 .101.082.185.188.186.704.005 1.283.232 1.75.68.461.442.704 1.052.71 1.855 0 .101.085.184.19.183a.187.187 0 0 0 .188-.186c-.006-.878-.275-1.59-.823-2.116-.541-.519-1.217-.78-2.013-.785Zm.851 4.916c-.154.184-.441.16-.441.16-2.098-.517-2.659-2.571-2.659-2.571s-.025-.277.166-.427l.38-.291c.187-.14.307-.48.116-.812a8.585 8.585 0 0 0-.478-.724c-.167-.22-.556-.671-.557-.673-.188-.214-.463-.263-.754-.117h-.003a3.116 3.116 0 0 0-.78.612c-.179.21-.281.415-.307.617a.796.796 0 0 0 .036.352l.01.006c.09.31.317.829.81 1.692.281.5.606.975.97 1.422a7.7 7.7 0 0 0 .587.639l.007.007.015.015.067.064c.209.201.43.39.661.567.462.353.954.667 1.47.94.893.476 1.43.695 1.75.782l.007.01a.874.874 0 0 0 .364.035c.208-.024.42-.124.636-.298.002 0 .002-.001.003-.002l.003-.002a3.06 3.06 0 0 0 .627-.747v-.002l.001-.003c.151-.281.1-.548-.122-.73l-.05-.038c-.125-.1-.463-.37-.646-.5a8.926 8.926 0 0 0-.748-.462c-.344-.185-.694-.07-.84.113l-.3.366Z",fill:"#2992CD","fill-rule":"evenodd"},null,-1),w1=[g1];function I1(i,l){return a(),r("svg",C1,w1)}const b1=C(v1,[["render",I1]]),V1={},D1={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M1=e("path",{d:"M22.25 21.0833V20.1232C22.25 19.6461 21.9596 19.2172 21.5166 19.04L20.33 18.5653C19.7667 18.34 19.1246 18.5841 18.8533 19.1268L18.75 19.3333C18.75 19.3333 17.2917 19.0417 16.125 17.875C14.9583 16.7083 14.6667 15.25 14.6667 15.25L14.8732 15.1467C15.4159 14.8754 15.66 14.2333 15.4346 13.67L14.96 12.4834C14.7828 12.0404 14.3539 11.75 13.8768 11.75H12.9167C12.2723 11.75 11.75 12.2723 11.75 12.9167C11.75 18.0713 15.9287 22.25 21.0833 22.25C21.7277 22.25 22.25 21.7277 22.25 21.0833Z",fill:"#2992CD"},null,-1),x1=[M1];function S1(i,l){return a(),r("svg",D1,x1)}const k1=C(V1,[["render",S1]]),y1={},E1={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},B1=e("path",{"clip-rule":"evenodd",d:"M17 10.438A6.57 6.57 0 0 0 10.437 17 6.57 6.57 0 0 0 17 23.563a6.526 6.526 0 0 0 3.697-1.142h.001l.15-.106-1.05-1.222-.122.076h-.001a4.93 4.93 0 0 1-2.675.786A4.961 4.961 0 0 1 12.045 17 4.961 4.961 0 0 1 17 12.045a4.961 4.961 0 0 1 4.84 6.019c-.075.3-.213.485-.361.592a.687.687 0 0 1-.88-.052c-.116-.112-.206-.288-.208-.558V17A3.395 3.395 0 0 0 17 13.609 3.395 3.395 0 0 0 13.609 17 3.395 3.395 0 0 0 17 20.391a3.36 3.36 0 0 0 2.277-.88 2.23 2.23 0 0 0 1.798.888c.5 0 .993-.167 1.39-.47a2.55 2.55 0 0 0 .882-1.294 4.698 4.698 0 0 0 .067-.247l.006-.024.001-.007.001-.003.001-.004.001-.005c.096-.42.139-.835.139-1.345A6.57 6.57 0 0 0 17 10.437Zm2.277 9.072c-.03-.038.027.042 0 0-.035.035.036-.032 0 0 .027.042-.029-.039 0 0 .037-.033-.035.036 0 0Zm2.563-1.448-.001.003v-.003ZM15.216 17c0-.984.8-1.784 1.784-1.784s1.784.8 1.784 1.784-.8 1.784-1.784 1.784-1.784-.8-1.784-1.784Z",fill:"#2992CD","fill-rule":"evenodd"},null,-1),L1=[B1];function U1(i,l){return a(),r("svg",E1,L1)}const A1=C(y1,[["render",U1]]),T1={},Z1={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},$1=e("path",{d:"M22.081 12.132s1.133-.442 1.038.631c-.03.442-.314 1.989-.534 3.661l-.756 4.956s-.063.726-.63.852c-.566.126-1.416-.442-1.573-.568-.126-.095-2.361-1.515-3.148-2.21-.22-.19-.473-.568.031-1.01l3.305-3.156c.378-.379.756-1.262-.818-.19l-4.407 2.999s-.504.316-1.448.032l-2.046-.632s-.756-.473.535-.946c3.148-1.484 7.02-2.999 10.45-4.42h.001Z",fill:"#2992CD"},null,-1),F1=[$1];function H1(i,l){return a(),r("svg",Z1,F1)}const N1=C(T1,[["render",H1]]),P1={},O1={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},j1=e("path",{"clip-rule":"evenodd",d:"M23.68 13.47c.096-.319 0-.553-.465-.553h-1.53c-.39 0-.57.202-.668.426 0 0-.778 1.864-1.881 3.075-.357.351-.52.463-.714.463-.098 0-.244-.112-.244-.431v-2.98c0-.383-.108-.553-.432-.553h-2.408c-.243 0-.39.177-.39.346 0 .362.552.446.609 1.466v2.215c0 .486-.09.574-.284.574-.52 0-1.782-1.873-2.532-4.016-.145-.417-.292-.585-.684-.585h-1.532c-.438 0-.525.202-.525.426 0 .397.52 2.374 2.418 4.988 1.266 1.785 3.048 2.752 4.671 2.752.974 0 1.094-.214 1.094-.585V19.15c0-.43.092-.516.4-.516.228 0 .617.112 1.526.973 1.038 1.02 1.21 1.477 1.794 1.477h1.531c.438 0 .657-.214.531-.639-.139-.422-.635-1.035-1.292-1.763-.357-.414-.893-.86-1.055-1.084-.227-.286-.162-.414 0-.669 0 0 1.867-2.582 2.061-3.458Z",fill:"#2992CD","fill-rule":"evenodd"},null,-1),Y1=[j1];function K1(i,l){return a(),r("svg",O1,Y1)}const R1=C(P1,[["render",K1]]),J1="/v2/assets/warning-polygon-2df7feaf.svg",w=i=>(we("data-v-db139aac"),i=i(),Ie(),i),q1={class:"section"},G1={class:"container"},W1={class:"section-header"},z1=w(()=>e("h1",{class:"section-title"},"Профиль",-1)),Q1={class:"btn__group"},X1={class:"profile"},eo={class:"profile-rows"},oo={class:"profile-col"},to={class:"profile-avatar img"},no=["src"],so={key:1,src:Ue,alt:""},lo={key:0,class:"profile-avatar_upload"},io={key:0,class:"profile-col col-max-width"},ao={class:"profile-info"},co={class:"profile-info__wrap-e"},_o={class:"profile-info__item"},ro=w(()=>e("div",{class:"profile-info__item-label"},"ФИО",-1)),fo={class:"profile-info__item-value"},uo={class:"profile-info__item"},mo=w(()=>e("div",{class:"profile-info__item-label"},"Почта",-1)),ho={class:"profile-info__item-value"},po={class:"profile-info__item"},vo=w(()=>e("div",{class:"profile-info__item-label"},"Подпись",-1)),Co={class:"profile-info__item-value"},go={class:"profile-info__item"},wo=w(()=>e("div",{class:"profile-info__item-label"},"Реферальная ссылка",-1)),Io={class:"profile-info__item-value"},bo={key:0,class:"profile-info__item"},Vo=w(()=>e("div",{class:"profile-info__item-label"},"Контактные данные",-1)),Do={class:"profile-info__item-contacts"},Mo={class:"profile-info__item-contacts-item"},xo={class:"profile-info__item-info-column"},So={class:"profile-info__item-contacts-ico"},ko={class:"profile-info__item-contacts-val"},yo={class:"profile-info__item-info-column"},Eo=w(()=>e("div",{class:"profile-info__item-warning"},[e("img",{src:J1,alt:""}),k("не подтвержден")],-1)),Bo={class:"profile-info__item-helper-column"},Lo={class:"profile-info__note-wrapper"},Uo=w(()=>e("div",{class:"profile-info__note-label"},"Заметка",-1)),Ao={key:1,class:"profile-col"},To={class:"profile-info"},Zo={class:"profile-info__wrap-e"},$o={class:"profile-info__item"},Fo={class:"profile-info__item"},Ho={class:"profile-info__item"},No=w(()=>e("div",{class:"profile-info__item"},[e("div",{class:"profile-info__item-title"},"Новый контакт")],-1)),Po={class:"profile-info__wrap contact-item"},Oo={class:"profile-info__item"},jo={class:"profile-info__item wrap-item"},Yo={class:"profile-info__item"},Ko={class:"profile-info__wrap"},Ro={class:"profile-info__item"},Jo={class:"profile-info__link",href:"#"},qo={class:"profile-info__item"},Go={class:"profile-info__link",href:"#"},Wo={class:"profile-info__item"},zo={class:"profile-info__link",href:"#"},Qo={class:"profile-info__item"},Xo={class:"profile-info__link",href:"#"},et=w(()=>e("div",{class:"profile-info__item"},[e("div",{class:"profile-info__item-title"},"Контактные данные")],-1)),ot={class:"profile-info__contact-label"},tt={class:"profile-info__wrap edited-items"},nt={class:"profile-info__item profile-info__contact"},st={class:"profile-info__item"},lt=["onClick"],it={class:"profile-info__item mark"},at={class:"profile-info__note-wrapper"},ct=w(()=>e("div",{class:"profile-info__note-label"},"Заметка",-1)),_t={class:"profile-info__item"},rt=["onClick"];function dt(i,l,h,t,q,G){var P,I,O,j,Y;const b=me,g=Le,T=ue,y=fe,Z=Be,W=R1,E=N1,p=A1,z=k1,d=b1,H=Ee,B=ye,v=de,L=_e("Multiselect"),$=p1,N=a1,Q=e1,X=qe,U=ke,ee=he,oe=Se;return a(),r("div",q1,[_(b),e("div",G1,[e("div",W1,[z1,e("div",Q1,[t.isEditMode?(a(),r("button",{key:0,class:"btn btn--blue btn-default static-button delete",onClick:l[0]||(l[0]=(...n)=>t.cancelEdit&&t.cancelEdit(...n))},"Отменить")):D("",!0),_(g,{class:"static-button","is-loading":t.isLoading,label:t.isEditMode?"Сохранить изменения":"Редактировать профиль",onClick:l[1]||(l[1]=n=>t.switchEdit().then(()=>t.stopEdit()))},null,8,["is-loading","label"])])]),_(T),e("div",X1,[e("div",eo,[e("div",oo,[e("div",to,[t.getAvatarName?(a(),r("img",{key:0,src:t.formLink,alt:""},null,8,no)):(a(),r("img",so))]),t.isEditMode?(a(),r("label",lo,[e("input",{type:"file",onInput:l[2]||(l[2]=(...n)=>t.inputFile&&t.inputFile(...n)),title:" "},null,32),_(y),e("span",null,M(((P=t.file)==null?void 0:P.name)||"Загрузить аватарку"),1)])):D("",!0)]),t.isEditMode?D("",!0):(a(),r("div",io,[e("div",ao,[e("div",co,[e("div",_o,[ro,e("div",fo,M((I=t.getUserInfo)==null?void 0:I.Name),1)]),e("div",uo,[mo,e("div",ho,M((O=t.getUserInfo)==null?void 0:O.Email),1)]),e("div",po,[vo,e("div",Co,M((j=t.getUserInfo)==null?void 0:j.Sign),1)])]),e("div",go,[wo,e("div",Io,[e("div",{class:"profile-info__item-referral",ref:"message"},M(`http://www.host-food.ru/p/${(Y=t.getUserInfo)==null?void 0:Y.ID}/`),513),e("button",{class:"btn profile-info__item-referral_copy",onClick:l[3]||(l[3]=(...n)=>t.copyText&&t.copyText(...n))},[_(Z)])])]),t.getContacts&&t.getContacts.length>0?(a(),r("div",bo,[Vo,e("div",Do,[(a(!0),r(R,null,ae(t.getContacts,n=>(a(),r("div",Mo,[e("div",xo,[e("div",So,[(n==null?void 0:n.MethodID)==="VKontakte"?(a(),S(W,{key:0})):(n==null?void 0:n.MethodID)==="Telegram"?(a(),S(E,{key:1})):(n==null?void 0:n.MethodID)==="Email"?(a(),S(p,{key:2})):(n==null?void 0:n.MethodID)==="SMS"?(a(),S(z,{key:3})):(a(),S(d,{key:4}))]),e("div",ko,M(n==null?void 0:n.Address),1)]),e("div",yo,[!((n==null?void 0:n.Confirmed)>0)||(n==null?void 0:n.MethodID)==="SMS"&&t.isOneYearPassed(n==null?void 0:n.Confirmed)?(a(),r(R,{key:0},[Eo,_(g,{class:"profile-info__button",label:"ПОДТВЕРДИТЬ",onClick:V=>t.openConfirmationModal(n)},null,8,["onClick"])],64)):D("",!0),e("div",Bo,[n.UserNotice?(a(),S(B,{key:0,"user-notice":n.UserNotice,id:n.ID,noteTable:"Contacts",emit:"updateContacts"},{default:J(()=>[e("div",Lo,[Uo,_(H,{class:"profile-info__note-icon"})])]),_:2},1032,["user-notice","id"])):D("",!0)])])]))),256))])])):D("",!0)])])),t.isEditMode?(a(),r("div",Ao,[e("div",To,[e("div",Zo,[e("div",$o,[_(v,{label:"ФИО",name:"name",placeholder:"Крылов Евгений",vertical:"",modelValue:t.formData.Name,"onUpdate:modelValue":l[4]||(l[4]=n=>t.formData.Name=n)},null,8,["modelValue"])]),e("div",Fo,[_(v,{label:"Почта",name:"email",placeholder:"hosting@nopreset.ru",vertical:"",disabled:"",modelValue:t.formData.Email,"onUpdate:modelValue":l[5]||(l[5]=n=>t.formData.Email=n)},null,8,["modelValue"])]),e("div",Ho,[_(v,{label:"Подпись",name:"name",placeholder:"С уважением, Евгений Крылов",vertical:"",modelValue:t.formData.Sign,"onUpdate:modelValue":l[6]||(l[6]=n=>t.formData.Sign=n)},null,8,["modelValue"])])]),No,e("div",Po,[e("div",Oo,[_(L,{modelValue:t.select,"onUpdate:modelValue":l[7]||(l[7]=n=>t.select=n),options:t.activeContactOptions,disabled:t.activeContactOptions.length<=1,label:"name",placeholder:"Тип адреса"},null,8,["modelValue","options","disabled"])]),e("div",jo,[_(v,{name:"name",placeholder:t.getPlaceholderText(t.select),vertical:"",modelValue:t.newContactValue,"onUpdate:modelValue":l[8]||(l[8]=n=>t.newContactValue=n),title:t.getTitleText(t.select)},null,8,["placeholder","modelValue","title"])]),e("div",Yo,[_(g,{class:"profile-info__add-button",label:"Добавить контакт",onClick:t.addContact},null,8,["onClick"])])]),e("div",Ko,[e("div",Ro,[e("a",Jo,[k("Google"),_($)])]),e("div",qo,[e("a",Go,[k("Яндекс"),_(N)])]),e("div",Wo,[e("a",zo,[k("ВК"),_(Q)])]),e("div",Qo,[e("a",Xo,[k("Одноклассники"),_(X)])])])]),et,(a(!0),r(R,null,ae(t.getContacts,(n,V)=>(a(),r(R,{key:V},[e("div",ot,M(n==null?void 0:n.MethodID),1),e("div",tt,[e("div",nt,[_(v,{name:i.name,disabled:"",modelValue:t.formContactsData[V].Address,"onUpdate:modelValue":F=>t.formContactsData[V].Address=F,vertical:""},null,8,["name","modelValue","onUpdate:modelValue"])]),e("div",st,[e("div",{class:"profile-info__item-settings",onClick:F=>t.editContact(n)},[_(U),k("Настройки")],8,lt)]),e("div",it,[_(B,{"user-notice":n.UserNotice,id:n.ID,noteTable:"Contacts",emit:"updateContacts"},{default:J(()=>[e("div",at,[ct,_(H,{class:"profile-info__note-icon"})])]),_:2},1032,["user-notice","id"])]),e("div",_t,[e("a",{class:"profile-info__item-close",onClick:F=>t.closeContact(V)},[_(ee)],8,rt)])])],64))),128)),_(oe,{id:"checkbox-1",modelValue:t.IsClear,"onUpdate:modelValue":l[9]||(l[9]=n=>t.IsClear=n),name:"checkbox-1",value:!0,"unchecked-value":!1},{default:J(()=>[k("Удалить аватарку")]),_:1},8,["modelValue"])])):D("",!0)])])])])}const ft={components:{IconTrash:he,IconUpload:fe,BasicInput:de,ClausesKeeper:ue,Multiselect:re,SelectComponent:Ze,BlockBalanceAgreement:me},async setup(){const i=be(),l=Me(),h=Ve(),t=xe(),q=m(null),G=m(""),b=De("emitter");b.on("updateContacts",()=>{i.fetchUserData().then(()=>{I()})});const g=m(!1),T=m(null),y=m(!1),Z=m(!1),W=new Date("2023-01-01").getTime(),E=x(()=>{var o,s;return(s=(o=h.ConfigList)==null?void 0:o.Notifies)==null?void 0:s.Methods}),p=x(()=>{var o,s;return(s=(o=h.ConfigList)==null?void 0:o.Messages)==null?void 0:s.Prompts}),z=x(()=>{var o;return`/UserFoto?UserID=${(o=d.value)==null?void 0:o.ID}?${T.value}`}),d=x(()=>i.userInfo),H=x(()=>{var o,s,c,f,u;return(u=(f=(o=d.value)==null?void 0:o.Files)==null?void 0:f[(c=Object.keys((s=d.value)==null?void 0:s.Files))==null?void 0:c[0]])==null?void 0:u.Name}),B=x(()=>{var o;return Object.keys((o=d.value)==null?void 0:o.Contacts).map(s=>{var c,f,u,K,A;if(!((u=(f=(c=d.value)==null?void 0:c.Contacts)==null?void 0:f[s])!=null&&u.IsHidden))return(A=(K=d.value)==null?void 0:K.Contacts)==null?void 0:A[s]}).filter(Boolean)}),v=m(null),L=m({Name:"",Sign:""}),$=m(""),N=m("");ce(()=>{console.log($)});const Q=m([]),X=x(()=>Object.keys(E.value).filter(o=>E.value[o].IsActive==="1").map(o=>({name:E.value[o].Name,value:o}))),U=m({}),ee=o=>{switch(o){case"Email":const s=p.value.Email,c=/<B>Например:<\/B>\s*([^<]+)/,f=s.match(c);return f&&f[1]?`${f[1]}`:s;case"SMS":const u=p.value.SMS,K=/<B>Например:<\/B>\s*([^<]+)/,A=u.match(K);return A&&A[1]?`${A[1]}`:u;case"Jabber":const le=p.value.Jabber,Ce=/<B>Например:<\/B>\s*([^<]+)/,te=le.match(Ce);return te&&te[1]?`${te[1]}`:le;default:return"Ссылка или id"}},oe=o=>{switch(o){case"Email":return p.value.Email;case"SMS":return p.value.SMS;case"Jabber":return p.value.Jabber;case"Telegram":return p.value.Telegram;case"Viber":return p.value.Viber;case"VKontakte":return p.value.VKontakte;default:return"Ссылка или id"}};function P(o){const s=new Date(parseInt(o)*1e3),c=new Date,f=new Date(c.setFullYear(c.getFullYear()-1));return s<f}function I(){let o={};B.value.forEach((s,c)=>{o[c]={...s,oldValue:s.Address}}),U.value=o,O()}function O(){var o,s,c;L.value={Name:(o=d.value)==null?void 0:o.Name,Email:(s=d.value)==null?void 0:s.Email,Sign:(c=d.value)==null?void 0:c.Sign}}I();function j(){const o={MethodID:$.value,Address:N.value,TimeBegin:"00",TimeEnd:"00",IsActive:"yes",ContactID:"0"};i.userEditContact(o).then(s=>{s.response==="SUCCESS"&&(i.fetchUserData().then(()=>{I()}),se())})}const Y=async o=>{var u;const s=(u=B.value[o])==null?void 0:u.ID,{result:c,error:f}=await t.deleteItem({TableID:"Contacts",RowsIDs:s});c==="SUCCESS"?(i.removeContact(s),i.fetchUserData().then(()=>{I()})):console.error("Error deleting contact on server:",f)};ce(()=>{console.log(d)});async function n(){var o;if(Z.value=!0,g.value){for(const s of Object.keys(U.value)){let c=(o=U.value)==null?void 0:o[s];c.Address!==c.oldValue&&await i.userEditContact({MethodID:c.MethodID,Address:c.Address,TimeBegin:"00",TimeEnd:"00",IsActive:"yes",IsImmediately:"yes",IsSendFiles:"yes",ContactID:c.ID}).then(({responseText:f,response:u})=>{u==="SUCCESS"&&t.deleteItem({TableID:"Contacts",RowsIDs:c.ID})})}v.value?await l.sendFile(v.value).then(s=>{i.UserPersonalDataChange({...L.value,IsClear:y.value?"yes":"","UserFoto[]":s.slice(s.lastIndexOf("^")+1,s.length)}).then(()=>{i.fetchUserData().then(()=>{ne(),T.value=new Date().getMilliseconds()})})}):await i.UserPersonalDataChange({...L.value,IsClear:y.value?"yes":""}).then(()=>{i.fetchUserData().then(()=>{v.value=null,I()})})}}function V(){var o;navigator.clipboard.writeText(`http://www.host-food.ru/p/${(o=d.value)==null?void 0:o.ID}/`)}function F(o){i.confirmContact({Method:o.MethodID,Value:o.Address,ContactID:o.ID}).then(s=>{var c;((c=s==null?void 0:s.data)==null?void 0:c.Status)==="Ok"&&b.emit("open-modal",{component:"ConfirmContact",data:{Method:o.MethodID,Value:o.Address,ContactID:o.ID}})})}function pe(o){var s;v.value=(s=o.target.files)==null?void 0:s[0]}function ve(o){o!=null&&o.IsActive||o!=null&&o.confirmed?b.emit("open-modal",{component:"EditContact",data:o}):b.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:'Уведомления для этого адреса отключены. Для включения уведомлений подтвердите адрес и поставьте галочку "Использовать для уведомлений"'}}})}function ne(){g.value=!1,v.value=null,y.value=!1,I()}function se(){g.value=!g.value,Z.value=!1}return{formLink:z,file:v,isLoading:Z,getAvatarName:H,getUserInfo:d,getContacts:B,isEditMode:g,formData:L,formContactsData:U,randomSuf:T,IsClear:y,getConfigMethods:E,getConfigPrompts:p,getPlaceholderText:ee,getTitleText:oe,stopEdit:se,switchEdit:n,copyText:V,inputFile:pe,cancelEdit:ne,editContact:ve,openConfirmationModal:F,select:$,activeContactOptions:X,addContact:j,newContactValue:N,closeContact:Y,contactsData:Q,selectedContact:q,selectedContactAddress:G,dateLimit:W,isOneYearPassed:P}}},Bt=C(ft,[["render",dt],["__scopeId","data-v-db139aac"]]);export{Bt as default};
