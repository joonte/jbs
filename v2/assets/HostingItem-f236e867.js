import{j as w,o as D,c as f,a as r,b as n,w as i,d as _,t as u,F as H,v as F,n as x,k as M,_ as P}from"./index-c7c24b76.js";import{_ as N}from"./IconDots-e4b0dd23.js";import{_ as B}from"./IconCard-57c0e3d6.js";import{S as L}from"./StatusBadge-8575efce.js";import{h as T}from"./hostStatuses-94d00f20.js";import{_ as R}from"./HelperComponent-71bfb594.js";import"./hosting-ef6b8c8f.js";import{f as C}from"./useTimeFunction-8602dd60.js";import{z as U,k as q,d as G}from"./bootstrap-vue-next.es-3f66213d.js";import{_ as J}from"./OrderIDBadge-0e604e6d.js";const K={class:"hosting-item__row"},Q={class:"hosting-item__date"},W={class:"hosting-item__row"},X={class:"hosting-item__person"},Y={class:"hosting-item__row"},Z={class:"hosting-item__list"},$={class:"hosting-item__controls"},tt={class:"btn btn--dots"};function et(d,a,t,c,g,I){var v,p,b,h,k,S,y;const o=J,s=w("router-link"),l=L,V=w("Helper"),z=B,A=N,m=U,E=q,j=G;return D(),f("div",{class:x(["hosting-item",{"hosting-item_deleted":((v=t.itemData)==null?void 0:v.StatusID)==="Deleted"}])},[r("div",K,[n(o,{orderID:(p=t.itemData)==null?void 0:p.OrderID},null,8,["orderID"]),n(s,{class:"hosting-item__name",to:t.infoLink},{default:i(()=>{var e;return[_(u((e=t.itemData)==null?void 0:e.Domain),1)]}),_:1},8,["to"]),n(l,{status:(b=t.itemData)==null?void 0:b.StatusID,"status-table":"HostingOrders"},null,8,["status"]),r("div",Q,"Дата окончания "+u(c.calculateExpirationDate((h=t.itemData)==null?void 0:h.DaysRemainded))+" | "+u(((k=t.itemData)==null?void 0:k.DaysRemainded)||0)+" дн.",1)]),r("div",W,[r("div",X,u(t.userName),1),n(V,{"user-notice":(S=t.itemData)==null?void 0:S.UserNotice,id:(y=t.itemData)==null?void 0:y.OrderID,position:t.isLast?"bottom":"top",emit:"updateHostingList"},null,8,["user-notice","id","position"])]),r("div",Y,[r("ul",Z,[(D(!0),f(H,null,F(t.params,e=>(D(),f(H,null,[e.text?(D(),f("li",{key:0,class:x({bold:e==null?void 0:e.bold})},u(e.text),3)):M("",!0)],64))),256))])]),r("div",$,[r("div",{class:"btn btn--md btn--bold",onClick:a[0]||(a[0]=e=>{var O;return d.$router.push(`/HostingOrderPay/${(O=t.itemData)==null?void 0:O.OrderID}`)})},[n(z),_("Оплатить")]),n(j,{class:"dropdown-dots",right:""},{"button-content":i(()=>[r("div",tt,[n(A)])]),default:i(()=>[n(m,null,{default:i(()=>[n(s,{to:t.infoLink},{default:i(()=>[_("Дополнительная информация")]),_:1},8,["to"])]),_:1}),n(m,null,{default:i(()=>{var e;return[n(s,{to:`/HostingOrderPay/${(e=t.itemData)==null?void 0:e.OrderID}`},{default:i(()=>[_("Продлить")]),_:1},8,["to"])]}),_:1}),n(m,{onClick:a[1]||(a[1]=e=>c.transferAccount())},{default:i(()=>[_("Передать на другой аккаунт")]),_:1}),n(m,{onClick:a[2]||(a[2]=e=>c.orderManage())},{default:i(()=>[_("Управлять заказом")]),_:1}),n(E),n(m,{class:"color-red",onClick:a[3]||(a[3]=e=>c.deleteHostingItem())},{default:i(()=>[_("Удалить")]),_:1})]),_:1})])],2)}const nt={components:{IconDots:N,IconCard:B,Helper:R,StatusBadge:L},props:{params:{type:Array,default:()=>[]},itemData:{type:Object,default:()=>{}},userName:{type:String,default:""},infoLink:{type:String,default:"/"},isLast:{type:Boolean,default:!1}},emits:["delete","transfer","manage"],setup(d,{emit:a}){function t(o){if(!o)return C(new Date);const s=new Date,l=new Date(s.getTime()+o*24*60*60*1e3);return C(l)}function c(){var o;a("delete",(o=d.itemData)==null?void 0:o.ID)}function g(){var o,s;a("transfer",{ServiceOrderID:(o=d.itemData)==null?void 0:o.ID,ServiceID:(s=d.itemData)==null?void 0:s.ServiceID})}function I(){var o,s,l;a("manage",{ServiceOrderID:(o=d.itemData)==null?void 0:o.ID,ServiceID:(s=d.itemData)==null?void 0:s.ServiceID,OrderID:(l=d.itemData)==null?void 0:l.OrderID})}return{hostStatuses:T,deleteHostingItem:c,transferAccount:g,orderManage:I,calculateExpirationDate:t}}},ut=P(nt,[["render",et],["__scopeId","data-v-6286fc9b"]]);export{ut as H};
