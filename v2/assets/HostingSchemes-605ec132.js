import{j as M,o as l,c as u,a as c,t as f,k as V,F as I,v as k,m as J,b as y,w as Q,d as R,n as T,_ as F,x as A,p as U,l as W,r as X,g as G}from"./index-4434f005.js";import{u as Y}from"./hosting-841b6443.js";import{u as Z}from"./resetServer-d0ed57a3.js";import{_ as ee}from"./IconDots-a0319d0c.js";import{_ as oe}from"./IconCard-285cc6ac.js";import{S as re}from"./StatusBadge-129e5649.js";import{u as se}from"./testTransforms-eec373ee.js";import{B as q}from"./BlockBalanceAgreement-4e844242.js";import{_ as z}from"./ClausesKeeper-68df7f35.js";import{E as te}from"./EmptyStateBlock-927727c9.js";import"./contracts-d017d511.js";import"./bootstrap-vue-next.es-5d8af788.js";import"./ButtonDefault-f91c301e.js";import"./IconArrow-6847c901.js";import"./IconClose-0cfbf563.js";const ne={class:"hosting-order-item__wrapper"},ae={class:"hosting-order-item__header"},ce={class:"hosting-order-item__name"},_e={key:0,class:"hosting-order-item__price"},ie={class:"hosting-order-item__content"},le={class:"hosting-order-item__row"},de={class:"hosting-order-item__list"},ue={class:"hosting-order-item__row"},pe={class:"hosting-order-item__note"};function ve(i,d,n,t,D,p){var S,a,v,h,e,r,s;const g=M("router-link");return l(),u("div",{class:T(["hosting-order-item",{"hosting-order-item--special":(S=n.data)==null?void 0:S.note}])},[c("div",ne,[c("div",ae,[c("div",ce,f((a=n.data)==null?void 0:a.name),1),(v=n.data)!=null&&v.price?(l(),u("div",_e,f((h=n.data)==null?void 0:h.price)+" ₽ в месяц",1)):V("",!0)]),c("div",ie,[c("div",le,[c("ul",de,[(l(!0),u(I,null,k((e=n.data)==null?void 0:e.specifications,o=>(l(),u("li",null,f(o),1))),256))])]),(r=n.data)!=null&&r.note?J(i.$slots,"default",{key:0},()=>{var o;return[c("div",ue,[c("div",pe,f((o=n.data)==null?void 0:o.note),1)])]},!0):V("",!0),y(g,{class:"btn btn--wide btn--border btn--wide",to:`/HostingSchemes/${(s=n.data)==null?void 0:s.ID}`},{default:Q(()=>[R(" Заказать")]),_:1},8,["to"])])])],2)}const he={components:{IconDots:ee,IconCard:oe,StatusBadge:re},props:{data:{type:Object,default:()=>{}}}},K=F(he,[["render",ve],["__scopeId","data-v-62ce5dab"]]),Se=i=>(U("data-v-0e491e34"),i=i(),W(),i),fe={class:"section"},ge={class:"container"},me={class:"section-header"},Ie=Se(()=>c("h1",{class:"section-title"},"Заказать хостинг",-1)),De={class:"section-nav"},Ge=["onClick"],ke={class:"section-text section-text--margin"},ye={key:0,class:"list"};function Ce(i,d,n,t,D,p){var h;const g=q,S=z,a=K,v=te;return l(),u(I,null,[y(g),c("div",fe,[c("div",ge,[c("div",me,[Ie,y(S),c("div",De,[(l(!0),u(I,null,k(t.filterServerGroups(),(e,r)=>{var s;return l(),u("div",{class:T(["section-nav__item",{active:String(t.currentGroup)===String(e==null?void 0:e.ServersGroupID)}]),onClick:o=>t.setCurrentGroup(e==null?void 0:e.ServersGroupID)},f((s=t.getServerGroup(e==null?void 0:e.ServersGroupID))==null?void 0:s.Name),11,Ge)}),256))])]),c("div",ke,f((h=t.getServerGroup(t.currentGroup))==null?void 0:h.Comment),1),t.filterSchemes?(l(),u("div",ye,[(l(!0),u(I,null,k(t.filterSchemes,e=>(l(),A(a,{data:t.getCardData(e)},null,8,["data"]))),256))])):(l(),A(v,{key:1,label:"Нет доступных тарифов"}))])])],64)}const xe={components:{HostingOrderItem:K,ClausesKeeper:z,BlockBalanceAgreement:q},async setup(){const i=Y(),d=Z(),n=X(0),{formDescriptionLine:t}=se(),D=G(()=>{let e=[];if(p.value!==null)return Object.keys(p.value).forEach(r=>{var s;String((s=p.value[r])==null?void 0:s.ServersGroupID)===String(n.value)&&e.push(p.value[r])}),e}),p=G(()=>i==null?void 0:i.hostingSchemes);function g(e){n.value=e}function S(e){var r,s,o,_,m;return{ID:e==null?void 0:e.ID,name:e==null?void 0:e.Name,price:e==null?void 0:e.CostMonth,specifications:[t((r=e==null?void 0:e.SchemeParams)==null?void 0:r.limit_webdomains),t((s=e==null?void 0:e.SchemeParams)==null?void 0:s.limit_quota),t((o=e==null?void 0:e.SchemeParams)==null?void 0:o.limit_emails),t((_=e==null?void 0:e.SchemeParams)==null?void 0:_.disklimit),t((m=e==null?void 0:e.SchemeParams)==null?void 0:m.maillimit)],note:e==null?void 0:e.Comment}}const a=G(()=>{var e;return(e=d==null?void 0:d.serverGroupsList)==null?void 0:e.Servers});function v(){var r,s;let e={};return Object.keys(a.value).forEach(o=>{var _,m,C,x,w,B,H,O,b,N,j,E,P,$,L;((m=(_=a.value)==null?void 0:_[o])==null?void 0:m.ServiceID)==="10000"&&(e[(x=(C=a.value)==null?void 0:C[o])==null?void 0:x.ServersGroupID]={...e==null?void 0:e[(B=(w=a.value)==null?void 0:w[o])==null?void 0:B.ServersGroupID],SortID:(O=(H=a.value)==null?void 0:H[o])==null?void 0:O.SortID,ServersGroupID:(N=(b=a.value)==null?void 0:b[o])==null?void 0:N.ServersGroupID},e[(E=(j=a.value)==null?void 0:j[o])==null?void 0:E.ServersGroupID][($=(P=a.value)==null?void 0:P[o])==null?void 0:$.ID]=(L=a.value)==null?void 0:L[o])}),(s=(r=Object.keys(e))==null?void 0:r.map(o=>e[o]))==null?void 0:s.sort((o,_)=>(o==null?void 0:o.SortID)<(_==null?void 0:_.SortID)?-1:(o==null?void 0:o.SortID)>(_==null?void 0:_.SortID)?1:0)}function h(e){var r,s;return(s=(r=d==null?void 0:d.serverGroupsList)==null?void 0:r.ServersGroups)==null?void 0:s[e]}return await i.fetchHostingSchemes(),await d.fetchServerGroups().then(()=>{var e,r;n.value=(r=(e=v())==null?void 0:e[0])==null?void 0:r.ServersGroupID}),{getHostingSchemes:p,getServerGroup:h,filterServerGroups:v,setCurrentGroup:g,getCardData:S,filterSchemes:D,currentGroup:n}}},qe=F(xe,[["render",Ce],["__scopeId","data-v-0e491e34"]]);export{qe as default};
