import{_ as A}from"./LoadingIndicator-DXjOL6Pz.js";import{_ as C}from"./EmptyStateBlock-Ad1AmtSS.js";import{_ as L,a as $}from"./BlockDependentServices-CX2fnrCR.js";import{_ as R}from"./BlockAdditionalServices-C2o0wt_v.js";import{_ as j}from"./ClausesKeeper-gPyacQ05.js";import{_ as E}from"./BlockBalanceAgreement-DSLTUOoQ.js";import{R as F,u as P,r as l,f as u,g as T,D as U,c as O,b as s,C as d,a as p,h as K,t as q,w as k,E as z,F as G,d as H,x as J,o,e as x}from"./index-C9dBN6m4.js";import{u as M}from"./services-moLhYNFg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ButtonDefault-B1FApUky.js";import"./BlueButton.vue_vue_type_script_setup_true_lang-q3k2Q2g8.js";import"./StatusBadge-DZmmWv0G.js";import"./bootstrap-vue-next-BglOzul_.js";import"./ServiceListOrderSelection-DnnRkveR.js";import"./TotalAmount.vue_vue_type_script_setup_true_lang-BJFSjxtt.js";import"./BasicInput-VlbY6GiE.js";import"./component-D8Pmx5O0.js";import"./BlockSelectContract-Dn4S5pYG.js";import"./contracts-BEc0DZS2.js";import"./multiselect-B6DlyfA6.js";import"./IconClose-CgjzG0Yf.js";import"./index-D0iqQ1zq.js";const Q={key:0,class:"tw-px-4 md:tw-px-8 tw-mb-6"},W={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},X={class:"tw-flex tw-items-center tw-gap-8 tw-border-b tw-border-gray-200 tw-mt-4 tw-whitespace-nowrap tw-mb-6"},Oe={__name:"DomainServices",async setup(Y){let _,v;const y=T();H();const w=F(),f=M(),a=P();J("emitter");const i=l([]),S=l(!0);l(!1);const e=u(()=>Object.values(w.domainsList).find(n=>n.OrderID===Number(y.params.id))),D=u(()=>e.value?{ServiceID:e.value.ServiceID}:null),g=u(()=>{if(!e.value?.OrderID||!a?.userOrders)return[];const n=e.value.OrderID;return Object.keys(a.userOrders).map(r=>a.userOrders[r]).filter(r=>String(r.DependOrderID)===String(n)&&r.ServiceID&&f.ServicesList[r.ServiceID]).sort((r,m)=>Number(r?.ID)-Number(m?.ID))});return[_,v]=U(()=>Promise.all([w.fetchDomainOrders(),f.fetchServices(),a.fetchUserOrders()])),await _,v(),S.value=!1,(n,t)=>{const b=E,c=z("RouterLink"),r=j,m=L,I=R,B=$,h=C,N=A;return o(),O(G,null,[s(b),e.value?(o(),O("div",Q,[t[3]||(t[3]=p("h1",{class:"tw-text-xl sm:tw-text-4xl"},"Дополнительные услуги",-1)),p("div",W,"Домен #"+q(e.value.OrderID),1),p("div",X,[s(c,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/DomainOrders/${e.value.OrderID}`},{default:k(()=>t[1]||(t[1]=[x(" Домен ",-1)])),_:1,__:[1]},8,["to"]),s(c,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/DomainOrders/${e.value.OrderID}/Services`},{default:k(()=>t[2]||(t[2]=[x(" Услуги ",-1)])),_:1,__:[2]},8,["to"])]),s(r),s(m,{services:g.value},null,8,["services"]),D.value?(o(),d(I,{key:0,modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=V=>i.value=V),"service-search-params":D.value,class:"tw-mt-6"},null,8,["modelValue","service-search-params"])):K("",!0),s(B,{services:i.value,"main-order":e.value},null,8,["services","main-order"])])):S.value?(o(),d(N,{key:2,class:"tw-mt-10"})):(o(),d(h,{key:1,label:"Заказ не найден"}))],64)}}};export{Oe as default};
