import{_ as N}from"./ButtonDefault-6be40158.js";import{_ as w}from"./BasicInput-8d367d41.js";import{_ as M}from"./BlockSelectContract-318dcd87.js";import{_ as T,R as E,r as c,g,o as u,c as m,a,b as p,F as x,v as A,t as D,k as B,p as O,l as U}from"./index-19d4a9c5.js";import{u as W}from"./domain-5dfd5643.js";import"./component2-49affe03.js";import"./component-8524a4e6.js";import"./contracts-9a2dcfb1.js";import"./multiselect-6b76b6bf.js";const k=_=>(O("data-v-9a2ff52a"),_=_(),U(),_),$={class:"modal__body"},j={class:"modal__domain-select"},F=k(()=>a("div",{class:"list-item__title"},"Перенос домена",-1)),L=k(()=>a("div",{class:"list-item__secondary-title"},"Домены в зонах ru/su/рф переносятся без дополнительных условий, во всех остальных зонах переносятся с оплатой продления на год. Ниже приведены цены на продление Вашего доменного имени.",-1)),Z={class:"modal__info"},H={class:"modal__lower-block"},P={class:"modal__domain-list"},R={key:0,class:"domain__grid"},q={class:"domain__item domain__item_inactive"},z={class:"domain__info-wrapper"},G={class:"domain__info-wrapper-vertical"},J={class:"domain__info-wrapper"},K={class:"domain__info-title"},Q={class:"domain__package-name"},X={class:"domain__info-wrapper"},Y={class:"domain__price"},oo={__name:"ModalWindowDomainTransfer",props:["data"],emits:["modalClose"],setup(_,{emit:b}){const n=W(),C=E("emitter"),s=c(""),i=c(""),v=c(""),f=c(!1),d=g(()=>n==null?void 0:n.domainSchemes),S=g(()=>{var t;return(t=Object.keys(d.value).map(e=>d.value[e]).find(e=>{var r,l;return e.Name===((l=(r=s.value)==null?void 0:r.split("."))==null?void 0:l[1])}))==null?void 0:t.ID});function h(){b("modalClose")}function V(){f.value=!0,n.CheckDomainTransfer({ContractID:i.value||null,DomainName:s.value||null,StepID:1}).then(({result:t})=>{t==="SUCCESS"?n.DomainTransfer({ContractID:i.value||null,DomainName:s.value.split(".")[0]||null,AuthInfo:v.value||"",DomainSchemeID:S.value||null,DomainZone:s.value.split(".")[1]}).then(()=>{C.emit("updateDomainsList"),h()}):f.value=!1})}return(t,e)=>{var I;const r=M,l=w,y=N;return u(),m("div",$,[a("div",j,[F,L,a("div",Z,[p(r,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),onButtonClicked:e[1]||(e[1]=o=>h())},null,8,["modelValue"]),p(l,{label:"Доменное имя",placeholder:"yourDomain.ru",necessarily:!0,modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value=o)},null,8,["modelValue"]),p(l,{label:"Ключ переноса домена (AuthInfo)",placeholder:"",modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o)},null,8,["modelValue"])])]),a("div",H,[a("div",P,[d.value?(u(),m("div",R,[(u(!0),m(x,null,A(d.value,o=>(u(),m("div",q,[a("div",z,[a("div",G,[a("div",J,[a("div",K,"."+D(o==null?void 0:o.Name),1)]),a("div",Q,D(o==null?void 0:o.PackageID),1)])]),a("div",X,[a("div",Y,D(o==null?void 0:o.CostTransfer)+" ₽",1)])]))),256))])):B("",!0)])]),p(y,{class:"domain__transfer-item",label:"Перенести","is-loading":f.value,disabled:((I=s.value)==null?void 0:I.length)<=0,onClick:e[4]||(e[4]=o=>V())},null,8,["is-loading","disabled"])])}}},co=T(oo,[["__scopeId","data-v-9a2ff52a"]]);export{co as default};
