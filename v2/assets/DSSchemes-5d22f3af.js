import{S as x}from"./ServerItem-905425b1.js";import{o as c,c as p,b,a as i,Z as j,ae as E,F as G,x as C,y as w,n as V,t as $,p as L,l as M,_ as P,r as A,g as I,h as F}from"./index-5e313302.js";import{u as U}from"./dedicatedServer-a434bad7.js";import{u as z}from"./vps-80bde7d9.js";import{u as Z}from"./resetServer-2f6a71c3.js";import{B as N}from"./BlockBalanceAgreement-bb87adc1.js";import{E as q}from"./EmptyStateBlock-9f752916.js";import{_ as H}from"./ClausesKeeper-eb954229.js";import"./IconDots-f060bcd6.js";import"./IconCard-67ad5f17.js";import"./StatusBadge-98696de1.js";import"./contracts-3351d68f.js";import"./bootstrap-vue-next.es-a19a8b41.js";import"./ButtonDefault-7c216fc6.js";import"./IconArrow-555f9d45.js";import"./IconClose-1f889a2e.js";const O=n=>(L("data-v-110f19fb"),n=n(),M(),n),J={class:"section"},K={class:"container"},Q={class:"section-header"},R=O(()=>i("h1",{class:"section-title"},"Заказ выделенного сервера",-1)),T=O(()=>i("div",{class:"section-text"},"При покупке этой услуги у вас появляется полностью укомплектованный, настроенный выделенный сервер, с операционной системой на ваш выбор, размещённый в дата-центре в Москве, по самым низким ценам.",-1)),W={class:"section-nav"},X=["title","onClick"],Y={key:0,class:"list"};function rr(n,_,a,e,v,h){const S=N,u=H,d=x,f=q;return c(),p(G,null,[b(S),i("div",J,[i("div",K,[i("div",Q,[R,T,b(u),j(i("div",W,[(c(!0),p(G,null,C(e.filterServerGroups(),(o,D)=>{var l,s;return c(),p("div",{class:V(["section-nav__item",{active:String(e.currentGroup)===String(o==null?void 0:o.ServersGroupID)}]),title:(l=e.getServerGroup(o==null?void 0:o.ServersGroupID))==null?void 0:l.Comment,onClick:r=>e.setCurrentGroup(o==null?void 0:o.ServersGroupID)},$((s=e.getServerGroup(o==null?void 0:o.ServersGroupID))==null?void 0:s.Name),11,X)}),256))],512),[[E,e.filterServerGroups().length>1]])]),e.getDSSchemes&&e.getDSSchemes.length?(c(),p("div",Y,[(c(!0),p(G,null,C(e.sort(e.getDSSchemes),o=>(c(),w(d,{data:o,specifications:e.getDSItemSpecifications(o.ID),image:o.Image},null,8,["data","specifications","image"]))),256))])):(c(),w(f,{key:1,label:"Нет доступных серверов"}))])])],64)}const sr={components:{ServerItem:x,BlockBalanceAgreement:N},async setup(){var D,l;const n=U(),_=z(),a=Z(),e=A(0),v=I(()=>Object.keys(n==null?void 0:n.DSSchemes).map(s=>n==null?void 0:n.DSSchemes[s])),h=I(()=>{var s;return(s=a==null?void 0:a.serverGroupsList)==null?void 0:s.Servers});I(()=>Object.keys(_.vpsSchemes).map(s=>_.vpsSchemes[s]));function S(s){e.value=s}function u(){let s={};return Object.values(h.value).forEach(r=>{if(r.ServiceID==="40000"){const t=r.ServersGroupID;s[t]||(s[t]={SortID:r.SortID,ServersGroupID:t,servers:[]}),s[t].servers.push(r)}}),Object.values(s).sort((r,t)=>r.SortID-t.SortID)}function d(s){var r,t;return(t=(r=a==null?void 0:a.serverGroupsList)==null?void 0:r.ServersGroups)==null?void 0:t[s]}function f(s){var t,k,m,y,B;const r=(t=v.value)==null?void 0:t.find(g=>(g==null?void 0:g.ID)===s);return[`OS: ${r==null?void 0:r.OS}`,`${(k=r==null?void 0:r.Names)==null?void 0:k.CPU}: ${r==null?void 0:r.CPU}`,`${(m=r==null?void 0:r.Names)==null?void 0:m.ram}: ${r==null?void 0:r.ram} GB`,`${(y=r==null?void 0:r.Names)==null?void 0:y.raid}: ${r==null?void 0:r.raid}`,`${(B=r==null?void 0:r.Names)==null?void 0:B.disks}: ${r==null?void 0:r.disks}`]}function o(s){return s!==null?s.sort((r,t)=>r.CostMonth-t.CostMonth):s}return F(()=>{console.log(u(),"ServerGropus")}),await n.fetchDSOrders(),await n.fetchDSSchemes(),await _.fetchVPSSchemes(),await a.fetchServerGroups(),e.value=(l=(D=u())==null?void 0:D[0])==null?void 0:l.ServersGroupID,{getDSItemSpecifications:f,sort:o,getDSSchemes:v,getServerGroup:d,filterServerGroups:u,setCurrentGroup:S,currentGroup:e}}},gr=P(sr,[["render",rr],["__scopeId","data-v-110f19fb"]]);export{gr as default};
