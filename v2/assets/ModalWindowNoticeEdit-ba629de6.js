import{o as N,c as v,a as s,t as r,Y as C,ae as D,x as U,k as x,b as I,_ as g,R as k,r as b,i as E}from"./index-ed1f28f8.js";import{u as V}from"./globalActions-55d313ae.js";import{_ as w}from"./ButtonDefault-a8aacc82.js";const y={class:"modal__body"},h={class:"list-item__title"},S={class:"modal__input-row"},T={class:"list-form_col list-form_col--xl"},B={class:"search-field form-field"},M={class:"modal__buttons"};function O(t,i,e,d,_,f){var u,a,n,c,o;const m=w;return N(),v("div",y,[s("div",h,"Редактирование примечания, заказ # "+r((u=e.data)==null?void 0:u.OrderID),1),s("div",S,[s("div",T,[s("div",B,[C(s("textarea",{"onUpdate:modelValue":i[0]||(i[0]=l=>d.inputValue=l)},null,512),[[D,d.inputValue]])])])]),s("div",M,[((a=e.data)==null?void 0:a.UserNotice)!==null&&((n=e.data)==null?void 0:n.UserNotice)!==""?(N(),U(m,{key:0,class:"modal__button",label:"Удалить","is-loading":d.isLoading,onClick:i[1]||(i[1]=l=>d.deleteNotice())},null,8,["is-loading"])):x("",!0),I(m,{class:"modal__button",label:((c=e.data)==null?void 0:c.UserNotice)!==null&&((o=e.data)==null?void 0:o.UserNotice)!==""?"Изменить":"Добавить","is-loading":d.isLoading,onClick:i[2]||(i[2]=l=>d.editNotice())},null,8,["label","is-loading"])])])}const L={props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(t,{emit:i}){const e=V(),d=k("emitter"),_=b(null),f=b(!1);function m(){var a,n;e==null||e.NoticeEdit({TableID:(a=t.data)==null?void 0:a.noteTable,RowID:(n=t.data)==null?void 0:n.OrderID,UserNotice:_.value}).then(c=>{var o,l;c==="SUCCESS"&&(i("modalClose"),(o=t==null?void 0:t.data)!=null&&o.emit&&d.emit((l=t==null?void 0:t.data)==null?void 0:l.emit))})}function u(){var a,n;e==null||e.NoticeEdit({TableID:(a=t.data)==null?void 0:a.noteTable,RowID:(n=t.data)==null?void 0:n.OrderID,UserNotice:""}).then(c=>{var o,l;c==="SUCCESS"&&(i("modalClose"),(o=t==null?void 0:t.data)!=null&&o.emit&&d.emit((l=t==null?void 0:t.data)==null?void 0:l.emit))})}return E(()=>{var a;_.value=(a=t==null?void 0:t.data)==null?void 0:a.UserNotice}),{inputValue:_,isLoading:f,editNotice:m,deleteNotice:u}}},Y=g(L,[["render",O],["__scopeId","data-v-baddb715"]]);export{Y as default};
