import{_ as K}from"./StatusBadge-BmqDrHzy.js";import{_ as J}from"./IconLink-D5X10WIs.js";import{_ as Q}from"./OrderIDBadge-DCIAfa63.js";import{_ as X}from"./ServerStatusBadge.vue_vue_type_script_setup_true_lang-CNB3-WyC.js";import{r as Z,Y as tt,v as et,m as nt}from"./bootstrap-vue-next-W16P-SAV.js";import{_ as ot}from"./IconDots-BIoh_VC5.js";import{_ as st}from"./UserNote-9g0f9gxP.js";import{_ as rt}from"./IconCard-C_8uFbeS.js";import{_ as it}from"./CardButton-DT2I8_xv.js";import{U as at,r as N,f as R,o as u,c as m,K as lt,v as C,j as w,a as s,t as c,F as P,g as T,h as S,d as dt,m as ut,x as mt,G as wt,b as n,w as i,e as d,n as B}from"./index-Codq73aV.js";import{f as L}from"./time-DenPiOX5.js";import{i as ct}from"./common-DyknwSqv.js";import{v as ft}from"./index-BO2gwtUe.js";import{_ as gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const pt={key:0,class:"tw-flex tw-items-center"},vt={key:0,class:"tw-absolute tw-top-8 tw-left-0 tw-space-y-1 tw-bg-sky-100 tw-border tw-rounded tw-border-gray-200 tw-p-2 tw-z-30"},Dt={class:"tw-whitespace-nowrap"},_t=at({__name:"ParkedDomains",props:{parkedDomains:{}},setup(e){const k=e,o=N(!1);function f(v){v.pointerType!=="touch"&&(o.value=!1)}function _(){o.value=!1}function g(){o.value=!o.value}function y(v){v.pointerType!=="touch"&&(o.value=!0)}const p=R(()=>k.parkedDomains?k.parkedDomains.split(","):[]);return(v,$)=>p.value.length>1?(u(),m("div",pt,[lt((u(),m("div",{class:"tw-relative tw-flex tw-items-center tw-text-xs tw-font-semibold tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded tw-p-1 tw-bg-sky-100",onClick:w(g,["stop"]),onPointerenter:y,onPointerleave:f},[s("div",null,"+"+c(p.value.length),1),o.value?(u(),m("div",vt,[(u(!0),m(P,null,T(p.value,O=>(u(),m("div",Dt,c(O),1))),256))])):S("",!0)],32)),[[C(ft),_]])])):S("",!0)}}),ht={class:"btn btn--dots"},xt={class:"tw-flex tw-flex-col lg:tw-flex-row tw-mt-10 xl:tw-mt-0 xl:tw-items-center tw-gap-2 xl:tw-gap-4"},It={class:"tw-flex tw-items-center tw-gap-4"},kt={class:"tw-flex tw-gap-2 tw-items-center"},yt={class:"tw-flex tw-gap-4"},Ot=["href"],bt={class:"tw-text-sky-400 tw-mt-2"},Ct={class:"tw-flex tw-flex-col lg:tw-items-center lg:tw-flex-row lg:tw-justify-between tw-gap-2 tw-mt-2"},St={class:"tw-flex tw-flex-wrap tw-items-center tw-gap-x-4 tw-gap-y-1 tw-mt-2 tw-text-sm tw-text-gray-500 tw-text-nowrap"},$t={class:"tw-flex tw-items-center tw-gap-2 tw-text-nowrap"},Ht={class:"hosting-status__date"},Bt={__name:"HostingCard",props:{params:{type:Array,default:()=>[]},hosting:{type:Object,default:()=>{}},userName:{type:String,default:""},infoLink:{type:String,default:"/"},isLast:{type:Boolean,default:!1},isSeveral:{type:Boolean,default:!1},selectedRows:{type:Object,required:!0}},emits:["delete","transfer","manage","update-selected-rows"],setup(e,{emit:k}){const o=e,f=k,_=dt(),g=N({...o.selectedRows}),y=()=>{f("update-selected-rows",g.value)};ut(()=>o.selectedRows,r=>{g.value={...r}},{deep:!0});const p=mt("emitter"),v=R(()=>{if(!o.hosting.Domain)return"";const r=o.hosting.Domain;return r.startsWith("http://")||r.startsWith("https://")?r:`https://${r}`});function $(){ct()||_.push(`/HostingOrders/${o.hosting.OrderID}`)}function O(r){if(!r)return L(new Date);const t=new Date,D=new Date(t.getTime()+r*24*60*60*1e3);return L(D)}function V(r){p.emit("open-modal",{component:"StatusHistory",data:{modeID:"HostingOrders",rowID:r}})}function j(){p.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:o.hosting.ID,ServiceID:o.hosting.ServiceID,emitEvent:"updateHostingOrdersId",Login:o.hosting.Login}})}function M(){f("delete",o.hosting.ID,o.hosting.OrderID)}function U(){f("transfer",{ServiceOrderID:o.hosting.ID,ServiceID:o.hosting.ServiceID})}function H(){f("manage",{ServiceOrderID:o.hosting.ID,ServiceID:o.hosting.ServiceID,OrderID:o.hosting.OrderID})}function z(r){if(!r)return"";const t=new Date(Number.parseInt(r)*1e3),b=new Date-t,h=Math.floor(b/1e3),x=Math.floor(h/60),l=Math.floor(x/60),I=Math.floor(l/24);return h<60?`${h} сек. от статуса`:x<60?`${x} мин. от статуса`:l<24?`${l} ч. от статуса`:`${I} дн. от статуса`}return(r,t)=>{const D=it,b=rt,h=st,x=ot,l=Z,I=wt("RouterLink"),E=tt,F=et,A=nt,W=X,Y=Q,q=J,G=K;return u(),m("div",{onClick:t[12]||(t[12]=a=>$()),class:"tw-relative tw-p-4 tw-border tw-border-gray-200 tw-rounded tw-cursor-pointer hover:tw-bg-sky-100"},[s("div",{onClick:t[7]||(t[7]=w(()=>{},["stop"])),class:"tw-absolute tw-right-4 tw-top-4 tw-flex tw-items-center tw-gap-1"},[n(D,{onClick:t[0]||(t[0]=w(a=>C(_).push(`/HostingOrders/${e.hosting.OrderID}/SchemeChange`),["stop"]))},{default:i(()=>t[13]||(t[13]=[d(" Изменить тариф ",-1)])),_:1,__:[13]}),n(D,{onClick:t[1]||(t[1]=w(a=>C(_).push(`/HostingOrderPay/${e.hosting.OrderID}`),["stop"]))},{default:i(()=>[n(b,{class:"tw-size-6"}),t[14]||(t[14]=s("div",null,"Оплатить",-1))]),_:1,__:[14]}),n(D,{onClick:t[2]||(t[2]=w(a=>H(),["stop"])),class:"tw-hidden sm:tw-flex"},{default:i(()=>t[15]||(t[15]=[d("Управлять заказом",-1)])),_:1,__:[15]}),n(h,{text:e.hosting.UserNotice,"order-id":e.hosting.OrderID,emit:"updateHostingList"},null,8,["text","order-id"]),n(F,{right:"",class:"dropdown-dots"},{"button-content":i(()=>[s("span",ht,[n(x)])]),default:i(()=>[n(l,{onClick:t[3]||(t[3]=a=>H())},{default:i(()=>t[16]||(t[16]=[d("Управлять заказом",-1)])),_:1,__:[16]}),n(l,null,{default:i(()=>[n(I,{to:e.infoLink},{default:i(()=>t[17]||(t[17]=[d("Дополнительная информация",-1)])),_:1,__:[17]},8,["to"])]),_:1}),n(l,null,{default:i(()=>[n(I,{to:`/HostingOrderPay/${e.hosting.OrderID}`},{default:i(()=>t[18]||(t[18]=[d("Продлить",-1)])),_:1,__:[18]},8,["to"])]),_:1}),n(l,null,{default:i(()=>[n(I,{to:`/HostingOrders/${e.hosting.OrderID}/SchemeChange`},{default:i(()=>t[19]||(t[19]=[d("Изменить тариф",-1)])),_:1,__:[19]},8,["to"])]),_:1}),n(l,{onClick:t[4]||(t[4]=a=>U())},{default:i(()=>t[20]||(t[20]=[d("Передать на другой аккаунт",-1)])),_:1,__:[20]}),n(l,{onClick:t[5]||(t[5]=a=>j())},{default:i(()=>t[21]||(t[21]=[d("Сменить пароль",-1)])),_:1,__:[21]}),n(E),n(l,{class:"color-red",onClick:t[6]||(t[6]=a=>M())},{default:i(()=>t[22]||(t[22]=[d("Удалить",-1)])),_:1,__:[22]})]),_:1})]),s("div",xt,[s("div",It,[e.isSeveral?(u(),m("div",{key:0,onClick:t[9]||(t[9]=w(()=>{},["stop"]))},[n(A,{id:"checkbox-"+e.hosting.OrderID,modelValue:g.value[e.hosting.OrderID],"onUpdate:modelValue":t[8]||(t[8]=a=>g.value[e.hosting.OrderID]=a),name:"checkbox-"+e.hosting.OrderID,onChange:y},null,8,["id","modelValue","name"])])):S("",!0),s("div",kt,[n(W,{indicators:e.hosting.Stat?.Last},null,8,["indicators"]),n(Y,{orderId:e.hosting.OrderID},null,8,["orderId"])])]),s("div",yt,[s("a",{href:v.value,target:"_blank",onClick:t[10]||(t[10]=w(()=>{},["stop"])),class:"tw-flex tw-items-center tw-gap-2 tw-text-lg"},[s("div",null,c(e.hosting.Domain),1),n(q,{class:"tw-size-5"})],8,Ot),n(_t,{"parked-domains":e.hosting.Parked},null,8,["parked-domains"])])]),s("div",bt,c(e.userName),1),s("div",Ct,[s("div",St,[(u(!0),m(P,null,T(e.params,a=>(u(),m("div",{class:B({"tw-font-bold":a.bold})},c(a.text),3))),256))]),s("div",$t,[s("span",{class:B(["hosting-item__date tw-pl-0",{danger:Number(e.hosting.DaysRemainded)<14}])},c(O(e.hosting.DaysRemainded))+" • "+c(e.hosting.DaysRemainded||0)+" дн. ",3),n(G,{class:"status-badge tw-cursor-pointer",status:e.hosting.StatusID,"status-table":"HostingOrders",onClick:t[11]||(t[11]=w(a=>V(e.hosting.ID),["stop"]))},null,8,["status"]),s("div",Ht,c(z(e.hosting.StatusDate)),1)])])])}}},Yt=gt(Bt,[["__scopeId","data-v-4d4a3246"]]);export{Yt as _};
