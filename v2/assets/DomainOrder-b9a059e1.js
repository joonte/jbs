import{j as H,o as m,c as u,b as c,a as t,t as r,w as J,d as K,x as Q,k,Y as X,Z as $,F as tt,p as ot,l as st,_ as et,a7 as it,f as nt,e as at,R as lt,r as ct,g as S}from"./index-eaeb1281.js";import{u as rt}from"./domain-e28cacfb.js";import{f as _t,a as mt}from"./useTimeFunction-8602dd60.js";import{_ as dt}from"./IconCard-6f1a0464.js";import{I as gt}from"./IconProfile-d6caea69.js";import{I as ut}from"./IconSettings-cd8e71ea.js";import{I as Dt}from"./IconEye-054b5c41.js";import{S as z}from"./StatusBadge-e3643114.js";import{B as G}from"./BlockBalanceAgreement-11afb494.js";import"./component2-c4162fc9.js";import{E as ht}from"./EmptyStateBlock-5faddaec.js";import{_ as vt}from"./ServicesContractBalanceBlock-dae08a80.js";import{_ as bt}from"./ButtonDefault-598fef28.js";import{_ as It}from"./ClausesKeeper-a152fc61.js";import"./contracts-ac470ffa.js";import"./bootstrap-vue-next.es-f4c478af.js";import"./IconArrow-ce1bc7b6.js";import"./IconClose-e8029cfe.js";const pt={Waiting:{id:1,label:"Ожидание оплаты",color:"#459FD1",background:"#ADC1F04C"},ClaimForRegister:{id:2,label:"Заявка на регистрацию",color:"#FFC107",background:"#FFC10733"},ForContractRegister:{id:3,label:"Для регистрации договора",color:"#FFC107",background:"#FFC10733"},OnContractRegister:{id:4,label:"На регистрации договора",color:"#FFC107",background:"#FFC10733"}},l=_=>(ot("data-v-5cf64aeb"),_=_(),st(),_),ft={key:0,class:"section"},wt={class:"container"},kt={class:"section-header"},St={class:"section-title"},Ct={class:"section-label"},Ft={class:"section-nav"},Ot={class:"list"},yt={class:"list-col list-col--md"},Pt={class:"list-item"},xt={class:"list-item__row"},Bt={class:"list-item__title"},Rt={class:"list-item__status"},At={class:"list-item__row"},Nt={class:"list-item__ul"},Tt={key:0},Vt={class:"list-item__row list-item__row--column"},Wt={key:0,class:"list-item__text"},Ut={class:"list-item__row"},Et={class:"btn btn--border btn--switch"},jt=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),Lt=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),Mt={class:"list-col list-col--md"},Yt={class:"list-item"},Zt={class:"list-item__row list-item__row--nowrap"},qt=l(()=>t("div",{class:"list-item__title"},"Именные сервера",-1)),zt={class:"list-item__row list-item__row--table"},Gt=l(()=>t("div",{class:"list-item__item"},"Первичный сервер",-1)),Ht={class:"list-item__item"},Jt={class:"list-item__row list-item__row--table"},Kt=l(()=>t("div",{class:"list-item__item"},"Вторичный сервер",-1)),Qt={class:"list-item__item"},Xt={class:"list-col list-col--md"},$t={class:"list-item"},to=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Контактные данные")],-1)),oo={class:"list-item__row list-item__row--table"},so=l(()=>t("div",{class:"list-item__item"},"Скрыть данные в WhoIs",-1)),eo={class:"btn btn--switch"},io=["checked"],no=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),ao={class:"list-item__row list-item__row--table"},lo=l(()=>t("div",{class:"list-item__item"},"Последнее обновление адрес",-1)),co={class:"list-item__item"},ro={key:1,class:"section"},_o={class:"container"};function mo(_,e,n,o,v,D){var h,s,a,C,F,O,y,P,x,B,R,A,N,T,V,W,U,E,j,L,M,Y,Z,q;const i=G,b=H("router-link"),I=It,d=bt,p=vt,f=z,w=ht;return m(),u(tt,null,[c(i),(h=o.getDomain)!=null&&h.ID?(m(),u("div",ft,[t("div",wt,[t("div",kt,[t("h1",St,r((s=o.getDomain)==null?void 0:s.Domain),1),t("div",Ct,"Домен # "+r((a=o.getDomain)==null?void 0:a.OrderID),1),t("div",Ft,[c(b,{class:"section-nav__item",to:`/DomainOrders/${(C=o.getDomain)==null?void 0:C.OrderID}`},{default:J(()=>[K("Домен")]),_:1},8,["to"])])]),c(I),((F=o.getDomain)==null?void 0:F.StatusID)==="Waiting"||((O=o.getDomain)==null?void 0:O.StatusID)==="ClaimForRegister"||((y=o.getDomain)==null?void 0:y.StatusID)==="ForContractRegister"||((P=o.getDomain)==null?void 0:P.StatusID)==="ForRegister"||((x=o.getDomain)==null?void 0:x.StatusID)==="ForTransfer"?(m(),Q(d,{key:0,class:"btn-mn__bot",label:"Определить владельца",onClick:e[0]||(e[0]=g=>o.designateOwner())})):k("",!0),t("div",Ot,[c(p,{"contract-id":(B=o.getDomain)==null?void 0:B.ContractID,onTransfer:e[1]||(e[1]=g=>o.transferItem())},null,8,["contract-id"]),t("div",yt,[t("div",Pt,[t("div",xt,[t("div",Bt,r((R=o.getDomain)==null?void 0:R.Domain),1),t("div",Rt,[c(f,{status:(A=o.getDomain)==null?void 0:A.StatusID,"status-table":"DomainOrders"},null,8,["status"])])]),t("div",At,[t("ul",Nt,[(N=o.getDomainScheme)!=null&&N.PackageID?(m(),u("li",Tt,r((T=o.getDomainScheme)==null?void 0:T.PackageID),1)):k("",!0)])]),t("div",Vt,[(V=o.getDomainScheme)!=null&&V.CostProlong?(m(),u("div",Wt,r((W=o.getDomainScheme)==null?void 0:W.CostProlong)+" ₽ продлить на 12 месяцев",1)):k("",!0)]),t("div",Ut,[c(d,{label:((U=o.getDomain)==null?void 0:U.StatusID)==="ClaimForRegister"||((E=o.getDomain)==null?void 0:E.StatusID)==="Waiting"?"Оплатить":"Продлить",onClick:e[2]||(e[2]=g=>o.navigateToProlong())},null,8,["label"]),t("label",Et,[X(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=g=>o.isAutoProlong=g),onInput:e[4]||(e[4]=g=>o.setProlongValue())},null,544),[[$,o.isAutoProlong]]),jt,Lt])])])]),t("div",Mt,[t("div",Yt,[t("div",Zt,[qt,c(d,{class:"ml-auto",label:"Редактировать",disabled:((j=o.getDomain)==null?void 0:j.StatusID)==="ClaimForRegister"||((L=o.getDomain)==null?void 0:L.StatusID)==="Waiting"},null,8,["disabled"])]),t("div",zt,[Gt,t("div",Ht,r((M=o.getDomain)==null?void 0:M.Ns1Name),1)]),t("div",Jt,[Kt,t("div",Qt,r((Y=o.getDomain)==null?void 0:Y.Ns2Name),1)])])]),t("div",Xt,[t("div",$t,[to,t("div",oo,[so,t("label",eo,[t("input",{type:"checkbox",checked:(Z=o.getDomain)==null?void 0:Z.IsPrivateWhoIs,disabled:""},null,8,io),no])]),t("div",ao,[lo,t("div",co,r(o.lastUpdate((q=o.getDomain)==null?void 0:q.StatusDate)),1)])])])])])])):(m(),u("div",ro,[t("div",_o,[c(w,{label:"Заказ не найден"})])]))],64)}const go={components:{IconCard:dt,IconProfile:gt,IconSettings:ut,IconEye:Dt,StatusBadge:z,BlockBalanceAgreement:G},async setup(){const _=it(),e=nt(),n=rt(),o=at(),v=lt("emitter"),D=ct(null),i=S(()=>Object.keys(n==null?void 0:n.domainsList).map(s=>n==null?void 0:n.domainsList[s]).find(s=>s.OrderID===_.params.id)),b=S(()=>{var s,a;return(a=n==null?void 0:n.domainSchemes)==null?void 0:a[(s=i.value)==null?void 0:s.SchemeID]}),I=S(()=>{var s,a;return(a=e==null?void 0:e.userOrders)==null?void 0:a[(s=i.value)==null?void 0:s.OrderID]});function d(s){return s?_t(mt(s)):""}function p(){console.log(i.value);try{const s={DomainOrderID:i==null?void 0:i.value.ID};v.emit("open-modal",{component:"DomainSelectOwner",data:s})}catch(s){console.error(s)}}function f(){var s,a;v.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(s=i.value)==null?void 0:s.ID,ServiceID:(a=i.value)==null?void 0:a.ServiceID}})}function w(){var s;e.prolongOrder({IsAutoProlong:D.value?0:1,OrderID:(s=i.value)==null?void 0:s.OrderID})}function h(){var s;o.push(`/DomainOrderPay/${(s=i.value)==null?void 0:s.OrderID}`)}return await n.fetchDomains(),await n.fetchDomainSchemes(),await e.fetchUserOrders().then(()=>{var s;D.value=(s=I.value)==null?void 0:s.IsAutoProlong}),{getDomain:i,getDomainScheme:b,isAutoProlong:D,setProlongValue:w,navigateToProlong:h,domainStatuses:pt,transferItem:f,lastUpdate:d,designateOwner:p}}},Ro=et(go,[["render",mo],["__scopeId","data-v-5cf64aeb"]]);export{Ro as default};
