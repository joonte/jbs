import{k as W,o as a,c as h,b as l,a as t,w as D,d as _,t as j,z as d,l as q,F as k,y as B,p as X,m as Y,_ as Z,u as $,f as tt,e as st,h as f}from"./index-c781268b.js";import{u as ot}from"./contracts-7e377877.js";import{u as et}from"./hosting-6f377a00.js";import{u as nt}from"./domain-ca269c7d.js";import{u as it}from"./dedicatedServer-1d58ce86.js";import{u as at}from"./vps-3be73a4d.js";import{H as G}from"./HostingItem-4a7c737f.js";import{D as J}from"./DomainItem-5d3ffc90.js";import{D as K}from"./DSItem-5a29024f.js";import{V as M}from"./VpsItem-1bd313c2.js";import{I as Q}from"./IconPlus-97ddfd30.js";import{B as U}from"./BlockBalanceAgreement-1d554184.js";import{E as ct}from"./EmptyStateBlock-8165a481.js";import{_ as rt}from"./ButtonDefault-dafa6215.js";import{_ as lt}from"./ClausesKeeper-5fae717f.js";import"./IconDots-4f78eb4a.js";import"./IconCard-07d73f70.js";import"./StatusBadge-499d8e7d.js";import"./hostStatuses-94d00f20.js";import"./HelperComponent-7ac34d9c.js";import"./useTimeFunction-8602dd60.js";import"./bootstrap-vue-next.es-c86262f3.js";import"./OrderIDBadge-8c4c416f.js";import"./IconRotate-a53b93ce.js";import"./resetServer-bcdc43a0.js";import"./vpsStatuses-32ffaaf5.js";import"./IconArrow-8731a209.js";import"./IconClose-3fa8ed32.js";const g=m=>(X("data-v-4e3d14fb"),m=m(),Y(),m),_t={class:"section"},mt={class:"container"},dt={class:"section-header column"},ut={class:"section-label-wrapper"},ft={class:"section-title"},gt={class:"section-label"},vt={class:"list grid-list-three"},pt={class:"list-col list-col--sm"},ht={class:"list-item"},Dt=g(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Профиль")],-1)),St={class:"list-item__row flex flex-column"},kt={class:"list-item__row"},Ct={class:"list-col list-col--sm"},bt={class:"list-item"},It={class:"list-item__row flex space-between"},Lt=g(()=>t("div",{class:"list-item__title"},"Баланс",-1)),yt={class:"list-item__simple-balance"},Pt={class:"list-item__row flex flex-column"},Tt={key:0,class:"list-item__row"},wt={class:"list-col list-col--sm"},Vt={class:"list-item"},Bt=g(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Поддержка")],-1)),xt={class:"list-item__row flex flex-column"},Ht={class:"list-item__row"},Ot={class:"contracts__section"},Nt={class:"contracts__section-header"},Et=g(()=>t("div",{class:"contracts__section-title"},"Хостинги",-1)),jt={class:"contracts__section-list"},At={class:"contracts__section"},Ft={class:"contracts__section-header"},Rt=g(()=>t("div",{class:"contracts__section-title"},"Домены",-1)),zt={class:"contracts__section-list"},qt={class:"contracts__section"},Gt={class:"contracts__section-header"},Jt=g(()=>t("div",{class:"contracts__section-title"},"Выделенные серверы",-1)),Kt={class:"contracts__section-list"},Mt={class:"contracts__section"},Qt={class:"contracts__section-header"},Ut=g(()=>t("div",{class:"contracts__section-title"},"VPS/VDS серверы",-1)),Wt={class:"contracts__section-list"};function Xt(m,i,C,o,b,I){var L,y,P,T,w,V,s,r,A,F,R,z;const x=U,c=W("router-link"),u=lt,S=rt,v=Q,H=G,p=ct,O=J,N=K,E=M;return a(),h(k,null,[l(x),t("div",_t,[t("div",mt,[t("div",dt,[t("div",ut,[l(c,{class:"section-label",to:"/Contracts"},{default:D(()=>[_("Договора")]),_:1})]),t("h1",ft,j(((L=o.getProfile)==null?void 0:L.Name)||((y=o.getContract)==null?void 0:y.Customer)),1),t("div",gt,j((s=(V=(T=(P=o.getConfig)==null?void 0:P.Contracts)==null?void 0:T.Types)==null?void 0:V[(w=o.getContract)==null?void 0:w.TypeID])==null?void 0:s.Name),1)]),l(u),t("div",vt,[t("div",pt,[t("div",ht,[Dt,t("div",St,[l(c,{class:"item-link",to:`/ContractSettings/${(r=o.getContract)==null?void 0:r.ID}`},{default:D(()=>[_("Настройки")]),_:1},8,["to"]),l(c,{class:"item-link",to:`/ContractDocuments/${(A=o.getContract)==null?void 0:A.ID}`},{default:D(()=>[_("Документы")]),_:1},8,["to"])]),t("div",kt,[(F=o.getContract)!=null&&F.ProfileID?(a(),d(S,{key:0,label:"Редактировать данные",onClick:i[0]||(i[0]=e=>{var n;return o.navigateToEditPage((n=o.getContract)==null?void 0:n.ProfileID)})})):q("",!0)])])]),t("div",Ct,[t("div",bt,[t("div",It,[Lt,t("div",yt,j((R=o.getContract)==null?void 0:R.Balance)+" ₽",1)]),t("div",Pt,[l(c,{class:"item-link",to:"/Postings"},{default:D(()=>[_("История операций")]),_:1}),l(c,{class:"item-link",to:"/Invoices"},{default:D(()=>[_("Отчетные документы (Счета)")]),_:1})]),((z=o.getContract)==null?void 0:z.TypeID)!="NaturalPartner"?(a(),h("div",Tt,[l(S,{label:"Пополнить баланс",onClick:i[1]||(i[1]=e=>{var n;return o.navigateToBalancePage((n=o.getContract)==null?void 0:n.ID)})})])):q("",!0)])]),t("div",wt,[t("div",Vt,[Bt,t("div",xt,[l(c,{class:"item-link",to:"/Tickets"},{default:D(()=>[_("Тикеты")]),_:1})]),t("div",Ht,[l(S,{label:"Создать тикет",onClick:i[2]||(i[2]=e=>o.navigateToTicketsCreation())})])])])]),t("div",Ot,[t("div",Nt,[Et,t("button",{class:"btn btn-default btn--border small",onClick:i[3]||(i[3]=e=>o.navigateToHostingList())},[l(v),_("Купить еще хостинг")])]),t("div",jt,[o.getHostingList.length>0?(a(!0),h(k,{key:0},B(o.getHostingList,e=>{var n;return a(),d(H,{"item-data":e,"user-name":(n=o.getContract)==null?void 0:n.Customer,"info-link":`/HostingOrders/${e==null?void 0:e.ID}`},null,8,["item-data","user-name","info-link"])}),256)):(a(),d(p,{key:1,class:"contracts__empty-state",label:"У Вас нет купленного хостинга"}))])]),t("div",At,[t("div",Ft,[Rt,t("button",{class:"btn btn-default btn--border small",onClick:i[4]||(i[4]=e=>o.navigateToDomainList())},[l(v),_("Купить еще домен")])]),t("div",zt,[o.getDomainList.length>0?(a(!0),h(k,{key:0},B(o.getDomainList,e=>{var n;return a(),d(O,{"item-data":e,"user-name":(n=o.getContract)==null?void 0:n.Customer,"info-link":`/DomainOrders/${e==null?void 0:e.ID}`},null,8,["item-data","user-name","info-link"])}),256)):(a(),d(p,{key:1,class:"contracts__empty-state",label:"У Вас нет купленного домена"}))])]),t("div",qt,[t("div",Gt,[Jt,t("button",{class:"btn btn-default btn--border small",onClick:i[5]||(i[5]=e=>o.navigateToDSList())},[l(v),_("Купить еще выделенный сервер")])]),t("div",Kt,[o.getDSList.length>0?(a(!0),h(k,{key:0},B(o.getDSList,e=>{var n;return a(),d(N,{"item-data":e,"user-name":(n=o.getContract)==null?void 0:n.Customer,"info-link":`/DSOrders/${e==null?void 0:e.ID}`},null,8,["item-data","user-name","info-link"])}),256)):(a(),d(p,{key:1,class:"contracts__empty-state",label:"У Вас нет купленного выделенного сервера"}))])]),t("div",Mt,[t("div",Qt,[Ut,t("button",{class:"btn btn-default btn--border small",onClick:i[6]||(i[6]=e=>o.navigateToVPSList())},[l(v),_("Купить еще VPS/VDS сервер")])]),t("div",Wt,[o.getVPSList.length>0?(a(!0),h(k,{key:0},B(o.getVPSList,e=>{var n;return a(),d(E,{"item-data":e,"user-name":(n=o.getContract)==null?void 0:n.Customer,"info-link":`/DSOrders/${e==null?void 0:e.ID}`},null,8,["item-data","user-name","info-link"])}),256)):(a(),d(p,{key:1,class:"contracts__empty-state",label:"У Вас нет VPS/VDS сервера"}))])])])])],64)}const Yt={components:{HostingItem:G,IconPlus:Q,BlockBalanceAgreement:U,DomainItem:J,DSItem:K,VpsItem:M},async setup(){const m=ot(),i=$(),C=et(),o=nt(),b=it(),I=at(),x=tt(),c=st(),u=f(()=>{var s;return(s=m.contractsList)==null?void 0:s[x.params.id]}),S=f(()=>{var s;return m.profileList[(s=u.value)==null?void 0:s.ProfileID]}),v=f(()=>i.ConfigList),H=f(()=>Object.keys(C.hostingList).map(s=>C.hostingList[s]).filter(s=>{var r;return(s==null?void 0:s.ContractID)===((r=u.value)==null?void 0:r.ID)}).reverse()),p=f(()=>Object.keys(o.domainsList).map(s=>o.domainsList[s]).filter(s=>{var r;return(s==null?void 0:s.ContractID)===((r=u.value)==null?void 0:r.ID)}).reverse()),O=f(()=>Object.keys(b.DSList).map(s=>b.DSList[s]).filter(s=>{var r;return(s==null?void 0:s.ContractID)===((r=u.value)==null?void 0:r.ID)}).reverse()),N=f(()=>Object.keys(I.vpsList).map(s=>I.vpsList[s]).filter(s=>{var r;return(s==null?void 0:s.ContractID)===((r=u.value)==null?void 0:r.ID)}).reverse());function E(s){c.push(`/Balance/${s}`)}function L(){c.push({name:"default.NewTicket"})}function y(s){c.push(`/ContractEdit/${s}`)}function P(){c.push("/HostingSchemes")}function T(){c.push("/DomainSchemes")}function w(){c.push("/DSSchemes")}function V(){c.push("/VPSSchemes")}return await m.fetchContracts(),await m.fetchProfiles(),await C.fetchHostingOrders(),await o.fetchDomains(),await b.fetchDSOrders(),await I.fetchVPS(),{getConfig:v,getProfile:S,getContract:u,getHostingList:H,navigateToBalancePage:E,navigateToHostingList:P,navigateToEditPage:y,navigateToTicketsCreation:L,getDomainList:p,getDSList:O,navigateToDomainList:T,navigateToDSList:w,navigateToVPSList:V,getVPSList:N}}},ys=Z(Yt,[["render",Xt],["__scopeId","data-v-4e3d14fb"]]);export{ys as default};
