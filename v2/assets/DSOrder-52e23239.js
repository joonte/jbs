import{j as mt,o as a,c as r,b as c,a as t,t as _,w as I,d as g,F as w,v as C,Y as vt,Z as ht,k as nt,p as Dt,l as St,_ as It,a7 as ut,f as gt,R as bt,r as R,g as b}from"./index-33bd9cf4.js";import{u as ft}from"./resetServer-cd32c829.js";import{u as wt}from"./dedicatedServer-aee0e546.js";import{_ as Ot}from"./IconCard-c2e605c3.js";import{I as pt}from"./IconProfile-1d10ab74.js";import{I as Pt}from"./IconSettings-00219ede.js";import{I as at}from"./IconEye-c6c44b6c.js";import{S as rt}from"./StatusBadge-b80983a6.js";import{I as kt}from"./IconRotate-e1cfbb59.js";import{h as yt}from"./hostStatuses-94d00f20.js";import{s as dt}from"./SettingsEngineItem-984d4773.js";import{B as ct}from"./BlockBalanceAgreement-5028e9bc.js";import{E as Mt}from"./EmptyStateBlock-98549fc8.js";import{_ as xt}from"./ButtonDefault-34d9e627.js";import{_ as Ct}from"./ServicesContractBalanceBlock-26be91a3.js";import{_ as Rt}from"./ClausesKeeper-69d31679.js";import{z as Bt,d as At}from"./bootstrap-vue-next.es-6bb0e5cd.js";import{_ as Et}from"./IconDots-463e8bba.js";import"./contracts-141debab.js";import"./IconArrow-dadffb08.js";import"./IconClose-d9fbf580.js";const l=v=>(Dt("data-v-3c82d12f"),v=v(),St(),v),Lt={key:0,class:"ds-order-page"},Nt={class:"section"},Ut={class:"container"},Vt={class:"section-header"},Tt={class:"section-title"},jt={class:"hosting-item__controls"},Ft=l(()=>t("div",{class:"btn btn--md btn--border btn--rotate btn--rotate_green"},"Включен",-1)),zt={class:"btn btn--dots"},Gt={class:"section-label"},Wt={class:"section-nav"},Yt={class:"list"},Zt={class:"list-col list-col--md"},qt={class:"list-item"},Ht={class:"list-item__row"},Jt={class:"list-item__title"},Kt={class:"list-item__status"},Qt={class:"list-item__row"},Xt={class:"list-item__ul"},$t={class:"list-item__row list-item__row--column"},ts={class:"list-item__text"},ss={class:"list-item__text"},es={class:"list-item__row"},is={class:"btn btn--border btn--switch"},os=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),_s=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),ls={class:"list-col list-col--xl"},ns={class:"list-item"},as=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Конфигурация")],-1)),rs={class:"list-item__row list-item__table"},ds={class:"list-item__table-col"},cs=l(()=>t("div",{class:"list-item__label"},"Процессор",-1)),ms={class:"list-item__text"},vs={class:"list-item__table-col"},hs=l(()=>t("div",{class:"list-item__label"},"RAM",-1)),Ds={class:"list-item__text"},Ss={class:"list-item__table-col"},Is=l(()=>t("div",{class:"list-item__label"},"Память",-1)),us={class:"list-item__text"},gs={class:"list-item__table-col"},bs=l(()=>t("div",{class:"list-item__label"},"Тип RAID контроллера",-1)),fs={class:"list-item__text"},ws={class:"list-item__table-col"},Os=l(()=>t("div",{class:"list-item__label"},"Скорость канала",-1)),ps={class:"list-item__text"},Ps={class:"list-item__table-col"},ks=l(()=>t("div",{class:"list-item__label"},"Месячный трафик",-1)),ys={class:"list-item__text"},Ms={class:"list-item__table-col"},xs=l(()=>t("div",{class:"list-item__label"},"Предустановленная ОС",-1)),Cs={class:"list-item__text"},Rs={class:"list-col list-col--md"},Bs={class:"list-item"},As=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы")],-1)),Es={class:"list-item__row list-item__row--table"},Ls=l(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Ns={class:"list-item__item"},Us={class:"list-item__row list-item__row--table"},Vs=l(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),Ts={class:"list-item__item"},js={class:"list-item__row list-item__row--table password-line"},Fs=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),zs={class:"list-item__item"},Gs={key:0,class:"password-hidden"},Ws={class:"list-col list-col--md"},Ys={class:"list-item"},Zs=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы IPMI")],-1)),qs={class:"list-item__row list-item__row--table"},Hs=l(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Js={class:"list-item__item"},Ks={class:"list-item__row list-item__row--table"},Qs=l(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),Xs={class:"list-item__item"},$s={class:"list-item__row list-item__row--table password-line"},te=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),se={class:"list-item__item"},ee={key:0,class:"password-hidden"},ie={key:0,class:"list-col list-col--md"},oe={class:"list-item"},_e=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Общая информация из IPMI")],-1)),le={class:"list-item__row list-item__row--table"},ne={class:"list-item__item"},ae={class:"list-item__item"},re={key:1,class:"list-col list-col--md"},de={class:"list-item"},ce=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Данные сенсоров")],-1)),me={class:"list-item__row list-item__row--table"},ve={class:"list-item__item"},he={class:"list-item__item"},De=l(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),Se={key:1,class:"section"},Ie={class:"container"};function ue(v,i,D,s,B,A){var e,m,E,L,N,U,V,T,j,F,z,G,W,Y,Z,q,H,J,K,Q,X,$,tt,st,et,it,ot,_t,lt;const u=ct,d=Et,S=Bt,O=At,p=mt("router-link"),P=Rt,k=Ct,y=rt,M=dt,x=xt,f=at,o=Mt;return a(),r(w,null,[c(u),(e=s.getDSServerData)!=null&&e.ID?(a(),r("div",Lt,[t("div",Nt,[t("div",Ut,[t("div",Vt,[t("h1",Tt,_((m=s.getDSServerData)==null?void 0:m.IPaddr),1),t("div",jt,[Ft,c(O,{class:"dropdown-dots",right:""},{"button-content":I(()=>[t("div",zt,[c(d)])]),default:I(()=>[c(S,{onClick:i[0]||(i[0]=n=>{var h;return s.serverReset((h=s.getDSServerData)==null?void 0:h.ID)})},{default:I(()=>[g("Перезагрузить")]),_:1})]),_:1})]),t("div",Gt,"Выделенный сервер # "+_((E=s.getDSServerData)==null?void 0:E.OrderID),1),t("div",Wt,[c(p,{class:"section-nav__item",to:`/DSOrders/${(L=s.getDSServerData)==null?void 0:L.OrderID}`},{default:I(()=>[g("Сервер")]),_:1},8,["to"])])]),c(P),t("div",Yt,[c(k,{"contract-id":(N=s.getDSServerData)==null?void 0:N.ContractID,onTransfer:i[1]||(i[1]=n=>s.transferItem())},null,8,["contract-id"]),t("div",Zt,[t("div",qt,[t("div",Ht,[t("div",Jt,_((U=s.getDSServerData)==null?void 0:U.Scheme),1),t("div",Kt,[c(y,{status:(V=s.getDSServerData)==null?void 0:V.StatusID,DaysRemainded:(T=s.getDSServerData)==null?void 0:T.DaysRemainded,"status-table":"DNSmanagerOrders"},null,8,["status","DaysRemainded"])]),c(M,null,{default:I(()=>[c(S,{onClick:i[2]||(i[2]=n=>s.openOrderRestore())},{default:I(()=>[g("Просмотреть учет заказа")]),_:1})]),_:1})]),t("div",Qt,[t("ul",Xt,[(a(!0),r(w,null,C(s.getDSItemParam(s.getDSServerData),n=>(a(),r("li",null,_(n),1))),256))])]),t("div",$t,[t("div",ts,_(((j=s.getDSScheme)==null?void 0:j.CostMonth)||"0")+" ₽ в месяц",1),t("div",ss,"Дней осталось "+_(((F=s.getDSServerData)==null?void 0:F.DaysRemainded)||"0"),1)]),t("div",es,[c(x,{label:"Продлить",onClick:i[3]||(i[3]=n=>{var h;return v.$router.push(`/DSOrderPay/${(h=s.getDSServerData)==null?void 0:h.OrderID}`)})}),t("label",is,[vt(t("input",{type:"checkbox","onUpdate:modelValue":i[4]||(i[4]=n=>s.isAutoProlong=n),onInput:i[5]||(i[5]=n=>s.setProlongValue())},null,544),[[ht,s.isAutoProlong]]),os,_s])])])]),t("div",ls,[t("div",ns,[as,t("div",rs,[t("div",ds,[cs,t("div",ms,_(((z=s.getDSScheme)==null?void 0:z.CPU)||"-"),1)]),t("div",vs,[hs,t("div",Ds,_((G=s.getDSScheme)!=null&&G.ram?`${(W=s.getDSScheme)==null?void 0:W.ram} ГБ`:"-"),1)]),t("div",Ss,[Is,t("div",us,_(((Y=s.getDSScheme)==null?void 0:Y.disks)||"-"),1)]),t("div",gs,[bs,t("div",fs,_(((Z=s.getDSScheme)==null?void 0:Z.raid)||"-"),1)]),t("div",ws,[Os,t("div",ps,_((q=s.getDSScheme)!=null&&q.chrate?`${(H=s.getDSScheme)==null?void 0:H.chrate} Мбит/с`:"-"),1)]),t("div",Ps,[ks,t("div",ys,_((J=s.getDSScheme)!=null&&J.trafflimit?`${(K=s.getDSScheme)==null?void 0:K.trafflimit} ГБ`:"-"),1)]),t("div",Ms,[xs,t("div",Cs,_(((Q=s.getDSScheme)==null?void 0:Q.OS)||"-"),1)])])])]),t("div",Rs,[t("div",Bs,[As,t("div",Es,[Ls,t("div",Ns,_((X=s.getDSServerData)==null?void 0:X.IPaddr),1)]),t("div",Us,[Vs,t("div",Ts,_(($=s.getDSServerData)==null?void 0:$.DSuser),1)]),t("div",js,[Fs,t("div",zs,[s.passwordShowOne?(a(),r("div",Gs,_((tt=s.getDSServerData)==null?void 0:tt.DSpass),1)):(a(),r("button",{key:1,class:"btn btn--border btn--md password-line",onClick:i[6]||(i[6]=n=>s.passwordShowOne=!0)},[c(f,{class:"button-icon"}),g("Показать")]))])])])]),t("div",Ws,[t("div",Ys,[Zs,t("div",qs,[Hs,t("div",Js,_((st=s.getDSServerData)==null?void 0:st.ILOaddr),1)]),t("div",Ks,[Qs,t("div",Xs,_((et=s.getDSServerData)==null?void 0:et.ILOuser),1)]),t("div",$s,[te,t("div",se,[s.passwordShowTwo?(a(),r("div",ee,_((it=s.getDSServerData)==null?void 0:it.ILOpass),1)):(a(),r("button",{key:1,class:"btn btn--border btn--md password-line",onClick:i[7]||(i[7]=n=>s.passwordShowTwo=!0)},[c(f,{class:"button-icon"}),g("Показать")]))])])])]),s.getDSOrderIPMI&&((ot=s.getDSOrderIPMI)==null?void 0:ot.IPMI.length)>0?(a(),r("div",ie,[t("div",oe,[_e,(a(!0),r(w,null,C((_t=s.getDSOrderIPMI)==null?void 0:_t.IPMI,n=>(a(),r("div",le,[t("div",ne,_(n==null?void 0:n.name),1),t("div",ae,_(n==null?void 0:n.value),1)]))),256))])])):nt("",!0),(lt=s.getDSOrderIPMI)!=null&&lt["IPMI.Sensors"]&&s.getDSOrderIPMI["IPMI.Sensors"].length>0?(a(),r("div",re,[t("div",de,[ce,(a(!0),r(w,null,C(s.getDSOrderIPMI["IPMI.Sensors"],(n,h)=>(a(),r("div",me,[t("div",ve,_(h),1),t("div",he,_(n),1)]))),256))])])):nt("",!0)])])]),De])):(a(),r("div",Se,[t("div",Ie,[c(o,{label:"Заказ не найден"})])]))],64)}const ge={components:{IconCard:Ot,IconProfile:pt,IconSettings:Pt,IconEye:at,StatusBadge:rt,IconRotate:kt,settingsEngineItem:dt,BlockBalanceAgreement:ct},async setup(){const v=ut(),i=wt(),D=gt(),s=bt("emitter");s.on("updateDSIDPage",()=>{i.fetchDSOrders().then(()=>{var o;i.fetchDSOrderIPMI((o=d.value)==null?void 0:o.OrderID)}).then(()=>{var o;i.fetchDSOrderIPMISensors((o=d.value)==null?void 0:o.OrderID)})});const B=R(!1),A=R(!1),u=R(!0),d=b(()=>Object.keys(i==null?void 0:i.DSList).map(o=>i==null?void 0:i.DSList[o]).find(o=>o.OrderID===v.params.id)),S=b(()=>{var o,e;return(e=i==null?void 0:i.DSSchemes)==null?void 0:e[(o=d.value)==null?void 0:o.SchemeID]}),O=b(()=>i==null?void 0:i.DSOrderIPMI),p=b(()=>{var o,e;return(e=D==null?void 0:D.userOrders)==null?void 0:e[(o=d.value)==null?void 0:o.OrderID]}),P=b(()=>i==null?void 0:i.DSOrderIPMISensors);function k(o){let e=S.value;e===void 0&&(e=o);let m=[];return e!=null&&e.Name&&m.push(e==null?void 0:e.Name),e!=null&&e.CPU&&m.push(e==null?void 0:e.CPU),e!=null&&e.ram&&m.push("RAM "+(e==null?void 0:e.ram)+" GB"),e!=null&&e.disks&&m.push(e==null?void 0:e.disks),m}function y(o){ft().ServerReset(o)}function M(){var o,e;s.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(o=d.value)==null?void 0:o.ID,ServiceID:(e=d.value)==null?void 0:e.ServiceID}})}function x(){var o;D.prolongOrder({IsAutoProlong:u.value?0:1,OrderID:(o=d.value)==null?void 0:o.OrderID})}function f(){var o,e,m;s.emit("open-modal",{component:"OrderRestore",data:{OrderID:(o=d.value)==null?void 0:o.OrderID,CostDay:(e=S.value)==null?void 0:e.CostDay,DaysRemainded:(m=d.value)==null?void 0:m.DaysRemainded,emitEvent:"updateDSIDPage"}})}return await i.fetchDSSchemes(),i.fetchDSOrders().then(()=>{var o;i.fetchDSOrderIPMI((o=d.value)==null?void 0:o.OrderID)}).then(()=>{var o;i.fetchDSOrderIPMISensors((o=d.value)==null?void 0:o.OrderID)}),await D.fetchUserOrders().then(()=>{var o;u.value=(o=p.value)==null?void 0:o.IsAutoProlong}),{getDSOrderIPMI:O,getDSServerData:d,getDSScheme:S,getDSOrderIPMISensors:P,isAutoProlong:u,passwordShowOne:B,passwordShowTwo:A,openOrderRestore:f,transferItem:M,setProlongValue:x,serverReset:y,getDSItemParam:k,hostStatuses:yt}}},Fe=It(ge,[["render",ue],["__scopeId","data-v-3c82d12f"]]);export{Fe as default};
