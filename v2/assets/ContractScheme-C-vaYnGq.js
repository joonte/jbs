import{_ as Y}from"./VPSCard-DWKH-bZj.js";import{_ as Z}from"./DSCard-DGD_WKex.js";import{_ as tt}from"./DomainCard-BFZlNdBD.js";import{_ as st}from"./EmptyStateBlock-BaR9js3E.js";import{_ as et}from"./HostingCard-DpgT2eeZ.js";import{_ as ot}from"./IconPlus-BicE38kO.js";import{_ as x}from"./ButtonDefault-BIBStZbJ.js";import{_ as nt}from"./ClausesKeeper-CTja-fCz.js";import{_ as it}from"./BlockBalanceAgreement-qtspRQ_B.js";import{ao as lt,Q as at,O as rt,G as ct,f as u,g as _t,D as v,c as p,b as i,a as s,w as f,E as mt,t as C,C as _,h as O,e as c,F as k,i as S,d as ut,o as n}from"./index-CmCGXBst.js";import{u as dt}from"./contracts-P7YPBhEI.js";import{u as vt}from"./hosting-CzUiTaaD.js";import{_ as pt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./StatusBadge-CjHHKSUG.js";import"./IconLink-YgoSh8il.js";import"./CardButton-D2yx9NRX.js";import"./ServerStatusBadge.vue_vue_type_script_setup_true_lang-Cxfq-4-V.js";import"./bootstrap-vue-next-DwS3lKQb.js";import"./IconDots-hRD0_8ej.js";import"./UserNote-8i0DdDDd.js";import"./IconCard-_anr564X.js";import"./IconRotate-BADcxb6v.js";import"./time-DenPiOX5.js";import"./IconClose-B_k4TzXM.js";const ft={class:"section"},kt={class:"container"},Dt={class:"section-header column"},gt={class:"section-label-wrapper"},bt={class:"section-title"},St={class:"section-label"},Ct={class:"list grid-list-three"},yt={class:"list-col list-col--sm"},wt={class:"list-item"},It={class:"list-item__row flex flex-column"},ht={class:"list-item__row"},$t={class:"list-col list-col--sm"},Pt={class:"list-item"},Vt={class:"list-item__row flex space-between"},Lt={class:"list-item__simple-balance"},Tt={class:"list-item__row flex flex-column"},xt={key:0,class:"list-item__row"},Ot={class:"list-col list-col--sm"},Bt={class:"list-item"},Nt={class:"list-item__row flex flex-column"},Ht={class:"list-item__row"},Et={class:"contracts__section"},jt={class:"contracts__section-header"},At={class:"contracts__section-list tw-space-y-4"},Ft={class:"contracts__section"},Rt={class:"contracts__section-header"},Gt={class:"tw-my-6 tw-space-y-4"},Qt={class:"contracts__section"},qt={class:"contracts__section-header"},zt={class:"tw-space-y-4 tw-mb-6"},Jt={class:"contracts__section"},Kt={class:"contracts__section-header"},Mt={class:"tw-space-y-4 tw-mb-6"},Ut={__name:"ContractScheme",async setup(Wt){let l,a;const D=dt(),B=lt(),y=vt(),w=at(),I=rt(),h=ct(),N=_t(),m=ut(),o=u(()=>D.contractsList?.[N.params.id]),H=u(()=>D.profileList[o.value?.ProfileID]),E=u(()=>B.data),$=u(()=>Object.values(y.hostingList).filter(r=>r?.ContractID==o.value?.ID).reverse()),P=u(()=>Object.values(w.domainsList).filter(r=>r?.ContractID==o.value?.ID).reverse()),V=u(()=>Object.values(I.dsOrders).filter(r=>r?.ContractID==o.value?.ID).reverse()),L=u(()=>Object.values(h.vpsList).filter(r=>r?.ContractID==o.value?.ID).reverse());function j(r){m.push(`/Balance/${r}`)}function A(){m.push("/NewTicket")}function F(r){m.push(`/ContractEdit/${r}`)}function R(){m.push("/HostingSchemes")}function G(){m.push("/DomainSchemes")}function Q(){m.push("/DSSchemes")}function q(){m.push("/VPSSchemes")}return[l,a]=v(()=>D.fetchContracts()),await l,a(),[l,a]=v(()=>D.fetchProfiles()),await l,a(),[l,a]=v(()=>y.fetchHostingOrders()),await l,a(),[l,a]=v(()=>w.fetchDomainOrders()),await l,a(),[l,a]=v(()=>I.fetchDSOrders()),await l,a(),[l,a]=v(()=>h.fetchVPS()),await l,a(),(r,t)=>{const z=it,d=mt("router-link"),J=nt,T=x,K=x,g=ot,M=et,b=st,U=tt,W=Z,X=Y;return n(),p(k,null,[i(z),s("div",ft,[s("div",kt,[s("div",Dt,[s("div",gt,[i(d,{to:"/Contracts",class:"section-label"},{default:f(()=>t[7]||(t[7]=[c("Договора",-1)])),_:1,__:[7]})]),s("h1",bt,C(H.value?.Name||o.value?.Customer),1),s("div",St,C(E.value?.Contracts?.Types?.[o.value?.TypeID]?.Name),1)]),i(J),s("div",Ct,[s("div",yt,[s("div",wt,[t[10]||(t[10]=s("div",{class:"list-item__row"},[s("div",{class:"list-item__title"},"Профиль")],-1)),s("div",It,[i(d,{to:`/ContractSettings/${o.value?.ID}`,class:"item-link"},{default:f(()=>t[8]||(t[8]=[c("Настройки",-1)])),_:1,__:[8]},8,["to"]),i(d,{to:`/ContractDocuments/${o.value?.ID}`,class:"item-link"},{default:f(()=>t[9]||(t[9]=[c("Документы",-1)])),_:1,__:[9]},8,["to"])]),s("div",ht,[o.value?.ProfileID?(n(),_(T,{key:0,label:"Редактировать данные",onClick:t[0]||(t[0]=e=>F(o.value?.ProfileID))})):O("",!0)])])]),s("div",$t,[s("div",Pt,[s("div",Vt,[t[11]||(t[11]=s("div",{class:"list-item__title"},"Баланс",-1)),s("div",Lt,C(o.value?.Balance)+" ₽",1)]),s("div",Tt,[i(d,{to:"/Postings",class:"item-link"},{default:f(()=>t[12]||(t[12]=[c("История операций",-1)])),_:1,__:[12]}),i(d,{to:"/Invoices",class:"item-link"},{default:f(()=>t[13]||(t[13]=[c("Отчетные документы (Счета)",-1)])),_:1,__:[13]})]),o.value?.TypeID!="NaturalPartner"?(n(),p("div",xt,[i(K,{label:"Пополнить баланс",onClick:t[1]||(t[1]=e=>j(o.value?.ID))})])):O("",!0)])]),s("div",Ot,[s("div",Bt,[t[15]||(t[15]=s("div",{class:"list-item__row"},[s("div",{class:"list-item__title"},"Поддержка")],-1)),s("div",Nt,[i(d,{to:"/Tickets",class:"item-link"},{default:f(()=>t[14]||(t[14]=[c("Тикеты",-1)])),_:1,__:[14]})]),s("div",Ht,[i(T,{label:"Создать тикет",onClick:t[2]||(t[2]=e=>A())})])])])]),s("div",Et,[s("div",jt,[t[17]||(t[17]=s("div",{class:"contracts__section-title"},"Хостинги",-1)),s("button",{class:"btn btn-default btn--border small",onClick:t[3]||(t[3]=e=>R())},[i(g),t[16]||(t[16]=c(" Купить еще хостинг ",-1))])]),s("div",At,[$.value.length>0?(n(!0),p(k,{key:0},S($.value,e=>(n(),_(M,{key:e.ID,hosting:e,"user-name":o.value?.Customer,"info-link":`/HostingOrders/${e?.ID}`},null,8,["hosting","user-name","info-link"]))),128)):(n(),_(b,{key:1,class:"contracts__empty-state",label:"У Вас нет купленного хостинга"}))])]),s("div",Ft,[s("div",Rt,[t[19]||(t[19]=s("div",{class:"contracts__section-title"},"Домены",-1)),s("button",{class:"btn btn-default btn--border small",onClick:t[4]||(t[4]=e=>G())},[i(g),t[18]||(t[18]=c(" Купить еще домен ",-1))])]),s("div",Gt,[P.value.length>0?(n(!0),p(k,{key:0},S(P.value,e=>(n(),_(U,{key:e.ID,domain:e,"user-name":o.value?.Customer,"info-link":`/DomainOrders/${e?.ID}`},null,8,["domain","user-name","info-link"]))),128)):(n(),_(b,{key:1,class:"contracts__empty-state",label:"У Вас нет купленного домена"}))])]),s("div",Qt,[s("div",qt,[t[21]||(t[21]=s("div",{class:"contracts__section-title"},"Выделенные серверы",-1)),s("button",{class:"btn btn-default btn--border small",onClick:t[5]||(t[5]=e=>Q())},[i(g),t[20]||(t[20]=c(" Купить еще выделенный сервер ",-1))])]),s("div",zt,[V.value.length>0?(n(!0),p(k,{key:0},S(V.value,e=>(n(),_(W,{key:e.ID,server:e,"user-name":o.value?.Customer,"info-link":`/DSOrders/${e?.ID}`},null,8,["server","user-name","info-link"]))),128)):(n(),_(b,{key:1,class:"contracts__empty-state",label:"У Вас нет купленного выделенного сервера"}))])]),s("div",Jt,[s("div",Kt,[t[23]||(t[23]=s("div",{class:"contracts__section-title"},"VPS/VDS серверы",-1)),s("button",{class:"btn btn-default btn--border small",onClick:t[6]||(t[6]=e=>q())},[i(g),t[22]||(t[22]=c(" Купить еще VPS/VDS сервер ",-1))])]),s("div",Mt,[L.value.length>0?(n(!0),p(k,{key:0},S(L.value,e=>(n(),_(X,{key:e.ID,vps:e,"user-name":o.value?.Customer,"info-link":`/DSOrders/${e?.ID}`},null,8,["vps","user-name","info-link"]))),128)):(n(),_(b,{key:1,class:"contracts__empty-state",label:"У Вас нет VPS/VDS сервера"}))])])])])],64)}}},Ss=pt(Ut,[["__scopeId","data-v-3c85e89c"]]);export{Ss as default};
