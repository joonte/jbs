import{_ as B}from"./EmptyStateBlock-DA3-0YDi.js";import{f as O,a as V}from"./common-DyknwSqv.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{G as j,o as r,c,a as s,t as _,h as I,v as A,F as m,g as f,b as h,w as E,e as L,n as k,P as M,H as z,r as F,E as p,f as P,K as U,Q as H,C as y}from"./index-Codq73aV.js";import{_ as K}from"./ClausesKeeper-iUM0yapS.js";import{_ as Q}from"./BlockBalanceAgreement-v_bWuiVT.js";import{u as R}from"./server-DnY_Nzbw.js";import"./IconClose-Dia1noy8.js";import"./index-BO2gwtUe.js";import"./ButtonDefault-CMw2aBy6.js";const T={class:"server-item__wrapper"},q={class:"server-item__header"},J={class:"tw-flex tw-justify-between tw-items-center"},W={class:"tw-font-bold"},X=["src","title"],Y={class:"tw-text-2xl tw-mt-2"},Z={class:"tw-p-4 tw-space-y-4"},ee={class:"tw-text-gray-500 tw-text-xs"},te={class:"tw-gray-800 tw-text-sm"},se={key:0,class:"server-item__row"},re={class:"server-item__note"},oe={__name:"ServerItem",props:{data:{type:Object,default:()=>({})},specifications:{type:Array,default:()=>[]},image:{type:String,default:""}},setup(o){return(u,n)=>{const i=j("router-link");return r(),c("div",{class:k(["server-item",{"server-item--special":o.data.special}])},[s("div",T,[s("div",q,[s("div",J,[s("div",W,_(o.data.Name),1),o.image?(r(),c("img",{key:0,src:o.image,title:o.data.OS,alt:"OS Image",class:"tw-size-12"},null,8,X)):I("",!0)]),s("div",Y,_(A(O)(o.data.CostMonth))+" в месяц",1)]),s("div",Z,[(r(!0),c(m,null,f(o.specifications,d=>(r(),c("div",{key:d.label},[s("div",ee,_(d.label),1),s("div",te,_(d.text),1)]))),128)),o.data.UserNotice?(r(),c("div",se,[s("div",re,_(o.data.UserNotice),1)])):I("",!0),h(i,{class:"btn btn--wide btn--border btn--wide",to:`/DSSchemes/${o.data.ID}`},{default:E(()=>n[0]||(n[0]=[L(" Заказать ",-1)])),_:1,__:[0]},8,["to"])])])],2)}}},ae=b(oe,[["__scopeId","data-v-7cbb9bc5"]]),ce={class:"section"},ne={class:"container"},ie={class:"section-header"},le={class:"section-nav"},ue=["title","onClick"],_e={key:0,class:"list"},de={__name:"DSSchemes",async setup(o){let u,n;const i=M(),d=z(),D=R(),v=F(0);[u,n]=p(()=>i.fetchDSOrders()),await u,n(),[u,n]=p(()=>i.fetchDSSchemes()),await u,n(),[u,n]=p(()=>d.fetchVPSSchemes()),await u,n(),v.value=S()?.[0]?.ServersGroupID;const w=P(()=>Object.keys(i.DSSchemes).filter(e=>i.DSSchemes[e].IsActive).map(e=>i.DSSchemes[e]).sort((e,t)=>e.CostMonth-t.CostMonth));function x(e){v.value=e}function g(e){return D?.serverGroupsList?.ServersGroups?.[e]}function S(){let e={};return Object.values(D?.serverGroupsList?.Servers).forEach(t=>{if(t.ServiceID==="40000"){const l=t.ServersGroupID;e[l]||(e[l]={SortID:t.SortID,ServersGroupID:l,servers:[]}),e[l].servers.push(t)}}),Object.values(e).sort((t,l)=>t.SortID-l.SortID)}function G(e){const t=i.DSSchemes?.[e];return t?V(t):[]}return(e,t)=>{const l=Q,C=K,$=ae,N=B;return r(),c(m,null,[h(l),s("section",ce,[s("div",ne,[s("div",ie,[t[0]||(t[0]=s("h1",{class:"section-title"},"Заказ выделенного сервера",-1)),t[1]||(t[1]=s("div",{class:"section-text"}," При покупке этой услуги у вас появляется полностью укомплектованный, настроенный выделенный сервер, с операционной системой на ваш выбор, размещённый в дата-центре в Москве, по самым низким ценам. ",-1)),h(C),U(s("div",le,[(r(!0),c(m,null,f(S(),(a,me)=>(r(),c("div",{class:k(["section-nav__item",{active:String(v.value)===String(a?.ServersGroupID)}]),key:a.ServersGroupID,title:g(a?.ServersGroupID)?.Comment,onClick:ve=>x(a?.ServersGroupID)},_(g(a?.ServersGroupID)?.Name),11,ue))),128))],512),[[H,S().length>1]])]),w.value.length?(r(),c("div",_e,[(r(!0),c(m,null,f(w.value,a=>(r(),y($,{key:a.ID,data:a,specifications:G(a.ID),image:a.Image},null,8,["data","specifications","image"]))),128))])):(r(),y(N,{key:1,label:"Нет доступных серверов"}))])])],64)}}},ke=b(de,[["__scopeId","data-v-acce0d6d"]]);export{ke as default};
