import{_ as it}from"./EmptyStateBlock-D6U_EDq6.js";import{_ as dt,a as mt,b as vt}from"./LastValueCard.vue_vue_type_script_setup_true_lang-5RmBvgAv.js";import{_ as ct,a as pt}from"./BlueButton.vue_vue_type_script_setup_true_lang-CJ9SxAW2.js";import{I as wt}from"./IconProfile-CLsn7h6L.js";import{_ as _t}from"./ButtonDefault-CghIUDY0.js";import{r as ft}from"./bootstrap-vue-next-3DpAa4tb.js";import{_ as gt,a as bt}from"./CopyToClipboard.vue_vue_type_script_setup_true_lang-FiYxdMnt.js";import{_ as St}from"./ClausesKeeper-DVJgfLR3.js";import{_ as Dt}from"./MessageInfo-AK7GfiHd.js";import{_ as It}from"./IconRotate-BbaZHZC2.js";import{_ as Pt}from"./StatusBadge-B65ys1I-.js";import{_ as xt,f as yt}from"./BlockBalanceAgreement-2iQbaweR.js";import{G as ht,u as Ot,r as _,x as kt,f as S,H as Vt,g as Ct,c as m,b as a,a as s,C as R,h as p,F as M,I as B,t as o,J as Nt,n as $t,e as u,w as v,E as Rt,v as Mt,K as Bt,d as At,o as i}from"./index-CipWZKo_.js";import{u as Gt}from"./contracts-CILh9uSu.js";import{u as Lt}from"./global-Fil99La8.js";import{u as jt}from"./server-DA2BhLHe.js";import{f as A}from"./time-DenPiOX5.js";import{_ as Et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconSettings-6AAphU28.js";import"./services-Dmz4Qt8q.js";import"./IconCopy-DWHHygte.js";import"./IconClose-ChC2G6HM.js";const Ut={class:"tw-px-4 md:tw-px-8"},Tt={class:"tw-flex tw-flex-wrap tw-items-center tw-justify-between tw-gap-2"},Ht={class:"tw-flex tw-items-center tw-gap-2"},Ft={class:"tw-text-xl sm:tw-text-4xl"},Wt={class:"ico"},zt={class:"tw-text-sm tw-text-gray-500 tw-mt-2"},Jt={class:"tw-flex tw-items-center tw-gap-8 tw-border-b tw-border-gray-200 tw-mt-4 tw-whitespace-nowrap tw-mb-6"},Kt={class:"tw-grid tw-grid-cols-1 lg:tw-grid-cols-2 tw-gap-4"},qt={class:"tw-border tw-border-gray-200 tw-rounded tw-p-4"},Qt={class:"tw-grid tw-grid-cols-3 tw-gap-4"},Xt={class:"tw-col-span-3 tw-flex tw-items-center tw-justify-between tw-gap-2"},Yt={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Zt={class:"tw-break-all"},te={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},ee={class:"tw-break-all"},se={class:"tw-col-span-2 tw-flex tw-flex-wrap tw-items-center tw-gap-2"},ae={key:0,class:"password-hidden"},oe={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},ne={class:"tw-col-span-2 tw-space-y-2"},le={class:"tw-flex tw-items-center tw-gap-1"},re=["href"],ue={class:"tw-col-span-2 tw-space-y-2"},ie={key:0,class:"tw-flex tw-items-center tw-gap-1"},de={key:1,class:"tw-flex tw-items-center tw-gap-1"},me={key:2,class:"tw-flex tw-items-center tw-gap-1"},ve={key:3,class:"tw-flex tw-items-center tw-gap-1"},ce={class:"tw-border tw-rounded tw-border-gray-200 tw-p-4"},pe={class:"tw-flex tw-justify-between tw-items-center tw-gap-4"},we={class:"tw-flex tw-items-center tw-gap-2"},_e={class:"tw-text-2xl"},fe={class:"tw-flex tw-flex-wrap tw-gap-x-4 tw-gap-y-2 tw-text-gray-500 tw-text-sm tw-mt-4"},ge={key:0},be={class:"tw-space-y-4 tw-mt-4"},Se={class:"tw-flex tw-flex-wrap tw-gap-4 tw-mt-4"},De={class:"btn btn--border btn--switch tw-ml-0 tw-min-w-52"},Ie={class:"tw-mt-4"},Pe={__name:"VPSOrdersId",setup(xe){const w=ht(),G=Gt(),P=Ot(),L=Lt(),j=jt(),f=Ct(),x=At(),g=_(!1),b=_(!1),y=_(!0),e=_(null),c=kt("emitter");c.on("updateVPSIDPage",()=>{w.fetchVPS()});const h=_(!1),l=S(()=>w.vpsSchemes?.[e.value?.SchemeID]),E=S(()=>{const n=e.value.Graphs?.Graphs;return n?Object.values(n):null}),U=S(()=>{const n=e.value.Graphs?.Last;return n?Object.values(n):null});function T(){function n(t){g.value=t}c.emit("open-modal",{component:"ReloadVPS",data:{VPSOrderID:e.value?.ID,isReloading:g.value,onReloadStatusChange:n}})}function O(n){c.emit("open-modal",{component:"StatusHistory",data:{modeID:"VPSOrders",rowID:n}})}const k=S(()=>j?.serverGroupsList?.Servers?.[e.value?.ServerID]);function H(n){if(!n)return A(new Date);const t=new Date,D=new Date(t.getTime()+n*24*60*60*1e3);return A(D)}function F(){c.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:e.value?.ID,ServiceID:e.value?.ServiceID}})}function W(){x.push(`/VPSOrders/${e.value?.OrderID}/SchemeChange`),V()}function z(){x.push(`/VPSOrderPay/${e.value?.OrderID}`)}function J(){P.prolongOrder({IsAutoProlong:b.value?0:1,OrderID:e.value?.OrderID})}function V(){c.emit("open-modal",{component:"VPSOrderSchemeChange",data:{VpsID:e.value?.ID,ServerGroup:l.value?.ServersGroupID,emitEvent:"updateVPSIDPage"}})}function C(){c.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:e.value?.ID,ServiceID:e.value?.ServiceID,emitEvent:"updateVPSIDPage"}})}function K(){c.emit("open-modal",{component:"OrderRestore",data:{OrderID:e.value?.OrderID,CostDay:l.value?.CostDay,DaysRemainded:e.value?.DaysRemainded,emitEvent:"updateVPSIDPage"}})}function q(){L.OrderManage({ServiceOrderID:e.value?.ID,OrderID:e.value?.OrderID,ServiceID:e.value?.ServiceID})}Vt(async()=>{await w.fetchVPSSchemes(),await G.fetchContracts(),f.name==="VPSOrderSchemeChange"&&V(),e.value=await w.fetchVPSOrder(f.params.id);const n=await P.fetchUserOrder(f.params.id);n&&(b.value=n.IsAutoProlong),y.value=!1});async function Q(){e.value=await w.fetchVPSOrder(f.params.id)}return(n,t)=>{const D=xt,N=Pt,X=It,Y=Dt,$=Rt("RouterLink"),Z=St,tt=ct,d=gt,et=bt,st=dt,I=ft,at=mt,ot=_t,nt=wt,lt=pt,rt=vt,ut=it;return i(),m(M,null,[a(D),s("div",Ut,[e.value?(i(),m(M,{key:0},[s("div",Tt,[s("div",Ht,[s("h1",Ft,o(e.value.Domain),1),a(N,{status:e.value.StatusID,"status-table":"VPSOrders",onClick:t[0]||(t[0]=r=>O(e.value.ID))},null,8,["status"])]),B(s("button",{class:$t(["btn btn--md btn--border btn--rotate btn--rotate_green button-large",{"btn--rotate_gray":e.value.StatusID!=="Active"||g.value,"btn--rotate_loading":g.value}]),title:"Перезагрузить виртуальный сервер",onClick:T},[t[13]||(t[13]=u(" Включен ",-1)),s("span",Wt,[a(X)])],2),[[Nt,e.value.StatusID==="Active"]])]),s("div",zt,"VPS/VDS сервер #"+o(e.value.OrderID),1),e.value.Message?(i(),R(Y,{key:0,innerHTML:e.value.Message,class:"tw-mt-4"},null,8,["innerHTML"])):p("",!0),s("div",Jt,[a($,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/VPSOrders/${e.value.OrderID}`},{default:v(()=>t[14]||(t[14]=[u(" Сервер ",-1)])),_:1,__:[14]},8,["to"]),a($,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/VPSServices/${e.value.OrderID}`},{default:v(()=>t[15]||(t[15]=[u(" Услуги ",-1)])),_:1,__:[15]},8,["to"])]),a(Z),s("div",Kt,[s("div",qt,[s("div",Qt,[s("div",Xt,[t[17]||(t[17]=s("div",{class:"tw-text-2xl"},"Панель управления",-1)),a(tt,{onClick:t[1]||(t[1]=r=>q()),type:"small"},{default:v(()=>t[16]||(t[16]=[u("Вход",-1)])),_:1,__:[16]})]),t[19]||(t[19]=s("div",{class:"tw-font-bold"},"Адрес",-1)),s("div",Yt,[s("div",Zt,o(`https://${k.value?.Address}/manager`),1),a(d,{value:`https://${k.value?.Address}/manager`},null,8,["value"])]),t[20]||(t[20]=s("div",{class:"tw-font-bold"},"Логин",-1)),s("div",te,[s("div",ee,o(e.value.Login),1),a(d,{value:e.value?.Login},null,8,["value"])]),t[21]||(t[21]=s("div",{class:"tw-font-bold"},"Пароль",-1)),s("div",se,[h.value?(i(),m("span",ae,o(e.value?.Password),1)):(i(),m("button",{key:1,class:"btn btn--border btn--md tw-h-8 tw-gap-1",onClick:t[2]||(t[2]=r=>h.value=!0)},[a(et),t[18]||(t[18]=u(" Показать ",-1))])),s("button",{class:"btn btn--border btn--md tw-h-8",onClick:t[3]||(t[3]=r=>C())},"Сменить пароль"),a(d,{value:e.value?.Password},null,8,["value"])]),t[22]||(t[22]=s("div",{class:"tw-font-bold"},"IP адрес",-1)),s("div",oe,[u(o(e.value.IP?e.value.IP:"-")+" ",1),a(d,{value:e.value.IP?e.value.IP:"-"},null,8,["value"])]),t[23]||(t[23]=s("div",{class:"tw-flex tw-font-bold"},"Паркованный домен",-1)),s("div",ne,[s("div",le,[s("a",{href:`https://${e.value.Domain}`,target:"_blank"},o(e.value.Domain),9,re),a(d,{value:e.value.Domain},null,8,["value"])])]),t[24]||(t[24]=s("div",{class:"tw-flex tw-font-bold"},"Именные сервера",-1)),s("div",ue,[e.value.Ns1Name?(i(),m("div",ie,[u(o(e.value.Ns1Name),1),a(d,{value:e.value.Ns1Name},null,8,["value"])])):p("",!0),e.value.Ns2Name?(i(),m("div",de,[u(o(e.value.Ns2Name),1),a(d,{value:e.value.Ns2Name},null,8,["value"])])):p("",!0),e.value.Ns3Name?(i(),m("div",me,[u(o(e.value.Ns3Name),1),a(d,{value:e.value.Ns3Name},null,8,["value"])])):p("",!0),e.value.Ns4Name?(i(),m("div",ve,[u(o(e.value.Ns4Name),1),a(d,{value:e.value.Ns4Name},null,8,["value"])])):p("",!0)])])]),a(st,{data:U.value,order:e.value,date:e.value.Graphs?.UpdateDate,type:"VPS",onUpdated:t[4]||(t[4]=r=>Q())},null,8,["data","order","date"]),s("div",ce,[s("div",pe,[s("div",we,[s("div",_e,o(l.value.Name),1),a(N,{status:e.value.StatusID,"status-table":"VPSOrders",onClick:t[5]||(t[5]=r=>O(e.value.ID))},null,8,["status"])]),a(at,null,{default:v(()=>[a(I,{onClick:t[6]||(t[6]=r=>W())},{default:v(()=>t[25]||(t[25]=[u("Изменить тариф",-1)])),_:1,__:[25]}),a(I,{onClick:t[7]||(t[7]=r=>K())},{default:v(()=>t[26]||(t[26]=[u("Просмотреть учет заказа",-1)])),_:1,__:[26]}),a(I,{onClick:t[8]||(t[8]=r=>C())},{default:v(()=>t[27]||(t[27]=[u("Сменить пароль от аккаунта",-1)])),_:1,__:[27]})]),_:1})]),s("div",fe,[l.value?.SchemeParams?.os?.value?(i(),m("div",ge,o(l.value.SchemeParams?.os?.value),1)):p("",!0),s("div",null,o(l.value?.SchemeParams?.hdd_mib?.InternalName)+" "+o(l.value?.SchemeParams?.hdd_mib?.Value)+o(l.value?.SchemeParams?.hdd_mib?.Unit),1),s("div",null," RAM "+o(l.value?.SchemeParams?.ram_mib?.Value)+" "+o(l.value?.SchemeParams?.ram_mib?.Unit),1),s("div",null," Канал "+o(l.value?.SchemeParams?.net_bandwidth_mbitps?.Value)+" "+o(l.value?.SchemeParams?.net_bandwidth_mbitps?.Unit),1)]),s("div",be,[s("div",null,o(Mt(yt)(l.value?.CostMonth))+" в месяц",1),s("div",null,"Дней осталось "+o(e.value.DaysRemainded),1),s("div",null,"Дата окончания "+o(H(e.value.DaysRemainded)),1)]),s("div",Se,[a(ot,{label:e.value.StatusID==="Suspended"||e.value.StatusID==="Waiting"?"Оплатить":"Продлить",onClick:t[9]||(t[9]=r=>z()),class:"tw-min-w-24"},null,8,["label"]),s("label",De,[B(s("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=r=>b.value=r),onInput:t[11]||(t[11]=r=>J())},null,544),[[Bt,b.value]]),t[28]||(t[28]=s("span",{class:"btn-switch__text"},"Автопродление",-1)),t[29]||(t[29]=s("span",{class:"btn-switch__toggle"},null,-1))])]),s("div",Ie,[a(lt,{onClick:t[12]||(t[12]=r=>F())},{default:v(()=>[a(nt),t[30]||(t[30]=s("div",null,"Передать на другой аккаунт",-1))]),_:1,__:[30]})])]),a(rt,{data:E.value},null,8,["data"])]),t[31]||(t[31]=s("div",{class:"tw-my-6"},[s("div",{class:"text"},[s("h3",null,"Что входит в стоимость"),s("p",null,"Для подключения дополнительных услуг"),s("ul",null,[s("li",null,"Размещение в РФ, Москва"),s("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),s("li",null,"IP адрес, с возможностью расширения"),s("li",null,"Бесплатная панель управления ISPManager Lite"),s("li",null,"Круглосуточная поддержка")])])],-1))],64)):y.value?p("",!0):(i(),R(ut,{key:1,label:"Заказ не найден"}))])],64)}}},Je=Et(Pe,[["__scopeId","data-v-23592f1d"]]);export{Je as default};
