import{E as y}from"./EmptyStateBlock-8165a481.js";import{r as A,a as N}from"./bootstrap-vue-next.es-c86262f3.js";import{_ as x}from"./ClausesKeeper-5fae717f.js";import{_ as C,e as R,r as i,h as _,j as U,i as g,o as c,c as I,a as w,b as f,z as d,w as v,F as O,y as j}from"./index-c781268b.js";import{u as b}from"./services-f889332c.js";import{S as F}from"./ServiceListOrderSelection-6ff8206a.js";import"./IconClose-3fa8ed32.js";import"./contracts-7e377877.js";import"./domain-ca269c7d.js";import"./multiselect-9a74535b.js";import"./ButtonDefault-dafa6215.js";import"./BasicInput-df2ac90e.js";import"./component-d2f2a50c.js";import"./BlockSelectContract-2bfc7c50.js";const P={class:"section"},z={class:"container"},G={__name:"BlockAdditionalServices",props:["serviceSearchParams"],emits:["update:modelValue"],setup(D,{emit:S}){const V=D,o=b();R();const l=i({}),u=i({});i(!1);const k=_(()=>o.DependServicesList),p=_(()=>{var s;return(s=Object.keys(o==null?void 0:o.ServicesList))==null?void 0:s.map(e=>{var t;return{...o==null?void 0:o.ServicesList[e],value:(t=o==null?void 0:o.ServicesList[e])==null?void 0:t.ID}}).filter(e=>{var t;return(e==null?void 0:e.ServicesGroupID)!=="1000"&&(e==null?void 0:e.IsActive)&&!(e!=null&&e.IsHidden)&&((t=k.value)==null?void 0:t.includes(e==null?void 0:e.ID))}).sort((e,t)=>Number(e==null?void 0:e.SortID)<Number(t==null?void 0:t.SortID)?-1:Number(e==null?void 0:e.SortID)>Number(t==null?void 0:t.SortID)?1:0)}),m=_(()=>Object.keys(l.value).map(s=>l.value[s]?u.value[s]:null).filter(Boolean));function E(n,s){u.value[s]=n}function L(n){l.value[n]=!l.value[n]}return U(m,(n,s)=>{S("update:modelValue",m.value)}),g(()=>{o.fetchDependServices(V.serviceSearchParams)}),(n,s)=>{const e=x,t=N,h=A,B=y;return c(),I("div",P,[w("div",z,[f(e),p.value?(c(),d(h,{key:0,class:"services__list",free:""},{default:v(()=>[(c(!0),I(O,null,j(p.value,(a,H)=>(c(),d(t,{class:"profile-notification__collapse",title:a==null?void 0:a.Name,modelValue:l.value[a.ID],"onUpdate:modelValue":r=>l.value[a.ID]=r,onClick:r=>L(a.ID)},{default:v(()=>[f(F,{sectionID:a.ID,sectionData:a,modelValue:u.value[a.ID],"onUpdate:modelValue":r=>u.value[a.ID]=r,"update-with-page-transition":!1,"is-inline":"",onUpdateList:r=>E(r,a.ID)},null,8,["sectionID","sectionData","modelValue","onUpdate:modelValue","onUpdateList"])]),_:2},1032,["title","modelValue","onUpdate:modelValue","onClick"]))),256))]),_:1})):(c(),d(B,{key:1,label:"Дополнительные услуги не найденыы"}))])])}}},ae=C(G,[["__scopeId","data-v-5231758c"]]);export{ae as default};
