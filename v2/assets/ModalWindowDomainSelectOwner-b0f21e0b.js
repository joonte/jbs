import{_ as V}from"./ButtonDefault-6a3a5e1e.js";import{f as x}from"./bootstrap-vue-next.es-759b1c9f.js";import{_ as y,r,e as B,S as N,g as D,h as O,o as M,c as P,a as u,t as $,b as m,w as I,d as U}from"./index-145d9cde.js";import{u as W}from"./domain-3173c1db.js";import{u as j}from"./contracts-009c925b.js";import{B as A}from"./BlockSelectProfile-23e99139.js";import"./multiselect-a2d623ca.js";const h={class:"modal__body"},T={class:"list-item__title"},q={class:"modal__input-row"},z={class:"modal__input-row"},G={class:"modal__buttons-wrap"},H={__name:"ModalWindowDomainSelectOwner",props:["data"],emits:["modalClose","buttonClicked"],setup(f,{emit:w}){const g=f,C=W(),c=j(),i=r(null),d=r(!1),_=r(!1);r("Natural"),B();const v=N("emitter"),o=D(()=>c==null?void 0:c.profileList),p=D(()=>Object.keys(o==null?void 0:o.value).map(n=>{var e,t,a,s;return{value:(t=(e=o.value)==null?void 0:e[n])==null?void 0:t.ID,name:(s=(a=o.value)==null?void 0:a[n])==null?void 0:s.Name}}));O(()=>{(p==null?void 0:p.value.length)<1&&v.emit("open-modal",{component:"NewProfile"})});function b(){w("modalClose")}function k(){v.emit("open-modal",{component:"AcceptCreateProfile"})}function S(){var e;_.value=!0;const n={DomainOrderID:g.data.DomainOrderID,OwnerTypeID:"Profile",ProfileID:(e=o.value[i.value])==null?void 0:e.ID,Agree:d.value?"yes":"no"};C.DomainSelectOwner(n).then(({result:t,resultData:a})=>{t==="SUCCESS"&&b(),_.value=!1})}return(n,e)=>{var s;const t=x,a=V;return M(),P("div",h,[u("div",T,"Владелец домена "+$((s=f.data)==null?void 0:s.Domain),1),u("div",q,[m(A,{title:"",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=l=>i.value=l),onButtonClicked:e[1]||(e[1]=l=>b())},null,8,["modelValue"])]),u("div",z,[m(t,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l)},{default:I(()=>[U("Согласен на передачу моих персональных данных регистратору")]),_:1},8,["modelValue"])]),u("div",G,[m(a,{class:"select-contract__button modal__button",label:"Создать новый профиль",onClick:e[3]||(e[3]=l=>k())}),m(a,{class:"modal__button",label:"Сохранить",disabled:!d.value||i.value===null,"is-loading":_.value,onClick:e[4]||(e[4]=l=>S())},null,8,["disabled","is-loading"])])])}}},R=y(H,[["__scopeId","data-v-f5b1e584"]]);export{R as default};
