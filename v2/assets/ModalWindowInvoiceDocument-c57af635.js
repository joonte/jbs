import{_ as h,j as w,o as u,x as f,w as y,c as I,F as D,v as x,k as p,d as C,t as S,J as M,S as N,y as k,a as W,b as B,R as j,r as P,i as R,B as V}from"./index-1c309346.js";import{u as E}from"./postings-da2063b0.js";const T={name:"RecursiveComponent",props:{data:{type:Object,required:!0}}};function q(a,c,e,n,_,m){var s,i,r,l;const t=w("recursive-component",!0);return((s=e.data)==null?void 0:s.Name)!=="LINK"&&((i=e.data)==null?void 0:i.Name)!=="SCRIPT"?(u(),f(k((r=e.data)==null?void 0:r.Name),M(N({key:0},(l=e.data)==null?void 0:l.Attribs)),{default:y(()=>{var d,o;return[(d=e.data)!=null&&d.Childs?(u(!0),I(D,{key:0},x(e.data.Childs,(v,b)=>(u(),f(t,{key:b,data:v},null,8,["data"]))),128)):p("",!0),C(" "+S((o=e.data)==null?void 0:o.Text),1)]}),_:1},16)):p("",!0)}const g=h(T,[["render",q]]),F={class:"modal__body"},L={class:"html__container",id:"html-container"};function O(a,c,e,n,_,m){const t=g;return u(),I("div",F,[W("div",L,[B(t,{data:n.htmlContent},null,8,["data"])])])}const z={props:{data:{type:Object,default:()=>{}}},components:{RecursiveComponent:g},setup(a){const c=j("emitter"),e=E(),n=P(null);function _(m,t){var s,i,r,l,d;if(console.log("1234"),m==="/InvoiceDocument"&&(t!=null&&t.Mobile))((s=t.Mobile)==null?void 0:s.length)!==11?c.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:"Неверный номер телефона"}}}):e.InvoiceDocument({InvoiceID:(i=a.data)==null?void 0:i.ID,Mobile:t.Mobile}).then(o=>{n.value=o});else{let o=(r=document==null?void 0:document.forms[0])==null?void 0:r.querySelector('input[name="Mobile"]');m==="/InvoiceDocument"&&o.value&&(((l=o.value)==null?void 0:l.length)!==11?c.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:"Неверный номер телефона"}}}):e.InvoiceDocument({InvoiceID:(d=a.data)==null?void 0:d.ID,Mobile:o.value}).then(v=>{n.value=v}))}}return window.ShowWindow=_.bind(this),R(()=>{n.value=a.data.html}),V(()=>{c.emit("close-modal")}),{htmlContent:n}}},K=h(z,[["render",O],["__scopeId","data-v-fafc607f"]]);export{K as default};
