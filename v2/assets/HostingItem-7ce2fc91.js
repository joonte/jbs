import{j as C,o as D,c as f,a as i,b as o,t as u,F as N,x as F,n as B,k as M,d as c,w as d,_ as P,g as T}from"./index-642cdac5.js";import{_ as V}from"./IconDots-24f2aa45.js";import{_ as z}from"./IconCard-b302365f.js";import{S as A}from"./StatusBadge-52b4bbab.js";import{h as W}from"./hostStatuses-94d00f20.js";import{_ as R}from"./HelperComponent-73967625.js";import"./hosting-73fbf392.js";import{f as L}from"./useTimeFunction-8602dd60.js";import{z as q,k as G,d as J}from"./bootstrap-vue-next.es-9ff54498.js";import{_ as K}from"./OrderIDBadge-d3607d65.js";const Q={class:"hosting-item__row"},X=["href"],Y={class:"hosting-item__date"},Z={class:"hosting-item__row"},$={class:"hosting-item__person"},tt={class:"hosting-item__row"},et={class:"hosting-item__list"},nt={class:"hosting-item__controls"},ot={class:"btn btn--dots"};function at(r,a,e,_,h,v){var b,p,S,k,O,y,H,w;const g=K,t=A,s=C("Helper"),l=z,E=V,I=C("router-link"),m=q,U=G,j=J;return D(),f("div",{class:B(["hosting-item",{"hosting-item_deleted":((b=e.itemData)==null?void 0:b.StatusID)==="Deleted"}])},[i("div",Q,[o(g,{orderID:(p=e.itemData)==null?void 0:p.OrderID},null,8,["orderID"]),i("a",{class:"hosting-item__name",href:_.fullDomainUrl,target:"_blank"},u((S=e.itemData)==null?void 0:S.Domain),9,X),o(t,{status:(k=e.itemData)==null?void 0:k.StatusID,"status-table":"HostingOrders"},null,8,["status"]),i("div",Y,"Дата окончания "+u(_.calculateExpirationDate((O=e.itemData)==null?void 0:O.DaysRemainded))+" | "+u(((y=e.itemData)==null?void 0:y.DaysRemainded)||0)+" дн.",1)]),i("div",Z,[i("div",$,u(e.userName),1),o(s,{"user-notice":(H=e.itemData)==null?void 0:H.UserNotice,id:(w=e.itemData)==null?void 0:w.OrderID,position:e.isLast?"bottom":"top",emit:"updateHostingList"},null,8,["user-notice","id","position"])]),i("div",tt,[i("ul",et,[(D(!0),f(N,null,F(e.params,n=>(D(),f(N,null,[n.text?(D(),f("li",{key:0,class:B({bold:n==null?void 0:n.bold})},u(n.text),3)):M("",!0)],64))),256))])]),i("div",nt,[i("div",{class:"btn btn--md btn--bold",onClick:a[0]||(a[0]=n=>_.orderManage())},"Управлять заказом"),i("div",{class:"btn btn--md btn--bold",onClick:a[1]||(a[1]=n=>{var x;return r.$router.push(`/HostingOrderPay/${(x=e.itemData)==null?void 0:x.OrderID}`)})},[o(l),c("Оплатить")]),o(j,{class:"dropdown-dots",right:""},{"button-content":d(()=>[i("div",ot,[o(E)])]),default:d(()=>[o(m,null,{default:d(()=>[o(I,{to:e.infoLink},{default:d(()=>[c("Дополнительная информация")]),_:1},8,["to"])]),_:1}),o(m,null,{default:d(()=>{var n;return[o(I,{to:`/HostingOrderPay/${(n=e.itemData)==null?void 0:n.OrderID}`},{default:d(()=>[c("Продлить")]),_:1},8,["to"])]}),_:1}),o(m,null,{default:d(()=>{var n;return[o(I,{to:`/HostingOrders/${(n=e.itemData)==null?void 0:n.OrderID}/SchemeChange`},{default:d(()=>[c("Изменить тариф")]),_:1},8,["to"])]}),_:1}),o(m,{onClick:a[2]||(a[2]=n=>_.transferAccount())},{default:d(()=>[c("Передать на другой аккаунт")]),_:1}),o(U),o(m,{class:"color-red",onClick:a[3]||(a[3]=n=>_.deleteHostingItem())},{default:d(()=>[c("Удалить")]),_:1})]),_:1})])],2)}const st={components:{IconDots:V,IconCard:z,Helper:R,StatusBadge:A},props:{params:{type:Array,default:()=>[]},itemData:{type:Object,default:()=>{}},userName:{type:String,default:""},infoLink:{type:String,default:"/"},isLast:{type:Boolean,default:!1}},emits:["delete","transfer","manage"],setup(r,{emit:a}){const e=T(()=>{var s,l;if(!((s=r.itemData)!=null&&s.Domain))return"";const t=(l=r.itemData)==null?void 0:l.Domain;return t.startsWith("http://")||t.startsWith("https://")?t:`https://${t}`});function _(t){if(!t)return L(new Date);const s=new Date,l=new Date(s.getTime()+t*24*60*60*1e3);return L(l)}function h(){var t;a("delete",(t=r.itemData)==null?void 0:t.ID)}function v(){var t,s;a("transfer",{ServiceOrderID:(t=r.itemData)==null?void 0:t.ID,ServiceID:(s=r.itemData)==null?void 0:s.ServiceID})}function g(){var t,s,l;a("manage",{ServiceOrderID:(t=r.itemData)==null?void 0:t.ID,ServiceID:(s=r.itemData)==null?void 0:s.ServiceID,OrderID:(l=r.itemData)==null?void 0:l.OrderID})}return{hostStatuses:W,deleteHostingItem:h,transferAccount:v,orderManage:g,calculateExpirationDate:_,fullDomainUrl:e}}},gt=P(st,[["render",at],["__scopeId","data-v-94bc86ed"]]);export{gt as H};
