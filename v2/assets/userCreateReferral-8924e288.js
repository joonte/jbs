import{o as b,c as g,a as e,t as w,b as u,Y as c,ae as d,p as D,l as U,_ as y,f as N,a6 as P,e as S,R as x,r as p,g as v}from"./index-1c309346.js";import{u as I}from"./contracts-7b919c67.js";import{s as R}from"./multiselect-b7ad6876.js";import{_ as C}from"./ButtonDefault-cd183bf8.js";import{_ as E}from"./ClausesKeeper-b9906182.js";import"./IconClose-7cf50ca7.js";const l=a=>(D("data-v-b8fe9e66"),a=a(),U(),a),V={class:"create-referral"},k={class:"section"},B={class:"container"},L={class:"section-header"},M=l(()=>e("h1",{class:"section-title"},"Создать реферала",-1)),j={class:"section-label"},A={class:"section"},T={class:"container"},Y={class:"create-referral__data"},q={class:"form-field"},z=l(()=>e("div",{class:"form-field__label"},"ФИО",-1)),F={class:"form-field"},G=l(()=>e("div",{class:"form-field__label"},"Email",-1)),H={class:"form-field"},J=l(()=>e("div",{class:"form-field__label"},"Пароль",-1)),K={class:"form-field"},O=l(()=>e("div",{class:"form-field__label"},"Подтвердить пароль",-1)),Q={class:"section"},W={class:"container"},X={class:"create-referral__data"};function Z(a,s,m,t,n,r){var i;const _=E,f=C;return b(),g("div",V,[e("div",k,[e("div",B,[e("div",L,[M,e("div",j,w((i=t.getUserInfo)==null?void 0:i.Name),1)]),u(_)])]),e("div",A,[e("div",T,[e("div",Y,[e("label",q,[z,c(e("input",{type:"text",placeholder:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.formData.Name=o)},null,512),[[d,t.formData.Name]])]),e("label",F,[G,c(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>t.formData.Email=o)},null,512),[[d,t.formData.Email]])]),e("label",H,[J,c(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>t.formData.Password=o)},null,512),[[d,t.formData.Password]])]),e("label",K,[O,c(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=o=>t.formData._Password=o)},null,512),[[d,t.formData._Password]])])])])]),e("div",Q,[e("div",W,[e("div",X,[u(f,{class:"btn--wide",label:"Зарегистрировать","is-loading":t.isLoading,onClick:s[4]||(s[4]=o=>t.createReferral())},null,8,["is-loading"])])])])])}const $={components:{Multiselect:R},async setup(){const a=N(),s=I(),m=P(),t=S();x("emitter");const n=p(!1),r=p({Email:"",Name:"",Password:"",_Password:""}),_=v(()=>a.userInfo),f=v(()=>s.contractsList[m.params.id]);function i(){r.value.Email.length>0&&r.value.Password.length>0&&r.value.Name.length>0&&r.value._Password.length>0&&(n.value=!0,a.registerNewUser({...r.value}).then(o=>{const{response:h,error:ee}=o;h==="success"&&t.push({path:"/DependUsers"}),n.value=!1}))}return await a.fetchUserData(),await s.fetchContracts(),{formData:r,getUserInfo:_,getContract:f,isLoading:n,createReferral:i}}},ne=y($,[["render",Z],["__scopeId","data-v-b8fe9e66"]]);export{ne as default};
