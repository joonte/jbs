import{j as ht,o as a,c as r,b as c,a as t,t as _,w as I,d as g,F as w,v as R,Y as Dt,Z as St,k as at,p as It,l as ut,_ as gt,a7 as bt,f as ft,R as wt,r as B,g as b}from"./index-d9e5d80f.js";import{u as Ot}from"./resetServer-404341d6.js";import{u as pt}from"./dedicatedServer-3d8fc8e7.js";import{f as rt}from"./useTimeFunction-8602dd60.js";import{_ as Pt}from"./IconCard-3c442370.js";import{I as kt}from"./IconProfile-05f3ab07.js";import{I as yt}from"./IconSettings-433e5bd2.js";import{I as dt}from"./IconEye-a4c2cded.js";import{S as ct}from"./StatusBadge-1111ad36.js";import{I as Mt}from"./IconRotate-725e36ca.js";import{h as xt}from"./hostStatuses-94d00f20.js";import{s as mt}from"./SettingsEngineItem-6ca820a8.js";import{B as vt}from"./BlockBalanceAgreement-bd5f9bec.js";import{E as Ct}from"./EmptyStateBlock-320e221f.js";import{_ as Rt}from"./ButtonDefault-cf4dc84b.js";import{_ as Bt}from"./ServicesContractBalanceBlock-1cf41c6c.js";import{_ as At}from"./ClausesKeeper-54c941b5.js";import{z as Et,d as Nt}from"./bootstrap-vue-next.es-b0c2a08e.js";import{_ as Lt}from"./IconDots-047442f8.js";import"./contracts-0b0db280.js";import"./IconArrow-3cf18905.js";import"./IconClose-b8cba5ec.js";const l=v=>(It("data-v-7fbe60a6"),v=v(),ut(),v),Tt={key:0,class:"ds-order-page"},Ut={class:"section"},Vt={class:"container"},jt={class:"section-header"},Ft={class:"section-title"},zt={class:"hosting-item__controls"},Gt=l(()=>t("div",{class:"btn btn--md btn--border btn--rotate btn--rotate_green"},"Включен",-1)),Wt={class:"btn btn--dots"},Yt={class:"section-label"},Zt={class:"section-nav"},qt={class:"list"},Ht={class:"list-col list-col--md"},Jt={class:"list-item"},Kt={class:"list-item__row"},Qt={class:"list-item__title"},Xt={class:"list-item__status"},$t={class:"list-item__row"},ts={class:"list-item__ul"},ss={class:"list-item__row list-item__row--column"},es={class:"list-item__text"},is={class:"list-item__text"},os={class:"list-item__text"},_s={class:"list-item__row"},ls={class:"btn btn--border btn--switch"},ns=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),as=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),rs={class:"list-col list-col--xl"},ds={class:"list-item"},cs=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Конфигурация")],-1)),ms={class:"list-item__row list-item__table"},vs={class:"list-item__table-col"},hs=l(()=>t("div",{class:"list-item__label"},"Процессор",-1)),Ds={class:"list-item__text"},Ss={class:"list-item__table-col"},Is=l(()=>t("div",{class:"list-item__label"},"RAM",-1)),us={class:"list-item__text"},gs={class:"list-item__table-col"},bs=l(()=>t("div",{class:"list-item__label"},"Память",-1)),fs={class:"list-item__text"},ws={class:"list-item__table-col"},Os=l(()=>t("div",{class:"list-item__label"},"Тип RAID контроллера",-1)),ps={class:"list-item__text"},Ps={class:"list-item__table-col"},ks=l(()=>t("div",{class:"list-item__label"},"Скорость канала",-1)),ys={class:"list-item__text"},Ms={class:"list-item__table-col"},xs=l(()=>t("div",{class:"list-item__label"},"Месячный трафик",-1)),Cs={class:"list-item__text"},Rs={class:"list-item__table-col"},Bs=l(()=>t("div",{class:"list-item__label"},"Предустановленная ОС",-1)),As={class:"list-item__text"},Es={class:"list-col list-col--md"},Ns={class:"list-item"},Ls=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы")],-1)),Ts={class:"list-item__row list-item__row--table"},Us=l(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Vs={class:"list-item__item"},js={class:"list-item__row list-item__row--table"},Fs=l(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),zs={class:"list-item__item"},Gs={class:"list-item__row list-item__row--table password-line"},Ws=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),Ys={class:"list-item__item"},Zs={key:0,class:"password-hidden"},qs={class:"list-col list-col--md"},Hs={class:"list-item"},Js=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы IPMI")],-1)),Ks={class:"list-item__row list-item__row--table"},Qs=l(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Xs={class:"list-item__item"},$s={class:"list-item__row list-item__row--table"},te=l(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),se={class:"list-item__item"},ee={class:"list-item__row list-item__row--table password-line"},ie=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),oe={class:"list-item__item"},_e={key:0,class:"password-hidden"},le={key:0,class:"list-col list-col--md"},ne={class:"list-item"},ae=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Общая информация из IPMI")],-1)),re={class:"list-item__row list-item__row--table"},de={class:"list-item__item"},ce={class:"list-item__item"},me={key:1,class:"list-col list-col--md"},ve={class:"list-item"},he=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Данные сенсоров")],-1)),De={class:"list-item__row list-item__row--table"},Se={class:"list-item__item"},Ie={class:"list-item__item"},ue=l(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),ge={key:1,class:"section"},be={class:"container"};function fe(v,o,D,s,A,E){var e,i,m,N,L,T,U,V,j,F,z,G,W,Y,Z,q,H,J,K,Q,X,$,tt,st,et,it,ot,_t,lt,nt;const u=vt,d=Lt,S=Et,O=Nt,p=ht("router-link"),P=At,k=Bt,y=ct,M=mt,x=Rt,f=dt,C=Ct;return a(),r(w,null,[c(u),(e=s.getDSServerData)!=null&&e.ID?(a(),r("div",Tt,[t("div",Ut,[t("div",Vt,[t("div",jt,[t("h1",Ft,_((i=s.getDSServerData)==null?void 0:i.IPaddr),1),t("div",zt,[Gt,c(O,{class:"dropdown-dots",right:""},{"button-content":I(()=>[t("div",Wt,[c(d)])]),default:I(()=>[c(S,{onClick:o[0]||(o[0]=n=>{var h;return s.serverReset((h=s.getDSServerData)==null?void 0:h.ID)})},{default:I(()=>[g("Перезагрузить")]),_:1})]),_:1})]),t("div",Yt,"Выделенный сервер # "+_((m=s.getDSServerData)==null?void 0:m.OrderID),1),t("div",Zt,[c(p,{class:"section-nav__item",to:`/DSOrders/${(N=s.getDSServerData)==null?void 0:N.OrderID}`},{default:I(()=>[g("Сервер")]),_:1},8,["to"])])]),c(P),t("div",qt,[c(k,{"contract-id":(L=s.getDSServerData)==null?void 0:L.ContractID,onTransfer:o[1]||(o[1]=n=>s.transferItem())},null,8,["contract-id"]),t("div",Ht,[t("div",Jt,[t("div",Kt,[t("div",Qt,_((T=s.getDSServerData)==null?void 0:T.Scheme),1),t("div",Xt,[c(y,{status:(U=s.getDSServerData)==null?void 0:U.StatusID,DaysRemainded:(V=s.getDSServerData)==null?void 0:V.DaysRemainded,"status-table":"DNSmanagerOrders"},null,8,["status","DaysRemainded"])]),c(M,null,{default:I(()=>[c(S,{onClick:o[2]||(o[2]=n=>s.openOrderRestore())},{default:I(()=>[g("Просмотреть учет заказа")]),_:1})]),_:1})]),t("div",$t,[t("ul",ts,[(a(!0),r(w,null,R(s.getDSItemParam(s.getDSServerData),n=>(a(),r("li",null,_(n),1))),256))])]),t("div",ss,[t("div",es,_(((j=s.getDSScheme)==null?void 0:j.CostMonth)||"0")+" ₽ в месяц",1),t("div",is,"Дней осталось "+_(((F=s.getDSServerData)==null?void 0:F.DaysRemainded)||"0"),1),t("div",os,"Дата окончания "+_(s.calculateExpirationDate((z=s.getDSServerData)==null?void 0:z.DaysRemainded)),1)]),t("div",_s,[c(x,{label:"Продлить",onClick:o[3]||(o[3]=n=>{var h;return v.$router.push(`/DSOrderPay/${(h=s.getDSServerData)==null?void 0:h.OrderID}`)})}),t("label",ls,[Dt(t("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=n=>s.isAutoProlong=n),onInput:o[5]||(o[5]=n=>s.setProlongValue())},null,544),[[St,s.isAutoProlong]]),ns,as])])])]),t("div",rs,[t("div",ds,[cs,t("div",ms,[t("div",vs,[hs,t("div",Ds,_(((G=s.getDSScheme)==null?void 0:G.CPU)||"-"),1)]),t("div",Ss,[Is,t("div",us,_((W=s.getDSScheme)!=null&&W.ram?`${(Y=s.getDSScheme)==null?void 0:Y.ram} ГБ`:"-"),1)]),t("div",gs,[bs,t("div",fs,_(((Z=s.getDSScheme)==null?void 0:Z.disks)||"-"),1)]),t("div",ws,[Os,t("div",ps,_(((q=s.getDSScheme)==null?void 0:q.raid)||"-"),1)]),t("div",Ps,[ks,t("div",ys,_((H=s.getDSScheme)!=null&&H.chrate?`${(J=s.getDSScheme)==null?void 0:J.chrate} Мбит/с`:"-"),1)]),t("div",Ms,[xs,t("div",Cs,_((K=s.getDSScheme)!=null&&K.trafflimit?`${(Q=s.getDSScheme)==null?void 0:Q.trafflimit} ГБ`:"-"),1)]),t("div",Rs,[Bs,t("div",As,_(((X=s.getDSScheme)==null?void 0:X.OS)||"-"),1)])])])]),t("div",Es,[t("div",Ns,[Ls,t("div",Ts,[Us,t("div",Vs,_(($=s.getDSServerData)==null?void 0:$.IPaddr),1)]),t("div",js,[Fs,t("div",zs,_((tt=s.getDSServerData)==null?void 0:tt.DSuser),1)]),t("div",Gs,[Ws,t("div",Ys,[s.passwordShowOne?(a(),r("div",Zs,_((st=s.getDSServerData)==null?void 0:st.DSpass),1)):(a(),r("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[6]||(o[6]=n=>s.passwordShowOne=!0)},[c(f,{class:"button-icon"}),g("Показать")]))])])])]),t("div",qs,[t("div",Hs,[Js,t("div",Ks,[Qs,t("div",Xs,_((et=s.getDSServerData)==null?void 0:et.ILOaddr),1)]),t("div",$s,[te,t("div",se,_((it=s.getDSServerData)==null?void 0:it.ILOuser),1)]),t("div",ee,[ie,t("div",oe,[s.passwordShowTwo?(a(),r("div",_e,_((ot=s.getDSServerData)==null?void 0:ot.ILOpass),1)):(a(),r("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[7]||(o[7]=n=>s.passwordShowTwo=!0)},[c(f,{class:"button-icon"}),g("Показать")]))])])])]),s.getDSOrderIPMI&&((_t=s.getDSOrderIPMI)==null?void 0:_t.IPMI.length)>0?(a(),r("div",le,[t("div",ne,[ae,(a(!0),r(w,null,R((lt=s.getDSOrderIPMI)==null?void 0:lt.IPMI,n=>(a(),r("div",re,[t("div",de,_(n==null?void 0:n.name),1),t("div",ce,_(n==null?void 0:n.value),1)]))),256))])])):at("",!0),(nt=s.getDSOrderIPMI)!=null&&nt["IPMI.Sensors"]&&s.getDSOrderIPMI["IPMI.Sensors"].length>0?(a(),r("div",me,[t("div",ve,[he,(a(!0),r(w,null,R(s.getDSOrderIPMI["IPMI.Sensors"],(n,h)=>(a(),r("div",De,[t("div",Se,_(h),1),t("div",Ie,_(n),1)]))),256))])])):at("",!0)])])]),ue])):(a(),r("div",ge,[t("div",be,[c(C,{label:"Заказ не найден"})])]))],64)}const we={components:{IconCard:Pt,IconProfile:kt,IconSettings:yt,IconEye:dt,StatusBadge:ct,IconRotate:Mt,settingsEngineItem:mt,BlockBalanceAgreement:vt},async setup(){const v=bt(),o=pt(),D=ft(),s=wt("emitter");s.on("updateDSIDPage",()=>{o.fetchDSOrders().then(()=>{var e;o.fetchDSOrderIPMI((e=d.value)==null?void 0:e.OrderID)}).then(()=>{var e;o.fetchDSOrderIPMISensors((e=d.value)==null?void 0:e.OrderID)})});const A=B(!1),E=B(!1),u=B(!0),d=b(()=>Object.keys(o==null?void 0:o.DSList).map(e=>o==null?void 0:o.DSList[e]).find(e=>e.OrderID===v.params.id)),S=b(()=>{var e,i;return(i=o==null?void 0:o.DSSchemes)==null?void 0:i[(e=d.value)==null?void 0:e.SchemeID]}),O=b(()=>o==null?void 0:o.DSOrderIPMI),p=b(()=>{var e,i;return(i=D==null?void 0:D.userOrders)==null?void 0:i[(e=d.value)==null?void 0:e.OrderID]}),P=b(()=>o==null?void 0:o.DSOrderIPMISensors);function k(e){if(!e)return rt(new Date);const i=new Date,m=new Date(i.getTime()+e*24*60*60*1e3);return rt(m)}function y(e){let i=S.value;i===void 0&&(i=e);let m=[];return i!=null&&i.Name&&m.push(i==null?void 0:i.Name),i!=null&&i.CPU&&m.push(i==null?void 0:i.CPU),i!=null&&i.ram&&m.push("RAM "+(i==null?void 0:i.ram)+" GB"),i!=null&&i.disks&&m.push(i==null?void 0:i.disks),m}function M(e){Ot().ServerReset(e)}function x(){var e,i;s.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(e=d.value)==null?void 0:e.ID,ServiceID:(i=d.value)==null?void 0:i.ServiceID}})}function f(){var e;D.prolongOrder({IsAutoProlong:u.value?0:1,OrderID:(e=d.value)==null?void 0:e.OrderID})}function C(){var e,i,m;s.emit("open-modal",{component:"OrderRestore",data:{OrderID:(e=d.value)==null?void 0:e.OrderID,CostDay:(i=S.value)==null?void 0:i.CostDay,DaysRemainded:(m=d.value)==null?void 0:m.DaysRemainded,emitEvent:"updateDSIDPage"}})}return await o.fetchDSSchemes(),o.fetchDSOrders().then(()=>{var e;o.fetchDSOrderIPMI((e=d.value)==null?void 0:e.OrderID)}).then(()=>{var e;o.fetchDSOrderIPMISensors((e=d.value)==null?void 0:e.OrderID)}),await D.fetchUserOrders().then(()=>{var e;u.value=(e=p.value)==null?void 0:e.IsAutoProlong}),{getDSOrderIPMI:O,getDSServerData:d,getDSScheme:S,getDSOrderIPMISensors:P,isAutoProlong:u,passwordShowOne:A,passwordShowTwo:E,openOrderRestore:C,transferItem:x,setProlongValue:f,serverReset:M,getDSItemParam:y,hostStatuses:xt,calculateExpirationDate:k}}},Ye=gt(we,[["render",fe],["__scopeId","data-v-7fbe60a6"]]);export{Ye as default};
