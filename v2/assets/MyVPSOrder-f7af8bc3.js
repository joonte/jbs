import{j as Dt,o as S,c as b,a as t,t as a,b as r,Y as bt,ad as Ot,d as p,w as I,k as Pt,Z as kt,p as yt,l as Ct,_ as xt,f as Rt,a6 as Mt,e as At,r as It,R as Nt,g as C}from"./index-ed1f28f8.js";import{u as Et}from"./contracts-cedf6a91.js";import{u as Bt}from"./vps-526e1f01.js";import{u as Ut}from"./globalActions-55d313ae.js";import{_ as Tt}from"./IconCard-ec16e358.js";import{I as Lt}from"./IconProfile-af74631a.js";import{I as jt}from"./IconSettings-a1819da5.js";import{I as Vt}from"./IconEye-ffe92e5b.js";import{S as ft}from"./StatusBadge-2304b071.js";import{v as Gt}from"./vpsStatuses-32ffaaf5.js";import{s as wt}from"./SettingsEngineItem-13832bf5.js";import{E as zt}from"./EmptyStateBlock-dbc11827.js";import{_ as Wt}from"./ButtonDefault-a8aacc82.js";import{z as Ft}from"./bootstrap-vue-next.es-79226723.js";import{_ as Yt}from"./ServicesContractBalanceBlock-dd87b12d.js";import{_ as Zt}from"./ClausesKeeper-9aa8ead7.js";import{I as qt}from"./IconRotate-9f02186b.js";import"./IconClose-a1e58263.js";const l=_=>(yt("data-v-abdf5bb2"),_=_(),Ct(),_),Ht={key:0,class:"my-vps-order"},Jt={class:"section"},Kt={class:"container"},Qt={class:"section-header"},Xt={class:"section-title"},$t={class:"btn btn--md btn--border btn--rotate btn--rotate_green button-large"},te={class:"ico"},ee={class:"section-label"},se={class:"section-nav"},oe={class:"list"},ie={class:"list-col list-col--md"},ne={class:"list-item"},ae={class:"list-item__row"},re={class:"list-item__title"},le={class:"list-item__status"},_e={class:"list-item__row"},ce={class:"list-item__ul"},de={key:0},me={class:"list-item__row list-item__row--column"},ve={class:"list-item__text"},he={class:"list-item__text"},pe={class:"list-item__row"},ue={class:"btn btn--border btn--switch"},ge=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),Se=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),be={class:"list-col list-col--md"},Ie={class:"list-item"},Ve={class:"list-item__row"},fe=l(()=>t("div",{class:"list-item__title"},"Панель управления",-1)),we={class:"list-item__row list-item__row--table"},De=l(()=>t("div",{class:"list-item__item"},"Адрес",-1)),Oe={class:"list-item__item"},Pe={class:"list-item__row list-item__row--table"},ke=l(()=>t("div",{class:"list-item__item"},"Логин",-1)),ye={class:"list-item__item"},Ce={class:"list-item__row list-item__row--table password-box"},xe=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),Re={class:"list-item__item"},Me={key:0,class:"password-hidden"},Ae={class:"list-item__row list-item__row--table"},Ne=l(()=>t("div",{class:"list-item__item"},"IP адрес",-1)),Ee={class:"list-item__item"},Be={class:"list-col list-col--md"},Ue={class:"list-item"},Te=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Именные сервера")],-1)),Le={class:"list-item__row list-item__row--table"},je=l(()=>t("div",{class:"list-item__item"},"Первичный сервер",-1)),Ge={class:"list-item__item"},ze={class:"list-item__row list-item__row--table"},We=l(()=>t("div",{class:"list-item__item"},"Вторичный сервер",-1)),Fe={class:"list-item__item"},Ye={class:"list-col list-col--md"},Ze={class:"list-item"},qe=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Паркованный домен")],-1)),He={class:"list-item__row list-item__row--table"},Je=l(()=>t("div",{class:"list-item__item"},"Паркованный домен",-1)),Ke={class:"list-item__item"},Qe=l(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),Xe={key:1,class:"section"},$e={class:"container"};function ts(_,i,v,e,x,R){var f,w,D,s,o,d,M,A,N,E,B,U,T,L,j,G,z,W,F,Y,Z,q,H,J,K,Q,X,$,tt,et,st,ot,it,nt,at,rt,lt,_t,ct,dt,mt,vt,ht,pt,ut,gt,St;const h=ft,m=qt,O=Dt("router-link"),n=Zt,u=Yt,g=Ft,P=wt,V=Wt,k=Vt,y=zt;return(f=e.getVpsOrder)!=null&&f.ID?(S(),b("div",Ht,[t("div",Jt,[t("div",Kt,[t("div",Qt,[t("h1",Xt,a((w=e.getVpsOrder)==null?void 0:w.Domain),1),r(h,{status:(D=e.getVpsOrder)==null?void 0:D.StatusID,"status-table":"VPSOrders"},null,8,["status"]),bt(t("button",$t,[p("Включен"),t("div",te,[r(m)])],512),[[Ot,((s=e.getVpsOrder)==null?void 0:s.StatusID)==="Active"]]),t("div",ee,"VPS/VDS сервер # "+a((o=e.getVpsOrder)==null?void 0:o.OrderID),1),t("div",se,[r(O,{class:"section-nav__item",to:"#"},{default:I(()=>[p("Сервер")]),_:1})])]),r(n),t("div",oe,[r(u,{"contract-id":(d=e.getVpsOrder)==null?void 0:d.ContractID,onTransfer:i[0]||(i[0]=c=>e.transferItem())},null,8,["contract-id"]),t("div",ie,[t("div",ne,[t("div",ae,[t("div",re,a((M=e.getVpsScheme)==null?void 0:M.Name),1),t("div",le,[r(h,{status:(A=e.getVpsOrder)==null?void 0:A.StatusID,"status-table":"VPSOrders"},null,8,["status"])]),r(P,null,{default:I(()=>[r(g,{onClick:i[1]||(i[1]=c=>e.openPackageChangeModal())},{default:I(()=>[p("Изменить тариф")]),_:1}),r(g,{onClick:i[2]||(i[2]=c=>e.openOrderRestore())},{default:I(()=>[p("Просмотреть учет заказа")]),_:1}),r(g,{onClick:i[3]||(i[3]=c=>e.openPasswordChange())},{default:I(()=>[p("Сменить пароль от аккаунта")]),_:1})]),_:1})]),t("div",_e,[t("ul",ce,[(B=(E=(N=e.getVpsScheme)==null?void 0:N.SchemeParams)==null?void 0:E.os)!=null&&B.value?(S(),b("li",de,a((L=(T=(U=e.getVpsScheme)==null?void 0:U.SchemeParams)==null?void 0:T.os)==null?void 0:L.value),1)):Pt("",!0),t("li",null,a(`${(z=(G=(j=e.getVpsScheme)==null?void 0:j.SchemeParams)==null?void 0:G.hdd_mib)==null?void 0:z.InternalName} ${(Y=(F=(W=e.getVpsScheme)==null?void 0:W.SchemeParams)==null?void 0:F.hdd_mib)==null?void 0:Y.Value} ${(H=(q=(Z=e.getVpsScheme)==null?void 0:Z.SchemeParams)==null?void 0:q.hdd_mib)==null?void 0:H.Unit}`),1),t("li",null,a(`RAM ${(Q=(K=(J=e.getVpsScheme)==null?void 0:J.SchemeParams)==null?void 0:K.ram_mib)==null?void 0:Q.Value} ${(tt=($=(X=e.getVpsScheme)==null?void 0:X.SchemeParams)==null?void 0:$.ram_mib)==null?void 0:tt.Unit}`),1),t("li",null,a(`Канал ${(ot=(st=(et=e.getVpsScheme)==null?void 0:et.SchemeParams)==null?void 0:st.net_bandwidth_mbitps)==null?void 0:ot.Value} ${(at=(nt=(it=e.getVpsScheme)==null?void 0:it.SchemeParams)==null?void 0:nt.net_bandwidth_mbitps)==null?void 0:at.Unit}`),1)])]),t("div",me,[t("div",ve,a((rt=e.getVpsScheme)==null?void 0:rt.CostMonth)+" ₽ в месяц",1),t("div",he,"Дней осталось "+a((lt=e.getVpsOrder)==null?void 0:lt.DaysRemainded),1)]),t("div",pe,[r(V,{label:((_t=e.getVpsOrder)==null?void 0:_t.StatusID)==="Suspended"||((ct=e.getVpsOrder)==null?void 0:ct.StatusID)==="Waiting"?"Оплатить":"Продлить",onClick:i[4]||(i[4]=c=>e.navigateToProlong())},null,8,["label"]),t("label",ue,[bt(t("input",{type:"checkbox","onUpdate:modelValue":i[5]||(i[5]=c=>e.isAutoProlong=c),onInput:i[6]||(i[6]=c=>e.setProlongValue())},null,544),[[kt,e.isAutoProlong]]),ge,Se])])])]),t("div",be,[t("div",Ie,[t("div",Ve,[fe,r(V,{class:"ml-auto",onClick:i[7]||(i[7]=c=>e.orderManage()),label:"Вход"})]),t("div",we,[De,t("div",Oe,a(`https://${(dt=_.getServerGroup)==null?void 0:dt.Address}/manager`),1)]),t("div",Pe,[ke,t("div",ye,a((mt=e.getVpsOrder)==null?void 0:mt.Login),1)]),t("div",Ce,[xe,t("div",Re,[e.passwordShow?(S(),b("div",Me,a((vt=e.getVpsOrder)==null?void 0:vt.Password),1)):(S(),b("button",{key:1,class:"btn btn--border btn--md password-box",onClick:i[8]||(i[8]=c=>e.passwordShow=!0)},[r(k),p("Показать")]))])]),t("div",Ae,[Ne,t("div",Ee,a((ht=e.getVpsOrder)!=null&&ht.IP?(pt=e.getVpsOrder)==null?void 0:pt.IP:"-"),1)])])]),t("div",Be,[t("div",Ue,[Te,t("div",Le,[je,t("div",Ge,a((ut=e.getVpsOrder)==null?void 0:ut.Ns1Name),1)]),t("div",ze,[We,t("div",Fe,a((gt=e.getVpsOrder)==null?void 0:gt.Ns2Name),1)])])]),t("div",Ye,[t("div",Ze,[qe,t("div",He,[Je,t("div",Ke,a((St=e.getVpsOrder)==null?void 0:St.Domain),1)])])])])])]),Qe])):(S(),b("div",Xe,[t("div",$e,[r(y,{label:"Заказ не найден"})])]))}const es={components:{IconCard:Tt,IconProfile:Lt,IconSettings:jt,IconEye:Vt,StatusBadge:ft,settingsEngineItem:wt},async setup(){const _=Bt(),i=Et(),v=Rt(),e=Ut(),x=Mt(),R=At(),h=It(!1),m=Nt("emitter");m.on("updateVPSIDPage",()=>{_.fetchVPS()});const O=It(!1),n=C(()=>Object.keys(_.vpsList).map(s=>_.vpsList[s]).find(s=>s.OrderID===x.params.id)),u=C(()=>{var s,o;return(o=_.vpsSchemes)==null?void 0:o[(s=n.value)==null?void 0:s.SchemeID]}),g=C(()=>{var s,o;return(o=v==null?void 0:v.userOrders)==null?void 0:o[(s=n.value)==null?void 0:s.OrderID]});function P(){var s,o;m.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(s=n.value)==null?void 0:s.ID,ServiceID:(o=n.value)==null?void 0:o.ServiceID}})}function V(){var s;R.push(`/VPSOrderPay/${(s=n.value)==null?void 0:s.OrderID}`)}function k(){var s;v.prolongOrder({IsAutoProlong:h.value?0:1,OrderID:(s=n.value)==null?void 0:s.OrderID})}function y(){var s,o;m.emit("open-modal",{component:"VPSOrderSchemeChange",data:{VpsID:(s=n.value)==null?void 0:s.ID,ServerGroup:(o=u.value)==null?void 0:o.ServersGroupID,emitEvent:"updateVPSIDPage"}})}function f(){var s,o;m.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:(s=n.value)==null?void 0:s.ID,ServiceID:(o=n.value)==null?void 0:o.ServiceID,emitEvent:"updateVPSIDPage"}})}function w(){var s,o,d;m.emit("open-modal",{component:"OrderRestore",data:{OrderID:(s=n.value)==null?void 0:s.OrderID,CostDay:(o=u.value)==null?void 0:o.CostDay,DaysRemainded:(d=n.value)==null?void 0:d.DaysRemainded,emitEvent:"updateVPSIDPage"}})}function D(){var s,o,d;e.OrderManage({ServiceOrderID:(s=n.value)==null?void 0:s.ID,OrderID:(o=n.value)==null?void 0:o.OrderID,ServiceID:(d=n.value)==null?void 0:d.ServiceID})}return await _.fetchVPS(),await _.fetchVPSSchemes(),await i.fetchContracts(),await v.fetchUserOrders().then(()=>{var s;h.value=(s=g.value)==null?void 0:s.IsAutoProlong}),{getVpsOrder:n,passwordShow:O,getVpsScheme:u,isAutoProlong:h,setProlongValue:k,navigateToProlong:V,transferItem:P,vpsStatuses:Gt,openPackageChangeModal:y,openPasswordChange:f,openOrderRestore:w,orderManage:D}}},Is=xt(es,[["render",ts],["__scopeId","data-v-abdf5bb2"]]);export{Is as default};
