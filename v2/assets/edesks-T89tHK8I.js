import{al as D,r as o,am as a,an as c}from"./index-Codq73aV.js";const M=D("EDesks",()=>{const i=o(null),u=o(null),n=o(null);async function k(){let e="error";return await a.post(c.eDesks).then(t=>{i.value=t?.data}).catch(()=>{e="error"}),e}async function f(e){let t="error";return await a.get(c.eDeskMessages+`?EdeskID=${e}`).then(s=>{u.value=s?.data,t="success"}).catch(()=>{t="error"}),t}function l(e){let t=new FormData;for(let s in e)t.append(s,e[s]);return t}async function p(e){let t="error",s=l(e);e?.TicketMessageFile&&e?.TicketMessageFile.forEach(r=>{s.append("TicketMessageFile[]",r)});try{await a.post(c.sendTicketMessage,s),t="success"}catch(r){console.error(r),t="error"}return t}async function d(){let e="error";return await a.post(c.ticketGroups).then(t=>{t?.data&&(n.value=t.data,e="success")}).catch(()=>{e="error"}),e}async function h(e){let t="error",s=l(e);return e?.TicketMessageFile&&e?.TicketMessageFile.forEach(r=>{s.append("TicketMessageFile[]",r)}),await a.post(c.ticketEdit,s).then(r=>{r?.data.Status==="Ok"&&(n.value=r.data,t="success")}).catch(()=>{t="error"}),t}return{eDesksList:i,eDeskMessages:u,eDeskGroups:n,fetchEDesks:k,fetchEDeskMessages:f,sendTicketMessage:p,fetchTicketGroups:d,ticketEdit:h}});export{M as u};
