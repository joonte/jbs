import{_ as U}from"./StatusBadge-DZmmWv0G.js";import{_ as E}from"./OrderIDBadge-Cc01CaG4.js";import{_ as F}from"./ServerStatusBadge.vue_vue_type_script_setup_true_lang-DbXnhqPA.js";import{r as q,Y as A,v as H,m as P}from"./bootstrap-vue-next-BglOzul_.js";import{_ as Y}from"./IconDots-Mp79qN9u.js";import{_ as z}from"./UserNote-Cq01thJ0.js";import{_ as G}from"./CardButton-Y2h0wZDl.js";import{_ as J}from"./IconCard-CjQefsRP.js";import{d as K,x as Q,r as W,m as X,E as Z,c as p,o as D,a as o,b as r,w as a,j as d,e as x,h as ee,t as l,F as te,i as re,n as se}from"./index-C9dBN6m4.js";import{f as I}from"./time-DenPiOX5.js";import{i as oe}from"./BlockBalanceAgreement-DSLTUOoQ.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"btn btn--dots"},ie={class:"tw-flex tw-items-center tw-gap-4 tw-mt-10 xl:tw-mt-0"},de={class:"tw-flex tw-gap-2 tw-items-center"},le={class:"tw-flex"},ce={class:"tw-text-lg"},ue={class:"tw-text-sky-400 tw-mt-2"},me={class:"tw-flex tw-flex-col lg:tw-items-center lg:tw-flex-row lg:tw-justify-between tw-gap-2 tw-mt-2"},we={class:"tw-flex tw-flex-wrap tw-gap-x-4 tw-gap-y-1 tw-text-sm tw-text-gray-500"},fe={class:"last:tw-font-bold"},ve={class:"tw-flex tw-items-center tw-gap-2 tw-text-nowrap"},pe={class:"hosting-status__date"},De={__name:"DSCard",props:{params:{type:Array,default:()=>[]},server:{type:Object,required:!0},isLast:{type:Boolean,default:!1},isSeveral:{type:Boolean,default:!1},selectedRows:{type:Object,required:!0}},emits:["delete","transfer","manage"],setup(t,{emit:S}){const i=t,_=S,O=K(),b=Q("emitter"),f=W({...i.selectedRows}),y=()=>{_("update-selected-rows",f.value)};X(()=>i.selectedRows,s=>{f.value={...s}},{deep:!0});function $(s){if(!s)return I(new Date);const e=new Date,v=new Date(e.getTime()+s*24*60*60*1e3);return I(v)}function k(s){oe()||O.push(`/DSOrders/${s}`)}function C(){_("delete",i.server.ID,i.server.OrderID)}function B(){_("transfer",{ServiceOrderID:i.server.ID,ServiceID:i.server.ServiceID})}function N(s){b.emit("open-modal",{component:"StatusHistory",data:{modeID:"DSOrders",rowID:s}})}function h(s){if(!s)return"";const e=new Date(Number.parseInt(s)*1e3),g=new Date-e,c=Math.floor(g/1e3),u=Math.floor(c/60),m=Math.floor(u/60),w=Math.floor(m/24);return c<60?`${c} сек. от статуса`:u<60?`${u} мин. от статуса`:m<24?`${m} ч. от статуса`:`${w} дн. от статуса`}return(s,e)=>{const v=J,g=G,c=z,u=Y,m=Z("router-link"),w=q,R=A,V=H,j=P,M=F,T=E,L=U;return D(),p("div",{onClick:e[7]||(e[7]=n=>k(t.server.OrderID)),class:"tw-relative tw-p-4 tw-border tw-border-gray-200 tw-rounded tw-cursor-pointer hover:tw-bg-sky-100"},[o("div",{onClick:e[3]||(e[3]=d(()=>{},["stop"])),class:"tw-absolute tw-right-4 tw-top-4 tw-flex tw-items-center tw-gap-1"},[r(g,{onClick:e[0]||(e[0]=d(n=>s.$router.push(`/DSOrderPay/${t.server.OrderID}`),["stop"]))},{default:a(()=>[r(v),e[8]||(e[8]=o("div",null,"Оплатить",-1))]),_:1,__:[8]}),r(c,{text:t.server.UserNotice,"order-id":t.server.OrderID,emit:"updateDSOrdersList"},null,8,["text","order-id"]),r(V,{class:"dropdown-dots",right:""},{"button-content":a(()=>[o("span",ae,[r(u)])]),default:a(()=>[r(w,null,{default:a(()=>[r(m,{to:`DSOrders/${t.server.OrderID}`},{default:a(()=>e[9]||(e[9]=[x("Дополнительная информация",-1)])),_:1,__:[9]},8,["to"])]),_:1}),r(w,{onClick:e[1]||(e[1]=d(n=>B(),["stop"]))},{default:a(()=>e[10]||(e[10]=[x("Передать на другой аккаунт",-1)])),_:1,__:[10]}),r(R),r(w,{class:"color-red",onClick:e[2]||(e[2]=d(n=>C(),["stop"]))},{default:a(()=>e[11]||(e[11]=[x("Удалить",-1)])),_:1,__:[11]})]),_:1})]),o("div",ie,[t.isSeveral?(D(),p("div",{key:0,onClick:e[5]||(e[5]=d(()=>{},["stop"]))},[r(j,{id:"checkbox-"+t.server.OrderID,modelValue:f.value[t.server.OrderID],"onUpdate:modelValue":e[4]||(e[4]=n=>f.value[t.server.OrderID]=n),name:"checkbox-"+t.server.OrderID,onChange:y},null,8,["id","modelValue","name"])])):ee("",!0),o("div",de,[r(M,{indicators:t.server.Stat?.Last},null,8,["indicators"]),r(T,{orderId:t.server.OrderID},null,8,["orderId"])]),o("div",le,[o("span",ce,l(t.server.IP),1)])]),o("div",ue,l(t.server.Customer),1),o("div",me,[o("div",we,[(D(!0),p(te,null,re(t.params,n=>(D(),p("div",fe,l(n),1))),256))]),o("div",ve,[o("span",{class:se(["hosting-item__date tw-pl-0",{danger:Number(t.server.DaysRemainded)<14}])},l($(t.server.DaysRemainded))+" • "+l(t.server.DaysRemainded||0)+" дн. ",3),r(L,{class:"status-badge tw-cursor-pointer",status:t.server.StatusID,"status-table":"DSOrders",onClick:e[6]||(e[6]=d(n=>N(t.server.ID),["stop"]))},null,8,["status"]),o("div",pe,l(h(t.server.StatusDate)),1)])])])}}},Ne=ne(De,[["__scopeId","data-v-a6d801f9"]]);export{Ne as _};
