import{_ as N}from"./EmptyStateBlock-CV1Zaaf7.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{G as O,c as i,o,a as t,i as y,t as u,L as V,b as f,F as v,j as D,w as j,e as L,n as G,M as A,H as M,r as E,E as m,f as F,D as w,I as z,J as H}from"./index-XtiBO-PZ.js";import{_ as J}from"./ClausesKeeper-DEgaQ2N3.js";import{_ as P}from"./BlockBalanceAgreement-DjWMZ940.js";import{u as T}from"./resetServer-CCXxJWyw.js";import{g as q}from"./common-B12QeiN6.js";import"./IconClose-s_NQ_Q4c.js";import"./contracts-BdlSA9YT.js";import"./ButtonDefault-eJbeaBtE.js";const K={class:"server-item__wrapper"},Q={class:"server-item__header"},R={class:"server-item__top"},U={class:"server-item__name"},W={key:0,class:"server-item__image"},X=["src"],Y={class:"server-item__price"},Z={class:"tw-p-4 tw-space-y-4"},ee={class:"tw-text-gray-500 tw-text-xs"},te={class:"tw-gray-800 tw-text-sm"},se={class:"server-item__row"},re={class:"server-item__note"},oe={__name:"ServerItem",props:{data:{type:Object,default:()=>({})},specifications:{type:Array,default:()=>[]},image:{type:String,default:""}},setup(a){return(n,r)=>{const _=O("router-link");return o(),i("div",{class:G(["server-item",{"server-item--special":a.data.special}])},[t("div",K,[t("div",Q,[t("div",R,[t("div",U,u(a.data.Name),1),a.image?(o(),i("div",W,[t("img",{src:a.image,alt:"OS Image"},null,8,X)])):y("",!0)]),t("div",Y,u(a.data.CostMonth)+" ₽ в месяц",1)]),t("div",Z,[(o(!0),i(v,null,D(a.specifications,d=>(o(),i("div",{key:d.label,class:""},[t("div",ee,u(d.label),1),t("div",te,u(d.text),1)]))),128)),a.data.note?V(n.$slots,"default",{key:0},()=>[t("div",se,[t("div",re,u(a.data.note),1)])],!0):y("",!0),f(_,{class:"btn btn--wide btn--border btn--wide",to:`/DSSchemes/${a.data.ID}`},{default:j(()=>r[0]||(r[0]=[L(" Заказать ",-1)])),_:1,__:[0]},8,["to"])])])],2)}}},ae=k(oe,[["__scopeId","data-v-bd53a5da"]]),ne={class:"section"},ce={class:"container"},ie={class:"section-header"},_e={class:"section-nav"},le=["title","onClick"],ue={key:0,class:"list"},de={__name:"DSSchemes",async setup(a){let n,r;const _=A(),d=M(),p=T(),S=E(0);[n,r]=m(()=>_.fetchDSOrders()),await n,r(),[n,r]=m(()=>_.fetchDSSchemes()),await n,r(),[n,r]=m(()=>d.fetchVPSSchemes()),await n,r(),[n,r]=m(()=>p.fetchServerGroups()),await n,r(),S.value=h()?.[0]?.ServersGroupID;const g=F(()=>Object.keys(_.DSSchemes).filter(e=>_.DSSchemes[e].IsActive).map(e=>_.DSSchemes[e]).sort((e,s)=>e.CostMonth-s.CostMonth));function b(e){S.value=e}function I(e){return p?.serverGroupsList?.ServersGroups?.[e]}function h(){let e={};return Object.values(p?.serverGroupsList?.Servers).forEach(s=>{if(s.ServiceID==="40000"){const l=s.ServersGroupID;e[l]||(e[l]={SortID:s.SortID,ServersGroupID:l,servers:[]}),e[l].servers.push(s)}}),Object.values(e).sort((s,l)=>s.SortID-l.SortID)}function x(e){const s=_.DSSchemes?.[e];return s?q(s):[]}return(e,s)=>{const l=P,C=J,$=ae,B=N;return o(),i(v,null,[f(l),t("section",ne,[t("div",ce,[t("div",ie,[s[0]||(s[0]=t("h1",{class:"section-title"},"Заказ выделенного сервера",-1)),s[1]||(s[1]=t("div",{class:"section-text"}," При покупке этой услуги у вас появляется полностью укомплектованный, настроенный выделенный сервер, с операционной системой на ваш выбор, размещённый в дата-центре в Москве, по самым низким ценам. ",-1)),f(C),z(t("div",_e,[(o(!0),i(v,null,D(h(),(c,me)=>(o(),i("div",{class:G(["section-nav__item",{active:String(S.value)===String(c?.ServersGroupID)}]),key:c.ServersGroupID,title:I(c?.ServersGroupID)?.Comment,onClick:ve=>b(c?.ServersGroupID)},u(I(c?.ServersGroupID)?.Name),11,le))),128))],512),[[H,h().length>1]])]),g.value.length?(o(),i("div",ue,[(o(!0),i(v,null,D(g.value,c=>(o(),w($,{key:c.ID,data:c,specifications:x(c.ID),image:c.Image},null,8,["data","specifications","image"]))),128))])):(o(),w(B,{key:1,label:"Нет доступных серверов"}))])])],64)}}},Ge=k(de,[["__scopeId","data-v-12bee765"]]);export{Ge as default};
