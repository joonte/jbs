import{o as l,c as f,a as C,b,t as D,k as d,n as L,_ as S,r as h,i as $,a1 as B,a2 as A,a3 as N,f as T,a7 as E,g as H,h as M,x as g,w as P,F as R,v as V,a8 as j}from"./index-4434f005.js";import{I as w}from"./IconClose-0cfbf563.js";const F={key:0},K={key:0,class:"notify-title"},O=["innerHTML"];function q(c,e,o,a,y,n){var i,u;const p=w;return a.show?(l(),f("div",F,[C("div",{class:L(["notify","notify--"+o.notify.class])},[C("button",{class:"notify-close",onClick:e[0]||(e[0]=m=>a.closeAlert())},[b(p)]),(i=o.notify)!=null&&i.title?(l(),f("div",K,D(o.notify.title),1)):d("",!0),(u=o.notify)!=null&&u.text?(l(),f("p",{key:1,innerHTML:o.notify.text},null,8,O)):d("",!0)],2)])):d("",!0)}const z={components:{IconClose:w},props:{show:{type:Boolean,default:!1},notify:{type:Object,default:()=>{}}},emits:["close"],setup(c,{emit:e}){const o=h(!1);function a(){o.value=!1,e("close")}return $(()=>{o.value=c.show}),{show:o,closeAlert:a}}},G=S(z,[["render",q],["__scopeId","data-v-5af090cb"]]),U=B("clauses",()=>{const c=h(null);async function e(o){return await A.post(""+N.fetchClauses,{Partition:o}).then(a=>a==null?void 0:a.data)}return{clausesList:c,fetchClauses:e}});const X={__name:"ClausesKeeper",props:["partition"],setup(c){const e=c,o=U(),a=T(),y=E();h("");const n=h([]),p=H(()=>a.userInfo);function i(t){var s;return`clause_${(s=p.value)==null?void 0:s.ID}_${t==null?void 0:t.ID}`}function u(t){return document.cookie.match(RegExp(`(?:^|;\\s*)${i(t)}=([^;]*)`))===null}function m(t){let s=new Date;s.setDate(7+s.getDate()),document.cookie=`${i(t)}=hidden; path=/; expires=${s}`,r()}function r(){let t=[];return Object.keys((n==null?void 0:n.value)||{}).forEach((s,x)=>{u(n==null?void 0:n.value[s])&&t.push(n==null?void 0:n.value[s])}),t}function v(){console.log("Partition - ",e==null?void 0:e.partition),o.fetchClauses((e==null?void 0:e.partition)||`Header:${y.fullPath}`).then(t=>{t&&(n.value=t,r())})}return v(),M(e,()=>{v()}),(t,s)=>{var k;const x=G;return((k=r())==null?void 0:k.length)>0?(l(),g(j,{key:0,class:"clauses-keeper",name:"list",tag:"div"},{default:P(()=>[(l(!0),f(R,null,V(r(),(_,I)=>(l(),g(x,{class:"clauses-alert",key:I,notify:{text:_==null?void 0:_.Text,class:"basic"},show:!0,onClose:J=>m(_)},null,8,["notify","onClose"]))),128))]),_:1})):d("",!0)}}};export{X as _};
