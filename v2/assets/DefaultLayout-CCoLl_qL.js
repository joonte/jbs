import{_ as C,a as L,b as y,c as $,d as R,e as B,f as N}from"./HeaderComponent-G5VgnfIS.js";import{_ as V}from"./ButtonDefault-CMw2aBy6.js";import{d as H,ao as T,G as u,o as e,c as w,a as s,b as t,w as r,v as i,e as A,u as E,m as I,C as a,ay as K,a0 as D}from"./index-Codq73aV.js";import{u as G}from"./server-DnY_Nzbw.js";import{u as M}from"./index-BO2gwtUe.js";import"./IconClose-Dia1noy8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconCross-DYjIbZqx.js";import"./IconServer-CSmkLUQN.js";import"./IconSettings-Pwo5dDjN.js";import"./IconProfile-CyDmeaCw.js";import"./bootstrap-vue-next-W16P-SAV.js";import"./IconChevronDown-DOsbTpSQ.js";import"./user-placeholder-CyUFSnNp.js";import"./basket-CkUYOxAg.js";const j={class:"tw-fixed tw-top-0 tw-left-0 tw-z-30 tw-w-full tw-flex tw-items-center tw-h-16 md:tw-h-20 tw-border-b tw-border-gray-200 tw-bg-white"},z={class:"tw-flex tw-items-center tw-justify-between tw-px-4 md:tw-pr-8 tw-w-full"},F=["src"],P={class:"tw-hidden md:tw-flex tw-items-center tw-gap-4"},q={__name:"HeaderNotAuth",setup(d){const o=H(),_=T();return(p,n)=>{const c=u("RouterLink"),m=V;return e(),w("header",j,[s("div",z,[t(c,{to:"/Home"},{default:r(()=>[s("img",{src:i(_).data.TopLogo,alt:"Logo",class:"tw-max-w-[120px] md:tw-max-w-[200px]"},null,8,F)]),_:1}),s("div",P,[t(c,{class:"btn btn-default btn--border",to:"/Registration"},{default:r(()=>n[1]||(n[1]=[A("Регистрация",-1)])),_:1,__:[1]}),t(m,{label:"Войти в аккаунт",onClick:n[0]||(n[0]=l=>i(o).push("/Logon"))})])])])}}},J={class:"tw-flex tw-flex-col tw-min-h-screen"},O={class:"tw-relative tw-flex-1 tw-flex tw-mt-16 md:tw-mt-20 tw-w-full"},Q={class:"tw-flex-1 tw-min-w-0"},it={__name:"DefaultLayout",setup(d){const o=E(),_=G(),p=M();return I(()=>o.userLoggedIn,async()=>{o.userLoggedIn&&await Promise.all([p.fetchContracts(),_.fetchServerGroups()])},{immediate:!0}),(n,c)=>{const m=N,l=q,f=C,h=L,g=u("RouterView"),x=y,b=$,v=R,S=B;return e(),w("main",J,[i(o).userLoggedIn?(e(),a(m,{key:0})):(e(),a(l,{key:1})),s("div",O,[t(f,{class:"tw-hidden md:tw-block"}),s("div",Q,[t(g,null,{default:r(({Component:k})=>[(e(),a(K,{timeout:0},{fallback:r(()=>[t(h)]),default:r(()=>[(e(),a(D(k)))]),_:2},1024))]),_:1})])]),t(x),t(b),t(v),t(S)])}}};export{it as default};
