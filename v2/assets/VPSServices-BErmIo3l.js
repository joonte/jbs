import{_ as A}from"./LoadingIndicator-y8DeC9jv.js";import{_ as C}from"./EmptyStateBlock-DA3-0YDi.js";import{_ as $,a as N}from"./BlockDependentServices-DPC_LtYM.js";import{_ as E}from"./BlockAdditionalServices-Dc0oR6v8.js";import{_ as G}from"./ClausesKeeper-iUM0yapS.js";import{_ as R}from"./BlockBalanceAgreement-v_bWuiVT.js";import{H as F,r as w,f as i,E as T,o as a,c as S,b as s,a as n,F as f,t as j,w as D,C as x,G as H,i as K,e as b}from"./index-Codq73aV.js";import{u as U}from"./services-DyPBvbVy.js";import{u as q}from"./orders-wJq_IMsK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ButtonDefault-CMw2aBy6.js";import"./common-DyknwSqv.js";import"./BlueButton.vue_vue_type_script_setup_true_lang-BKdLNEec.js";import"./StatusBadge-BmqDrHzy.js";import"./bootstrap-vue-next-W16P-SAV.js";import"./InputServiceSelect-Dvi-CxI4.js";import"./InputSelect.vue_vue_type_script_setup_true_lang-D7E9_BoS.js";import"./IconChevronDown-DOsbTpSQ.js";import"./index-BO2gwtUe.js";import"./BasicInput-DeQAeyXe.js";import"./component-DqcwA9JN.js";import"./IconClose-Dia1noy8.js";const z={class:"tw-px-4 md:tw-px-8 tw-mb-6"},J={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},M={class:"tw-flex tw-items-center tw-gap-8 tw-border-b tw-border-gray-200 tw-mt-4 tw-whitespace-nowrap tw-mb-6"},fe={__name:"VPSServices",async setup(Q){let l,m;const k=K(),o=F(),p=U(),u=q(),c=w([]),_=w(!0),e=i(()=>Object.values(o.vpsList).find(r=>r&&r.OrderID===Number(k.params.id))),d=i(()=>o.vpsSchemes[e.value.SchemeID]),I=i(()=>e.value?u.ordersList.filter(r=>r.DependOrderID===e.value.OrderID&&r.ServiceID&&p.ServicesList[r.ServiceID]).sort((r,t)=>r.ID-t.ID):[]);return[l,m]=T(()=>Promise.all([o.fetchVPS(),o.fetchVPSSchemes(),p.fetchServices(),u.fetchAllOrders()])),await l,m(),_.value=!1,(r,t)=>{const y=R,v=H("RouterLink"),V=G,g=$,O=E,h=N,B=C,L=A;return a(),S(f,null,[s(y,{"contract-id":e.value?.ContractID},null,8,["contract-id"]),n("div",z,[e.value&&d.value?(a(),S(f,{key:0},[t[3]||(t[3]=n("h1",{class:"tw-text-xl sm:tw-text-4xl"},"Дополнительные услуги",-1)),n("div",J,"VPS/VDS сервер #"+j(e.value.OrderID),1),n("div",M,[s(v,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/VPSOrders/${e.value.OrderID}`},{default:D(()=>t[1]||(t[1]=[b(" Сервер ",-1)])),_:1,__:[1]},8,["to"]),s(v,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/VPSOrders/${e.value.OrderID}/Services`},{default:D(()=>t[2]||(t[2]=[b(" Услуги ",-1)])),_:1,__:[2]},8,["to"])]),s(V),s(g,{services:I.value},null,8,["services"]),s(O,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=P=>c.value=P),"service-search-params":{ServiceID:e.value.ServiceID,ServersGroupID:d.value.ServersGroupID},class:"tw-mt-6"},null,8,["modelValue","service-search-params"]),s(h,{services:c.value,"main-order":e.value},null,8,["services","main-order"])],64)):_.value?(a(),x(L,{key:2,class:"tw-mt-10"})):(a(),x(B,{key:1,label:"Заказ не найден"}))])],64)}}};export{fe as default};
