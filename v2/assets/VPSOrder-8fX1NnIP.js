import{_ as et}from"./EmptyStateBlock-DgFyy_gi.js";import{_ as st,a as ot}from"./CopyToClipboard.vue_vue_type_script_setup_true_lang-BSBKPmEv.js";import{_ as nt}from"./ButtonDefault-CgQ13ecW.js";import{_ as lt}from"./SettingsEngineItem-OTQ5qXYy.js";import{r as at}from"./bootstrap-vue-next-CDL_Y1-V.js";import{_ as it}from"./ServicesContractBalanceBlock-p9zlFW-0.js";import{_ as rt}from"./ClausesKeeper-Cjjq7JUL.js";import{_ as dt}from"./IconRotate-kxmItrUB.js";import{_ as ut}from"./StatusBadge-CiYQLfxg.js";import{_ as _t}from"./BlockBalanceAgreement-BNU6bIWW.js";import{H as mt,u as vt,r as h,y as ct,f,g as pt,E as S,c as v,b as o,a as t,I as E,t as n,J as St,n as wt,e as u,w as c,G as Dt,i as gt,K as ft,F as bt,d as It,o as p}from"./index-DakgQwZZ.js";import{u as Pt}from"./contracts-C-xJvA56.js";import{u as ht}from"./globalActions-BG7EYttN.js";import{u as Ot}from"./resetServer-DJv4Ps11.js";import{f as M}from"./time-DenPiOX5.js";import{_ as Vt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconCopy-DZ-eqbI0.js";import"./IconSettings-CudvjEMd.js";import"./IconProfile-C5q7Wd6m.js";import"./IconCard-CoE2j-B8.js";import"./IconClose-Camrw-uN.js";const Ct={key:0,class:"my-vps-order"},kt={class:"section"},$t={class:"container"},yt={class:"section-header"},xt={class:"section-title"},Rt={class:"ico"},At={class:"section-label"},Nt={class:"section-nav"},Bt={class:"list"},Et={class:"list-col list-col--md"},Mt={class:"list-item"},Ut={class:"list-item__row"},Gt={class:"list-item__title"},Lt={class:"list-item__status"},Tt={class:"list-item__row"},jt={class:"list-item__ul"},Ft={key:0},Ht={class:"list-item__row list-item__row--column"},Wt={class:"list-item__text"},zt={class:"list-item__text"},Jt={class:"list-item__text"},Kt={class:"list-item__row"},qt={class:"btn btn--border btn--switch"},Qt={class:"list-col list-col--md"},Xt={class:"tw-grid tw-grid-cols-3 tw-gap-6 md:tw-border md:tw-border-gray-200 md:tw-rounded-md md:tw-p-6"},Yt={class:"tw-col-span-3 tw-flex tw-items-center tw-justify-between tw-gap-2"},Zt={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},te={class:"tw-break-all"},ee={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},se={class:"tw-break-all"},oe={class:"tw-col-span-2 tw-flex tw-flex-wrap tw-items-center tw-gap-2"},ne={key:0,class:"password-hidden"},le={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},ae={class:"list-col list-col--md"},ie={class:"list-item"},re={class:"list-item__row list-item__row--table"},de={class:"list-item__item"},ue={class:"list-item__row list-item__row--table"},_e={class:"list-item__item"},me={class:"list-col list-col--md"},ve={class:"list-item"},ce={class:"list-item__row list-item__row--table"},pe={class:"list-item__item"},Se={key:1,class:"section"},we={class:"container"},De={__name:"VPSOrder",async setup(ge){let r,d;const m=mt(),U=Pt(),b=vt(),G=ht(),O=Ot(),V=pt(),C=It(),w=h(!1),D=h(!1),_=ct("emitter");_.on("updateVPSIDPage",()=>{m.fetchVPS()});const k=h(!1),s=f(()=>Object.keys(m.vpsList).map(i=>m.vpsList[i]).find(i=>i.OrderID===V.params.id)),l=f(()=>m.vpsSchemes?.[s.value?.SchemeID]),L=f(()=>b?.userOrders?.[s.value?.OrderID]);function T(){function i(e){w.value=e}_.emit("open-modal",{component:"ReloadVPS",data:{VPSOrderID:s.value?.ID,isReloading:w.value,onReloadStatusChange:i}})}function $(i){_.emit("open-modal",{component:"StatusHistory",data:{modeID:"VPSOrders",rowID:i}})}const y=f(()=>O?.serverGroupsList?.Servers?.[s.value?.ServerID]);function j(i){if(!i)return M(new Date);const e=new Date,I=new Date(e.getTime()+i*24*60*60*1e3);return M(I)}function F(){_.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:s.value?.ID,ServiceID:s.value?.ServiceID}})}function H(){C.push(`/VPSOrders/${s.value?.OrderID}/SchemeChange`),x()}function W(){C.push(`/VPSOrderPay/${s.value?.OrderID}`)}function z(){b.prolongOrder({IsAutoProlong:D.value?0:1,OrderID:s.value?.OrderID})}function x(){_.emit("open-modal",{component:"VPSOrderSchemeChange",data:{VpsID:s.value?.ID,ServerGroup:l.value?.ServersGroupID,emitEvent:"updateVPSIDPage"}})}function R(){_.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:s.value?.ID,ServiceID:s.value?.ServiceID,emitEvent:"updateVPSIDPage"}})}function J(){_.emit("open-modal",{component:"OrderRestore",data:{OrderID:s.value?.OrderID,CostDay:l.value?.CostDay,DaysRemainded:s.value?.DaysRemainded,emitEvent:"updateVPSIDPage"}})}function K(){G.OrderManage({ServiceOrderID:s.value?.ID,OrderID:s.value?.OrderID,ServiceID:s.value?.ServiceID})}return[r,d]=S(()=>m.fetchVPS()),await r,d(),[r,d]=S(()=>m.fetchVPSSchemes()),await r,d(),[r,d]=S(()=>O.fetchServerGroups()),await r,d(),[r,d]=S(()=>U.fetchContracts().then(()=>{V.name==="VPSOrderSchemeChange"&&x()})),await r,d(),[r,d]=S(()=>b.fetchUserOrders().then(()=>{D.value=L.value?.IsAutoProlong})),await r,d(),(i,e)=>{const I=_t,A=ut,q=dt,N=Dt("router-link"),Q=rt,X=it,P=at,Y=lt,B=nt,g=st,Z=ot,tt=et;return p(),v(bt,null,[o(I),s.value?.ID?(p(),v("div",Ct,[t("div",kt,[t("div",$t,[t("div",yt,[t("h1",xt,n(s.value?.Domain),1),o(A,{status:s.value?.StatusID,"status-table":"VPSOrders",onClick:e[0]||(e[0]=a=>$(s.value?.ID))},null,8,["status"]),E(t("button",{class:wt(["btn btn--md btn--border btn--rotate btn--rotate_green button-large",{"btn--rotate_gray":s.value?.StatusID!=="Active"||w.value,"btn--rotate_loading":w.value}]),title:"Перезагрузить виртуальный сервер",onClick:T},[e[12]||(e[12]=u(" Включен ",-1)),t("span",Rt,[o(q)])],2),[[St,s.value?.StatusID==="Active"]]),t("div",At,"VPS/VDS сервер # "+n(s.value?.OrderID),1),t("div",Nt,[o(N,{class:"section-nav__item",to:`/VPSOrders/${s.value?.OrderID}`},{default:c(()=>e[13]||(e[13]=[u("Сервер",-1)])),_:1,__:[13]},8,["to"]),o(N,{class:"section-nav__item",to:`/VPSServices/${s.value?.OrderID}`},{default:c(()=>e[14]||(e[14]=[u("Услуги",-1)])),_:1,__:[14]},8,["to"])])]),o(Q),t("div",Bt,[o(X,{"contract-id":s.value?.ContractID,onTransfer:e[1]||(e[1]=a=>F())},null,8,["contract-id"]),t("div",Et,[t("div",Mt,[t("div",Ut,[t("div",Gt,n(l.value?.Name),1),t("div",Lt,[o(A,{status:s.value?.StatusID,"status-table":"VPSOrders",onClick:e[2]||(e[2]=a=>$(s.value?.ID))},null,8,["status"])]),o(Y,null,{default:c(()=>[o(P,{onClick:e[3]||(e[3]=a=>H())},{default:c(()=>e[15]||(e[15]=[u("Изменить тариф",-1)])),_:1,__:[15]}),o(P,{onClick:e[4]||(e[4]=a=>J())},{default:c(()=>e[16]||(e[16]=[u("Просмотреть учет заказа",-1)])),_:1,__:[16]}),o(P,{onClick:e[5]||(e[5]=a=>R())},{default:c(()=>e[17]||(e[17]=[u("Сменить пароль от аккаунта",-1)])),_:1,__:[17]})]),_:1})]),t("div",Tt,[t("ul",jt,[l.value?.SchemeParams?.os?.value?(p(),v("li",Ft,n(l.value?.SchemeParams?.os?.value),1)):gt("",!0),t("li",null,n(`${l.value?.SchemeParams?.hdd_mib?.InternalName} ${l.value?.SchemeParams?.hdd_mib?.Value} ${l.value?.SchemeParams?.hdd_mib?.Unit}`),1),t("li",null,n(`RAM ${l.value?.SchemeParams?.ram_mib?.Value} ${l.value?.SchemeParams?.ram_mib?.Unit}`),1),t("li",null,n(`Канал ${l.value?.SchemeParams?.net_bandwidth_mbitps?.Value} ${l.value?.SchemeParams?.net_bandwidth_mbitps?.Unit}`),1)])]),t("div",Ht,[t("div",Wt,n(l.value?.CostMonth)+" ₽ в месяц",1),t("div",zt,"Дней осталось "+n(s.value?.DaysRemainded),1),t("div",Jt," Дата окончания "+n(j(s.value?.DaysRemainded)),1)]),t("div",Kt,[o(B,{label:s.value?.StatusID==="Suspended"||s.value?.StatusID==="Waiting"?"Оплатить":"Продлить",onClick:e[6]||(e[6]=a=>W())},null,8,["label"]),t("label",qt,[E(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=a=>D.value=a),onInput:e[8]||(e[8]=a=>z())},null,544),[[ft,D.value]]),e[18]||(e[18]=t("span",{class:"btn-switch__text"},"Автопродление",-1)),e[19]||(e[19]=t("span",{class:"btn-switch__toggle"},null,-1))])])])]),t("div",Qt,[t("div",Xt,[t("div",Yt,[e[20]||(e[20]=t("div",{class:"tw-text-2xl"},"Панель управления",-1)),o(B,{class:"tw-text-xs tw-h-10",onClick:e[9]||(e[9]=a=>K()),label:"Вход"})]),e[22]||(e[22]=t("div",null,"Адрес",-1)),t("div",Zt,[t("div",te,n(`https://${y.value?.Address}/manager`),1),o(g,{value:`https://${y.value?.Address}/manager`},null,8,["value"])]),e[23]||(e[23]=t("div",null,"Логин",-1)),t("div",ee,[t("div",se,n(s.value?.Login),1),o(g,{value:s.value?.Login},null,8,["value"])]),e[24]||(e[24]=t("div",null,"Пароль",-1)),t("div",oe,[k.value?(p(),v("span",ne,n(s.value?.Password),1)):(p(),v("button",{key:1,class:"btn btn--border btn--md tw-h-8 tw-gap-1",onClick:e[10]||(e[10]=a=>k.value=!0)},[o(Z),e[21]||(e[21]=u(" Показать ",-1))])),t("button",{class:"btn btn--border btn--md tw-h-8",onClick:e[11]||(e[11]=a=>R())},"Сменить пароль"),o(g,{value:s.value?.Password},null,8,["value"])]),e[25]||(e[25]=t("div",null,"IP адрес",-1)),t("div",le,[u(n(s.value?.IP?s.value?.IP:"-")+" ",1),o(g,{value:s.value?.IP?s.value?.IP:"-"},null,8,["value"])])])]),t("div",ae,[t("div",ie,[e[28]||(e[28]=t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Именные сервера")],-1)),t("div",re,[e[26]||(e[26]=t("div",{class:"list-item__item"},"Первичный сервер",-1)),t("div",de,n(s.value?.Ns1Name),1)]),t("div",ue,[e[27]||(e[27]=t("div",{class:"list-item__item"},"Вторичный сервер",-1)),t("div",_e,n(s.value?.Ns2Name),1)])])]),t("div",me,[t("div",ve,[e[30]||(e[30]=t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Паркованный домен")],-1)),t("div",ce,[e[29]||(e[29]=t("div",{class:"list-item__item"},"Паркованный домен",-1)),t("div",pe,n(s.value?.Domain),1)])])])])])]),e[31]||(e[31]=t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1))])):(p(),v("div",Se,[t("div",we,[o(tt,{label:"Заказ не найден"})])]))],64)}}},Te=Vt(De,[["__scopeId","data-v-3fba01e3"]]);export{Te as default};
