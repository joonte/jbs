import{k as b,o as c,c as _,b as i,a as r,t as x,l as V,w as u,d as D,z as h,F as w,p as C,m as U,_ as L,f as N,U as A,r as f,h as k,i as E}from"./index-777dc609.js";import{u as P}from"./dedicatedServer-5393c751.js";import{u as j}from"./services-60e1ba3c.js";import{B as y}from"./BlockBalanceAgreement-d9b1b07a.js";import{B as g}from"./BlockAdditionalServices-ba998ef6.js";import{E as I}from"./EmptyStateBlock-1f3845f9.js";import{_ as F}from"./ClausesKeeper-4fcca336.js";import"./IconArrow-1d7911e1.js";import"./bootstrap-vue-next.es-8d4e1458.js";import"./ButtonDefault-7f62b822.js";import"./ServiceListOrderSelection-6aa4716e.js";import"./domain-1aa48ddc.js";import"./multiselect-146af8a5.js";import"./BasicInput-0d5599d5.js";import"./component-6aa3a5f3.js";import"./BlockSelectContract-856910ae.js";import"./IconClose-166e70a9.js";const z=o=>(C("data-v-2c369ad8"),o=o(),U(),o),M={class:"section"},R={class:"container"},T={class:"section-header"},q=z(()=>r("h1",{class:"section-title"},"Дополнительные услуги",-1)),G={key:0,class:"section-label"},H={class:"section-nav"},J={class:"section-body"},K={key:2,class:"loading"};function Q(o,a,m,e,d,s){var v,p,S;const l=y,n=b("router-link"),t=F,B=g,O=I;return c(),_(w,null,[i(l),r("div",M,[r("div",R,[r("div",T,[q,e.getDSServerData?(c(),_("div",G,"Выделенный сервер # "+x((v=e.getDSServerData)==null?void 0:v.OrderID),1)):V("",!0),r("div",H,[i(n,{class:"section-nav__item",to:`/DSOrders/${(p=e.getDSServerData)==null?void 0:p.OrderID}`},{default:u(()=>[D("Сервер")]),_:1},8,["to"]),i(n,{class:"section-nav__item active",to:`/Services/${(S=e.getDSServerData)==null?void 0:S.OrderID}`},{default:u(()=>[D("Услуги")]),_:1},8,["to"])])]),i(t),r("div",J,[e.getDSServerData&&e.serviceSearchParams?(c(),h(B,{key:0,"service-search-params":e.serviceSearchParams,"onUpdate:modelValue":e.handleServicesUpdate},null,8,["service-search-params","onUpdate:modelValue"])):e.isLoading?(c(),_("div",K,"Загрузка...")):(c(),h(O,{key:1,label:"Заказ не найден"}))])])])],64)}const W={components:{BlockBalanceAgreement:y,BlockAdditionalServices:g,emptyStateBlock:I},async setup(){const o=N(),a=P(),m=j();A("emitter");const e=f([]),d=f(!0),s=k(()=>Object.keys((a==null?void 0:a.DSList)||{}).map(t=>a==null?void 0:a.DSList[t]).find(t=>t.OrderID===o.params.id)),l=k(()=>s.value?{ServiceID:s.value.ServiceID,OrderID:s.value.OrderID,ContractID:s.value.ContractID}:null);function n(t){e.value=t}return E(async()=>{try{await a.fetchDSOrders(),await m.fetchServices()}catch(t){console.error("Ошибка загрузки данных:",t)}finally{d.value=!1}}),{getDSServerData:s,serviceSearchParams:l,selectedServices:e,handleServicesUpdate:n,isLoading:d}}},ve=L(W,[["render",Q],["__scopeId","data-v-2c369ad8"]]);export{ve as default};
