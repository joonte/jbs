import{j as dt,o as r,c as d,a as t,t as _,b as c,w as S,d as g,F as x,v as C,Y as ct,Z as mt,k as lt,p as vt,l as ht,_ as Dt,a6 as St,f as It,R as ut,r as R,g as b}from"./index-ed1f28f8.js";import{u as gt}from"./resetServer-f1402ced.js";import{u as bt}from"./dedicatedServer-6a47cd5c.js";import{_ as ft}from"./IconCard-ec16e358.js";import{I as wt}from"./IconProfile-af74631a.js";import{I as Ot}from"./IconSettings-a1819da5.js";import{I as nt}from"./IconEye-ffe92e5b.js";import{S as at}from"./StatusBadge-2304b071.js";import{I as pt}from"./IconRotate-9f02186b.js";import{h as Pt}from"./hostStatuses-94d00f20.js";import{s as rt}from"./SettingsEngineItem-13832bf5.js";import{E as kt}from"./EmptyStateBlock-dbc11827.js";import{_ as yt}from"./ButtonDefault-a8aacc82.js";import{_ as Mt}from"./ServicesContractBalanceBlock-dd87b12d.js";import{_ as xt}from"./ClausesKeeper-9aa8ead7.js";import{z as Ct,d as Rt}from"./bootstrap-vue-next.es-79226723.js";import{_ as At}from"./IconDots-296f1d69.js";import"./contracts-cedf6a91.js";import"./IconClose-a1e58263.js";const l=v=>(vt("data-v-9d9da3f6"),v=v(),ht(),v),Bt={key:0,class:"ds-order-page"},Et={class:"section"},Lt={class:"container"},Nt={class:"section-header"},Ut={class:"section-title"},Vt={class:"hosting-item__controls"},Tt=l(()=>t("div",{class:"btn btn--md btn--border btn--rotate btn--rotate_green"},"Включен",-1)),jt={class:"btn btn--dots"},Ft={class:"section-label"},zt={class:"section-nav"},Gt={class:"list"},Wt={class:"list-col list-col--md"},Yt={class:"list-item"},Zt={class:"list-item__row"},qt={class:"list-item__title"},Ht={class:"list-item__status"},Jt={class:"list-item__row"},Kt={class:"list-item__ul"},Qt={class:"list-item__row list-item__row--column"},Xt={class:"list-item__text"},$t={class:"list-item__text"},ts={class:"list-item__row"},ss={class:"btn btn--border btn--switch"},es=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),is=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),os={class:"list-col list-col--xl"},_s={class:"list-item"},ls=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Конфигурация")],-1)),ns={class:"list-item__row list-item__table"},as={class:"list-item__table-col"},rs=l(()=>t("div",{class:"list-item__label"},"Процессор",-1)),ds={class:"list-item__text"},cs={class:"list-item__table-col"},ms=l(()=>t("div",{class:"list-item__label"},"RAM",-1)),vs={class:"list-item__text"},hs={class:"list-item__table-col"},Ds=l(()=>t("div",{class:"list-item__label"},"Память",-1)),Ss={class:"list-item__text"},Is={class:"list-item__table-col"},us=l(()=>t("div",{class:"list-item__label"},"Тип RAID контроллера",-1)),gs={class:"list-item__text"},bs={class:"list-item__table-col"},fs=l(()=>t("div",{class:"list-item__label"},"Скорость канала",-1)),ws={class:"list-item__text"},Os={class:"list-item__table-col"},ps=l(()=>t("div",{class:"list-item__label"},"Месячный трафик",-1)),Ps={class:"list-item__text"},ks={class:"list-item__table-col"},ys=l(()=>t("div",{class:"list-item__label"},"Предустановленная ОС",-1)),Ms={class:"list-item__text"},xs={class:"list-col list-col--md"},Cs={class:"list-item"},Rs=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы")],-1)),As={class:"list-item__row list-item__row--table"},Bs=l(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Es={class:"list-item__item"},Ls={class:"list-item__row list-item__row--table"},Ns=l(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),Us={class:"list-item__item"},Vs={class:"list-item__row list-item__row--table password-line"},Ts=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),js={class:"list-item__item"},Fs={key:0,class:"password-hidden"},zs={class:"list-col list-col--md"},Gs={class:"list-item"},Ws=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы IPMI")],-1)),Ys={class:"list-item__row list-item__row--table"},Zs=l(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),qs={class:"list-item__item"},Hs={class:"list-item__row list-item__row--table"},Js=l(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),Ks={class:"list-item__item"},Qs={class:"list-item__row list-item__row--table password-line"},Xs=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),$s={class:"list-item__item"},te={key:0,class:"password-hidden"},se={key:0,class:"list-col list-col--md"},ee={class:"list-item"},ie=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Общая информация из IPMI")],-1)),oe={class:"list-item__row list-item__row--table"},_e={class:"list-item__item"},le={class:"list-item__item"},ne={key:1,class:"list-col list-col--md"},ae={class:"list-item"},re=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Данные сенсоров")],-1)),de={class:"list-item__row list-item__row--table"},ce={class:"list-item__item"},me={class:"list-item__item"},ve=l(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),he={key:1,class:"section"},De={class:"container"};function Se(v,o,D,s,A,B){var i,e,m,E,L,N,U,V,T,j,F,z,G,W,Y,Z,q,H,J,K,Q,X,$,tt,st,et,it,ot,_t;const I=At,a=Ct,u=Rt,w=dt("router-link"),O=xt,p=Mt,P=at,k=rt,y=yt,f=nt,M=kt;return(i=s.getDSServerData)!=null&&i.ID?(r(),d("div",Bt,[t("div",Et,[t("div",Lt,[t("div",Nt,[t("h1",Ut,_((e=s.getDSServerData)==null?void 0:e.IPaddr),1),t("div",Vt,[Tt,c(u,{class:"dropdown-dots",right:""},{"button-content":S(()=>[t("div",jt,[c(I)])]),default:S(()=>[c(a,{onClick:o[0]||(o[0]=n=>{var h;return s.serverReset((h=s.getDSServerData)==null?void 0:h.ID)})},{default:S(()=>[g("Перезагрузить")]),_:1})]),_:1})]),t("div",Ft,"Выделенный сервер # "+_((m=s.getDSServerData)==null?void 0:m.OrderID),1),t("div",zt,[c(w,{class:"section-nav__item",to:`/DSOrders/${(E=s.getDSServerData)==null?void 0:E.OrderID}`},{default:S(()=>[g("Сервер")]),_:1},8,["to"])])]),c(O),t("div",Gt,[c(p,{"contract-id":(L=s.getDSServerData)==null?void 0:L.ContractID,onTransfer:o[1]||(o[1]=n=>s.transferItem())},null,8,["contract-id"]),t("div",Wt,[t("div",Yt,[t("div",Zt,[t("div",qt,_((N=s.getDSServerData)==null?void 0:N.Scheme),1),t("div",Ht,[c(P,{status:(U=s.getDSServerData)==null?void 0:U.StatusID,DaysRemainded:(V=s.getDSServerData)==null?void 0:V.DaysRemainded,"status-table":"DNSmanagerOrders"},null,8,["status","DaysRemainded"])]),c(k,null,{default:S(()=>[c(a,{onClick:o[2]||(o[2]=n=>s.openOrderRestore())},{default:S(()=>[g("Просмотреть учет заказа")]),_:1})]),_:1})]),t("div",Jt,[t("ul",Kt,[(r(!0),d(x,null,C(s.getDSItemParam(s.getDSServerData),n=>(r(),d("li",null,_(n),1))),256))])]),t("div",Qt,[t("div",Xt,_(((T=s.getDSScheme)==null?void 0:T.CostMonth)||"0")+" ₽ в месяц",1),t("div",$t,"Дней осталось "+_(((j=s.getDSServerData)==null?void 0:j.DaysRemainded)||"0"),1)]),t("div",ts,[c(y,{label:"Продлить",onClick:o[3]||(o[3]=n=>{var h;return v.$router.push(`/DSOrderPay/${(h=s.getDSServerData)==null?void 0:h.OrderID}`)})}),t("label",ss,[ct(t("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=n=>s.isAutoProlong=n),onInput:o[5]||(o[5]=n=>s.setProlongValue())},null,544),[[mt,s.isAutoProlong]]),es,is])])])]),t("div",os,[t("div",_s,[ls,t("div",ns,[t("div",as,[rs,t("div",ds,_(((F=s.getDSScheme)==null?void 0:F.CPU)||"-"),1)]),t("div",cs,[ms,t("div",vs,_((z=s.getDSScheme)!=null&&z.ram?`${(G=s.getDSScheme)==null?void 0:G.ram} ГБ`:"-"),1)]),t("div",hs,[Ds,t("div",Ss,_(((W=s.getDSScheme)==null?void 0:W.disks)||"-"),1)]),t("div",Is,[us,t("div",gs,_(((Y=s.getDSScheme)==null?void 0:Y.raid)||"-"),1)]),t("div",bs,[fs,t("div",ws,_((Z=s.getDSScheme)!=null&&Z.chrate?`${(q=s.getDSScheme)==null?void 0:q.chrate} Мбит/с`:"-"),1)]),t("div",Os,[ps,t("div",Ps,_((H=s.getDSScheme)!=null&&H.trafflimit?`${(J=s.getDSScheme)==null?void 0:J.trafflimit} ГБ`:"-"),1)]),t("div",ks,[ys,t("div",Ms,_(((K=s.getDSScheme)==null?void 0:K.OS)||"-"),1)])])])]),t("div",xs,[t("div",Cs,[Rs,t("div",As,[Bs,t("div",Es,_((Q=s.getDSServerData)==null?void 0:Q.IPaddr),1)]),t("div",Ls,[Ns,t("div",Us,_((X=s.getDSServerData)==null?void 0:X.DSuser),1)]),t("div",Vs,[Ts,t("div",js,[s.passwordShowOne?(r(),d("div",Fs,_(($=s.getDSServerData)==null?void 0:$.DSpass),1)):(r(),d("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[6]||(o[6]=n=>s.passwordShowOne=!0)},[c(f,{class:"button-icon"}),g("Показать")]))])])])]),t("div",zs,[t("div",Gs,[Ws,t("div",Ys,[Zs,t("div",qs,_((tt=s.getDSServerData)==null?void 0:tt.ILOaddr),1)]),t("div",Hs,[Js,t("div",Ks,_((st=s.getDSServerData)==null?void 0:st.ILOuser),1)]),t("div",Qs,[Xs,t("div",$s,[s.passwordShowTwo?(r(),d("div",te,_((et=s.getDSServerData)==null?void 0:et.ILOpass),1)):(r(),d("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[7]||(o[7]=n=>s.passwordShowTwo=!0)},[c(f,{class:"button-icon"}),g("Показать")]))])])])]),s.getDSOrderIPMI&&((it=s.getDSOrderIPMI)==null?void 0:it.IPMI.length)>0?(r(),d("div",se,[t("div",ee,[ie,(r(!0),d(x,null,C((ot=s.getDSOrderIPMI)==null?void 0:ot.IPMI,n=>(r(),d("div",oe,[t("div",_e,_(n==null?void 0:n.name),1),t("div",le,_(n==null?void 0:n.value),1)]))),256))])])):lt("",!0),(_t=s.getDSOrderIPMI)!=null&&_t["IPMI.Sensors"]&&s.getDSOrderIPMI["IPMI.Sensors"].length>0?(r(),d("div",ne,[t("div",ae,[re,(r(!0),d(x,null,C(s.getDSOrderIPMI["IPMI.Sensors"],(n,h)=>(r(),d("div",de,[t("div",ce,_(h),1),t("div",me,_(n),1)]))),256))])])):lt("",!0)])])]),ve])):(r(),d("div",he,[t("div",De,[c(M,{label:"Заказ не найден"})])]))}const Ie={components:{IconCard:ft,IconProfile:wt,IconSettings:Ot,IconEye:nt,StatusBadge:at,IconRotate:pt,settingsEngineItem:rt},async setup(){const v=St(),o=bt(),D=It(),s=ut("emitter");s.on("updateDSIDPage",()=>{o.fetchDSOrders().then(()=>{var i;o.fetchDSOrderIPMI((i=a.value)==null?void 0:i.OrderID)}).then(()=>{var i;o.fetchDSOrderIPMISensors((i=a.value)==null?void 0:i.OrderID)})});const A=R(!1),B=R(!1),I=R(!0),a=b(()=>Object.keys(o==null?void 0:o.DSList).map(i=>o==null?void 0:o.DSList[i]).find(i=>i.OrderID===v.params.id)),u=b(()=>{var i,e;return(e=o==null?void 0:o.DSSchemes)==null?void 0:e[(i=a.value)==null?void 0:i.SchemeID]}),w=b(()=>o==null?void 0:o.DSOrderIPMI),O=b(()=>{var i,e;return(e=D==null?void 0:D.userOrders)==null?void 0:e[(i=a.value)==null?void 0:i.OrderID]}),p=b(()=>o==null?void 0:o.DSOrderIPMISensors);function P(i){let e=u.value;e===void 0&&(e=i);let m=[];return e!=null&&e.Name&&m.push(e==null?void 0:e.Name),e!=null&&e.CPU&&m.push(e==null?void 0:e.CPU),e!=null&&e.ram&&m.push("RAM "+(e==null?void 0:e.ram)+" GB"),e!=null&&e.disks&&m.push(e==null?void 0:e.disks),m}function k(i){gt().ServerReset(i)}function y(){var i,e;s.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(i=a.value)==null?void 0:i.ID,ServiceID:(e=a.value)==null?void 0:e.ServiceID}})}function f(){var i;D.prolongOrder({IsAutoProlong:I.value?0:1,OrderID:(i=a.value)==null?void 0:i.OrderID})}function M(){var i,e,m;s.emit("open-modal",{component:"OrderRestore",data:{OrderID:(i=a.value)==null?void 0:i.OrderID,CostDay:(e=u.value)==null?void 0:e.CostDay,DaysRemainded:(m=a.value)==null?void 0:m.DaysRemainded,emitEvent:"updateDSIDPage"}})}return await o.fetchDSSchemes(),o.fetchDSOrders().then(()=>{var i;o.fetchDSOrderIPMI((i=a.value)==null?void 0:i.OrderID)}).then(()=>{var i;o.fetchDSOrderIPMISensors((i=a.value)==null?void 0:i.OrderID)}),await D.fetchUserOrders().then(()=>{var i;I.value=(i=O.value)==null?void 0:i.IsAutoProlong}),{getDSOrderIPMI:w,getDSServerData:a,getDSScheme:u,getDSOrderIPMISensors:p,isAutoProlong:I,passwordShowOne:A,passwordShowTwo:B,openOrderRestore:M,transferItem:y,setProlongValue:f,serverReset:k,getDSItemParam:P,hostStatuses:Pt}}},Ue=Dt(Ie,[["render",Se],["__scopeId","data-v-9d9da3f6"]]);export{Ue as default};
