import{_ as B}from"./ButtonDefault-CgQ13ecW.js";import{_ as S}from"./BasicInput-B071mWFB.js";import{_ as g}from"./BlockSelectContract-B_ApKdUZ.js";import{u as T}from"./contracts-C-xJvA56.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as u,f as w,h as y,v as D,c as E,o as F,a as p,b as r}from"./index-DakgQwZZ.js";import"./component-BXhtJwv0.js";import"./multiselect-BdMqqcHq.js";const L={class:"modal__body"},M={class:"modal__input-row"},U={__name:"ModalWindowFundsTransfer",emits:["modalClose","buttonClicked"],setup(x,{emit:f}){const c=T(),l=u(null),n=u(null),a=u(null),d=u(!1),v=f,C=w(()=>c?.contractsList);function b(o){const e=Object.values(C.value).find(s=>s.ID===o);e&&(a.value=e.Balance)}function m(){v("modalClose")}function i(){d.value=!0;const o={FromContractID:l.value,ToContractID:n.value,Summ:a.value};c.FundsTransfer(o).then(e=>{e.status==="success"&&m(),d.value=!1})}const _=o=>{o.key==="Enter"&&i()};return y(()=>{document.addEventListener("keyup",_),c.fetchContracts(),console.log(1)}),D(()=>{document.removeEventListener("keyup",_)}),(o,e)=>{const s=g,V=S,k=B;return F(),E("div",L,[e[3]||(e[3]=p("div",{class:"list-item__title"},"Перевод средств между счетами",-1)),p("div",M,[r(s,{title:"Откуда",modelValue:l.value,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.value=t),b],"has-balance":!0,"allow-partner":!0,onButtonClicked:m},null,8,["modelValue"]),r(s,{title:"Куда","allow-partner":!0,modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),onButtonClicked:m},null,8,["modelValue"]),r(V,{label:"Сумма",name:"Summ",placeholder:"199.99",modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value=t)},null,8,["modelValue"]),r(k,{class:"modal__button",label:"Сохранить",disabled:l.value===null||n.value===null,"is-loading":d.value,onClick:i},null,8,["disabled","is-loading"])])])}}},R=I(U,[["__scopeId","data-v-be40228c"]]);export{R as default};
