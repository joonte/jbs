import{_ as U}from"./BlueButton.vue_vue_type_script_setup_true_lang-BKdLNEec.js";import{_ as g}from"./WhiteButton.vue_vue_type_script_setup_true_lang-CdZRVTJ5.js";import{x as E,r as f,I as w,s as k,o as N,c as D,a as s,t as p,K as I,Y as S,C as B,w as v,e as x,h as T,b as V}from"./index-Codq73aV.js";import{u as h}from"./global-CdY51QQZ.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"tw-text-2xl"},O={class:"tw-mt-4"},$={class:"tw-flex tw-items-center tw-justify-end tw-gap-4 tw-mt-4"},j={__name:"ModalWindowNoticeEdit",props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(o,{emit:_}){const t=o,d=_,l=h(),r=E("emitter"),i=f(null),c=f(!1);function m(){l.NoticeEdit({TableID:t.data?.noteTable,RowID:t.data?.OrderID,UserNotice:i.value}).then(e=>{e==="SUCCESS"&&(d("modalClose"),t?.data?.emit&&r.emit(t?.data?.emit))})}function b(){l.NoticeEdit({TableID:t.data?.noteTable,RowID:t.data?.OrderID,UserNotice:""}).then(e=>{e==="SUCCESS"&&(d("modalClose"),t?.data?.emit&&r.emit(t?.data?.emit))})}w(()=>{i.value=t?.data?.UserNotice});const u=e=>{e.key==="Enter"&&(e.ctrlKey||e.metaKey)&&m()};return w(()=>{document.addEventListener("keyup",u)}),k(()=>{document.removeEventListener("keyup",u)}),(e,a)=>{const y=g,C=U;return N(),D("div",null,[s("div",M,"Редактирование примечания, заказ #"+p(o.data?.OrderID),1),s("div",O,[I(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=n=>i.value=n),class:"tw-border tw-border-solid tw-border-gray-200 tw-rounded tw-h-[300px] tw-w-full tw-p-4 tw-text-sm tw-text-gray-800"},null,512),[[S,i.value]])]),s("div",$,[o.data?.UserNotice!==null&&o.data?.UserNotice!==""?(N(),B(y,{key:0,"is-loading":c.value,onClick:a[1]||(a[1]=n=>b())},{default:v(()=>a[3]||(a[3]=[x("Удалить",-1)])),_:1,__:[3]},8,["is-loading"])):T("",!0),V(C,{"is-loading":c.value,onClick:a[2]||(a[2]=n=>m())},{default:v(()=>[x(p(o.data?.UserNotice!==null&&o.data?.UserNotice!==""?"Изменить":"Добавить"),1)]),_:1},8,["is-loading"])])])}}},q=K(j,[["__scopeId","data-v-0ebae7d8"]]);export{q as default};
