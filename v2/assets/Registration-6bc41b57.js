import{j as g,o as w,c as E,a as t,b as a,n as u,w as O,d as S,_ as x,r as n,f as P,e as h,i as k}from"./index-c7c24b76.js";import{_ as R}from"./BasicInput-0178c2f2.js";import{I,a as U,b as C,c as N}from"./IconYandex-6733bdd4.js";import{P as v}from"./ProtectionCode-4c9e58f7.js";import{_ as B}from"./BlockAuthEnter-6ab7a567.js";import{_ as M}from"./ButtonDefault-626291b9.js";import"./component2-1c15eb55.js";import"./component-d5bd2a45.js";const y={class:"registration-page"},L={class:"section"},j={class:"container"},z=t("div",{class:"section-header"},[t("h1",{class:"section-title"},"Регистрация")],-1),A={class:"form-offset_label"},G={class:"form-offset_label"};function T(m,e,p,o,f,c){const s=R,r=v,i=M,d=g("P"),_=B;return w(),E("div",y,[t("div",L,[t("div",j,[z,t("form",null,[a(s,{label:"Имя",name:"name",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.name=l),class:u({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),a(s,{label:"Email",name:"mail",modelValue:o.mail,"onUpdate:modelValue":e[1]||(e[1]=l=>o.mail=l),class:u({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),a(s,{label:"Пароль",name:"password",modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=l=>o.password=l),"is-password":"",class:u({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),a(s,{label:"Подтвердить пароль",name:"repeat_password",modelValue:o.repeat_password,"onUpdate:modelValue":e[3]||(e[3]=l=>o.repeat_password=l),"is-password":"",class:u({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"])]),a(r),a(s,{label:"Защитный код",name:"code",modelValue:o.code,"onUpdate:modelValue":e[4]||(e[4]=l=>o.code=l),"is-password":"",class:u({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),t("div",A,[a(i,{label:"Зарегистрироваться","is-loading":o.isLoading,onClick:e[5]||(e[5]=l=>o.sendRegistration())},null,8,["is-loading"])]),t("div",G,[a(d,null,{default:O(()=>[S("Нажимая на кнопку зарегистрироваться я соглашаюсь с условиями договора на оказание услуг")]),_:1})])])]),a(_,{label:"Зарегистрироваться с помощью"})])}const Y={components:{BasicInput:R,IconGoogle:I,IconOk:U,IconVk:C,IconYandex:N,ProtectionCode:v},setup(){const m=n(!1),e=n(null),p=n(null),o=P(),f=h(),c=n(null),s=n(null),r=n(null),i=n(null),d=n(null);function _(){p.value=Math.floor(Math.random()*(9999-1e3)+1e3)}function l(){r.value!==null&&c.value!==null&&s.value!==null&&i.value!==null&&d.value!==null?(m.value=!0,o.registerNewUser({Email:c.value,Password:s.value,_Password:i.value,Name:r.value,Protect:d.value}).then(V=>{const{response:b}=V;b==="success"?f.push({path:"/"}):(_(),e.value="ERROR"),m.value=!1})):e.value="ERROR"}return k(()=>{_()}),{submitStatus:e,randomValue:p,mail:c,isLoading:m,name:r,code:d,password:s,repeat_password:i,sendRegistration:l}}},X=x(Y,[["render",T]]);export{X as default};
