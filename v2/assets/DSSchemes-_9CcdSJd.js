import{_ as B}from"./EmptyStateBlock-Ad1AmtSS.js";import{f as O,_ as V,a as j}from"./BlockBalanceAgreement-DSLTUOoQ.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as A,c as n,o as r,a as s,h as g,t as _,v as E,b as f,F as m,i as h,w as L,e as M,n as k,P as z,G as F,r as P,D as p,f as U,C as y,J,K}from"./index-C9dBN6m4.js";import{_ as R}from"./ClausesKeeper-gPyacQ05.js";import{u as T}from"./server-D__H3WLv.js";import"./contracts-BEc0DZS2.js";import"./ButtonDefault-B1FApUky.js";import"./index-D0iqQ1zq.js";import"./IconClose-CgjzG0Yf.js";const q={class:"server-item__wrapper"},H={class:"server-item__header"},Q={class:"tw-flex tw-justify-between tw-items-center"},W={class:"tw-font-bold"},X=["src","title"],Y={class:"tw-text-2xl tw-mt-2"},Z={class:"tw-p-4 tw-space-y-4"},ee={class:"tw-text-gray-500 tw-text-xs"},te={class:"tw-gray-800 tw-text-sm"},se={key:0,class:"server-item__row"},re={class:"server-item__note"},oe={__name:"ServerItem",props:{data:{type:Object,default:()=>({})},specifications:{type:Array,default:()=>[]},image:{type:String,default:""}},setup(o){return(u,c)=>{const i=A("router-link");return r(),n("div",{class:k(["server-item",{"server-item--special":o.data.special}])},[s("div",q,[s("div",H,[s("div",Q,[s("div",W,_(o.data.Name),1),o.image?(r(),n("img",{key:0,src:o.image,title:o.data.OS,alt:"OS Image",class:"tw-size-12"},null,8,X)):g("",!0)]),s("div",Y,_(E(O)(o.data.CostMonth))+" в месяц",1)]),s("div",Z,[(r(!0),n(m,null,h(o.specifications,d=>(r(),n("div",{key:d.label},[s("div",ee,_(d.label),1),s("div",te,_(d.text),1)]))),128)),o.data.UserNotice?(r(),n("div",se,[s("div",re,_(o.data.UserNotice),1)])):g("",!0),f(i,{class:"btn btn--wide btn--border btn--wide",to:`/DSSchemes/${o.data.ID}`},{default:L(()=>c[0]||(c[0]=[M(" Заказать ",-1)])),_:1,__:[0]},8,["to"])])])],2)}}},ae=b(oe,[["__scopeId","data-v-fabc92cd"]]),ne={class:"section"},ce={class:"container"},ie={class:"section-header"},le={class:"section-nav"},ue=["title","onClick"],_e={key:0,class:"list"},de={__name:"DSSchemes",async setup(o){let u,c;const i=z(),d=F(),D=T(),v=P(0);[u,c]=p(()=>i.fetchDSOrders()),await u,c(),[u,c]=p(()=>i.fetchDSSchemes()),await u,c(),[u,c]=p(()=>d.fetchVPSSchemes()),await u,c(),v.value=S()?.[0]?.ServersGroupID;const w=U(()=>Object.keys(i.DSSchemes).filter(e=>i.DSSchemes[e].IsActive).map(e=>i.DSSchemes[e]).sort((e,t)=>e.CostMonth-t.CostMonth));function x(e){v.value=e}function I(e){return D?.serverGroupsList?.ServersGroups?.[e]}function S(){let e={};return Object.values(D?.serverGroupsList?.Servers).forEach(t=>{if(t.ServiceID==="40000"){const l=t.ServersGroupID;e[l]||(e[l]={SortID:t.SortID,ServersGroupID:l,servers:[]}),e[l].servers.push(t)}}),Object.values(e).sort((t,l)=>t.SortID-l.SortID)}function G(e){const t=i.DSSchemes?.[e];return t?j(t):[]}return(e,t)=>{const l=V,C=R,$=ae,N=B;return r(),n(m,null,[f(l),s("section",ne,[s("div",ce,[s("div",ie,[t[0]||(t[0]=s("h1",{class:"section-title"},"Заказ выделенного сервера",-1)),t[1]||(t[1]=s("div",{class:"section-text"}," При покупке этой услуги у вас появляется полностью укомплектованный, настроенный выделенный сервер, с операционной системой на ваш выбор, размещённый в дата-центре в Москве, по самым низким ценам. ",-1)),f(C),J(s("div",le,[(r(!0),n(m,null,h(S(),(a,me)=>(r(),n("div",{class:k(["section-nav__item",{active:String(v.value)===String(a?.ServersGroupID)}]),key:a.ServersGroupID,title:I(a?.ServersGroupID)?.Comment,onClick:ve=>x(a?.ServersGroupID)},_(I(a?.ServersGroupID)?.Name),11,ue))),128))],512),[[K,S().length>1]])]),w.value.length?(r(),n("div",_e,[(r(!0),n(m,null,h(w.value,a=>(r(),y($,{key:a.ID,data:a,specifications:G(a.ID),image:a.Image},null,8,["data","specifications","image"]))),128))])):(r(),y(N,{key:1,label:"Нет доступных серверов"}))])])],64)}}},ke=b(de,[["__scopeId","data-v-0c25191f"]]);export{ke as default};
