import{_ as L}from"./ButtonDefault-eJbeaBtE.js";import{_ as H}from"./BasicInput-TTn3Hxre.js";import{c as T,o as U,a,b as i,t as k,O as p,am as S,x as w,r as m,f as y,h as b,Q as E,s as x}from"./index-XtiBO-PZ.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./component-YfTGPdLe.js";const O={components:{},props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(t,{emit:e}){const u=p(),s=S(),P=w("emitter"),v=m(!1),l=m(null),r=m(!0),o=m(!0),g=m(!0),D=m(!0),n=m({Domain:"",Ns1Name:"",Ns1IP:"",Ns2Name:"",Ns2IP:"",Ns3Name:"",Ns3IP:"",Ns4Name:"",Ns4IP:""});function f(){v.value=!0,u.DomainOrderNsChange({DomainOrderID:t.data.ID,Domain:n.value?.Domain,Ns1Name:n.value?.Ns1Name,Ns1IP:n.value?.Ns1IP,Ns2Name:n.value?.Ns2Name,Ns2IP:n.value?.Ns2IP,Ns3Name:n.value?.Ns3Name,Ns3IP:n.value?.Ns3IP,Ns4Name:n.value?.Ns4Name,Ns4IP:n.value?.Ns4IP}).then(d=>{let{result:N,error:I}=d;N==="SUCCESS"&&u.fetchDomains(),v.value=!1,e("modalClose")})}const V=y(()=>s.data.Messages?.Prompts);b(()=>{l.value=t.data.Domain,n.value={Domain:t.data.Domain,Ns1Name:t.data.Ns1Name,Ns1IP:t.data.Ns1IP,Ns2Name:t.data.Ns2Name,Ns2IP:t.data.Ns2IP,Ns3Name:t.data.Ns3Name,Ns3IP:t.data.Ns3IP,Ns4Name:t.data.Ns4Name,Ns4IP:t.data.Ns4IP},["Ns1Name","Ns2Name","Ns3Name","Ns4Name"].forEach(N=>{c(n.value[N],N)})});function c(d,N){const I=d.replace(/ /g,""),M=t.data.Domain,C=l.value,_=I.includes(M)||I.includes(C);switch(N){case"Ns1Name":r.value=!_;break;case"Ns2Name":o.value=!_;break;case"Ns3Name":g.value=!_;break;case"Ns4Name":D.value=!_;break}}E(()=>{P.emit("close-modal")});const F=d=>{d.key==="Enter"&&f()};return b(()=>{document.addEventListener("keyup",F)}),x(()=>{document.removeEventListener("keyup",F)}),{FormData:n,FormNs1:r,FormNs2:o,FormNs3:g,FormNs4:D,getConfigPrompts:V,IsNewNs:c,saveChanges:f}}},j={class:"modal__body"},A={class:"edit-settings"},K={class:"edit-settings__item"},Q={class:"form-field"},W={class:"form-field-input__text"},q={class:"edit-settings__item"},z=["innerHTML"],G={class:"edit-settings__item"},J=["innerHTML"],R={class:"edit-settings__item"},X=["innerHTML"],Y={class:"edit-settings__item"},Z=["innerHTML"],h={class:"edit-settings__item"},$=["innerHTML"],ee={class:"edit-settings__item"},se=["innerHTML"],ae={class:"edit-settings__item"},oe=["innerHTML"],te={class:"edit-settings__item"},ne=["innerHTML"];function le(t,e,u,s,P,v){const l=H,r=L;return U(),T("div",j,[e[18]||(e[18]=a("div",{class:"list-item__title"},"Смена именных серверов",-1)),a("div",A,[a("div",K,[a("div",Q,[e[13]||(e[13]=a("div",{class:"form-field__label"},"Доменное имя",-1)),a("div",W,k(s.FormData.Domain),1)])]),e[14]||(e[14]=a("div",{class:"edit-settings__title"},"Первичный сервер имен",-1)),a("div",q,[i(l,{label:"Доменный адрес",modelValue:s.FormData.Ns1Name,"onUpdate:modelValue":e[0]||(e[0]=o=>s.FormData.Ns1Name=o),onInput:e[1]||(e[1]=o=>s.IsNewNs(s.FormData.Ns1Name,"Ns1Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.Domain?.NsName},null,8,z)]),a("div",G,[i(l,{label:"IP адрес",modelValue:s.FormData.Ns1IP,"onUpdate:modelValue":e[2]||(e[2]=o=>s.FormData.Ns1IP=o),name:"Ns1IP",disabled:s.FormNs1},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.IP},null,8,J)]),e[15]||(e[15]=a("div",{class:"edit-settings__title"},"Вторичный сервер имен",-1)),a("div",R,[i(l,{label:"Доменный адрес",modelValue:s.FormData.Ns2Name,"onUpdate:modelValue":e[3]||(e[3]=o=>s.FormData.Ns2Name=o),onInput:e[4]||(e[4]=o=>s.IsNewNs(s.FormData.Ns2Name,"Ns2Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.Domain?.NsName},null,8,X)]),a("div",Y,[i(l,{label:"IP адрес",modelValue:s.FormData.Ns2IP,"onUpdate:modelValue":e[5]||(e[5]=o=>s.FormData.Ns2IP=o),name:"Ns2IP",disabled:s.FormNs2},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.IP},null,8,Z)]),e[16]||(e[16]=a("div",{class:"edit-settings__title"},"Дополнительный сервер имен",-1)),a("div",h,[i(l,{label:"Доменный адрес",modelValue:s.FormData.Ns3Name,"onUpdate:modelValue":e[6]||(e[6]=o=>s.FormData.Ns3Name=o),onInput:e[7]||(e[7]=o=>s.IsNewNs(s.FormData.Ns3Name,"Ns3Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.Domain?.NsName},null,8,$)]),a("div",ee,[i(l,{label:"IP адрес",modelValue:s.FormData.Ns3IP,"onUpdate:modelValue":e[8]||(e[8]=o=>s.FormData.Ns3IP=o),name:"Ns3IP",disabled:s.FormNs3},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.IP},null,8,se)]),e[17]||(e[17]=a("div",{class:"edit-settings__title"},"Расширенный сервер имен",-1)),a("div",ae,[i(l,{label:"Доменный адрес",modelValue:s.FormData.Ns4Name,"onUpdate:modelValue":e[9]||(e[9]=o=>s.FormData.Ns4Name=o),onInput:e[10]||(e[10]=o=>s.IsNewNs(s.FormData.Ns4Name,"Ns4Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.Domain?.NsName},null,8,oe)]),a("div",te,[i(l,{label:"IP адрес",modelValue:s.FormData.Ns4IP,"onUpdate:modelValue":e[11]||(e[11]=o=>s.FormData.Ns4IP=o),name:"Ns4IP",disabled:s.FormNs4},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:s.getConfigPrompts?.IP},null,8,ne)]),i(r,{onClick:e[12]||(e[12]=o=>s.saveChanges()),label:"Сохранить изменения","is-loading":t._is_loading},null,8,["is-loading"])])])}const _e=B(O,[["render",le],["__scopeId","data-v-fe7e6f4f"]]);export{_e as default};
