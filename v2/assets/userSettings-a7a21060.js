import{o as I,c as V,a as o,b as i,w as _,d as u,p as S,l as b,_ as k,f as C,r as p,g as D}from"./index-1c309346.js";import{_ as v}from"./BasicInput-33bf464f.js";import{I as w}from"./IconUpload-1f349e03.js";import{_ as f}from"./ClausesKeeper-b9906182.js";import{_ as y}from"./ButtonDefault-cd183bf8.js";import{f as P}from"./bootstrap-vue-next.es-b799f76d.js";import"./component2-139d1cad.js";import"./component-a2c8255f.js";import"./IconClose-7cf50ca7.js";const l=s=>(S("data-v-e420774a"),s=s(),b(),s),x={class:"section"},N={class:"container"},U=l(()=>o("div",{class:"section-header"},[o("h1",{class:"section-title"},"Настройки")],-1)),A={class:"profile-settings"},B={class:"profile-settings__item"},E=l(()=>o("div",{class:"profile-settings__title"},"Система поддержки пользователей (Тикеты)",-1)),O={class:"profile-settings__item"},W=l(()=>o("div",{class:"profile-settings__title"},"Интерфейс",-1)),Y={class:"profile-settings__item"},L=l(()=>o("div",{class:"profile-settings__title"},"Счета",-1)),K=l(()=>o("div",{class:"note"},"На какой период выписывать автоматически выставляемые счета на продление (дни 10-9999)",-1)),T={class:"profile-settings__item"};function j(s,e,n,t,m,d){const r=f,c=P,g=v,h=y;return I(),V("div",x,[o("div",N,[U,i(r),o("div",A,[o("div",B,[E,i(c,{id:"display-thumbnails",name:"display-thumbnails",value:"Yes","unchecked-value":"No",modelValue:t.formData.EdeskImagesPreview,"onUpdate:modelValue":e[0]||(e[0]=a=>t.formData.EdeskImagesPreview=a)},{default:_(()=>[u("Отображать миниатрюры изображений")]),_:1},8,["modelValue"])]),o("div",O,[W,i(c,{id:"display-counterparties",name:"display-counterparties",value:"Yes","unchecked-value":"No",modelValue:t.formData.ShowContractsWithoutOrders,"onUpdate:modelValue":e[1]||(e[1]=a=>t.formData.ShowContractsWithoutOrders=a)},{default:_(()=>[u("Отображать договора без услуг")]),_:1},8,["modelValue"])]),o("div",Y,[L,i(c,{id:"issue-invoices",name:"issue-invoices",value:"Yes","unchecked-value":"No",modelValue:t.formData.CreateInvoicesAutomatically,"onUpdate:modelValue":e[2]||(e[2]=a=>t.formData.CreateInvoicesAutomatically=a)},{default:_(()=>[u("Выписывать счета автоматически")]),_:1},8,["modelValue"]),i(g,{label:"Период выписки счетов",name:"billing-period",placeholder:"365",modelValue:t.formData.InvoicingPeriod,"onUpdate:modelValue":e[3]||(e[3]=a=>t.formData.InvoicingPeriod=a),isNumber:"",vertical:""},null,8,["modelValue"]),K]),o("div",T,[i(h,{onClick:e[4]||(e[4]=a=>t.saveChanges()),"is-loading":t.isLoading,label:"Сохранить изменения"},null,8,["is-loading"])])])])])}const q={components:{IconUpload:w,BasicInput:v,ClausesKeeper:f},async setup(){const s=C(),e=p(!1),n=p({EdeskImagesPreview:null,ShowContractsWithoutOrders:null,CreateInvoicesAutomatically:null,InvoicingPeriod:0}),t=D(()=>{var d,r;return(r=(d=s.userInfo)==null?void 0:d.Params)==null?void 0:r.Settings});function m(){e.value=!0,s.userPersonalDataSettings({...n.value}).then(()=>{e.value=!1})}return await s.fetchUserData().then(()=>{n.value={...t.value},console.log(n.value)}),{formData:n,getUserSettings:t,isLoading:e,saveChanges:m}}},Z=k(q,[["render",j],["__scopeId","data-v-e420774a"]]);export{Z as default};
