import{j as It,o as r,c as d,b as m,a as t,t as l,Y as rt,ae as gt,n as ut,d as u,w as B,F as P,v as E,Z as ft,k as dt,p as bt,l as wt,_ as Ot,a7 as Pt,f as pt,r as p,R as kt,g as f}from"./index-041dff1e.js";import"./resetServer-bc13c951.js";import{u as yt}from"./dedicatedServer-c7d161c3.js";import{f as ct}from"./useTimeFunction-8602dd60.js";import{_ as Mt}from"./IconCard-2ba2ac7a.js";import{I as Rt}from"./IconProfile-de337285.js";import{I as xt}from"./IconSettings-91ea64f8.js";import{I as mt}from"./IconEye-232db817.js";import{S as vt}from"./StatusBadge-72e39b02.js";import{I as Dt}from"./IconRotate-e853670a.js";import{h as Ct}from"./hostStatuses-94d00f20.js";import{s as ht}from"./SettingsEngineItem-0d80de64.js";import{B as St}from"./BlockBalanceAgreement-ab137d5a.js";import{E as At}from"./EmptyStateBlock-0c3a34a2.js";import{_ as Bt}from"./ButtonDefault-80267555.js";import{z as Et}from"./bootstrap-vue-next.es-dd4e7f7d.js";import{_ as Nt}from"./ServicesContractBalanceBlock-317f61cc.js";import{_ as Lt}from"./ClausesKeeper-a9c75480.js";import"./contracts-fabeed86.js";import"./IconArrow-ce6e1d64.js";import"./IconClose-4ba86278.js";const a=v=>(bt("data-v-6fe82902"),v=v(),wt(),v),Tt={key:0,class:"ds-order-page"},Ut={class:"section"},Vt={class:"container"},jt={class:"section-header"},zt={class:"section-title"},Ft={class:"hosting-item__controls"},Gt={class:"ico"},Wt={class:"section-label"},Yt={class:"section-nav"},Zt={class:"list"},qt={class:"list-col list-col--md"},Ht={class:"list-item"},Jt={class:"list-item__row"},Kt={class:"list-item__title"},Qt={class:"list-item__status"},Xt={class:"list-item__row"},$t={class:"list-item__ul"},ts={class:"list-item__row list-item__row--column"},ss={class:"list-item__text"},es={class:"list-item__text"},is={class:"list-item__text"},os={class:"list-item__row"},ls={class:"btn btn--border btn--switch"},as=a(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),_s=a(()=>t("span",{class:"btn-switch__toggle"},null,-1)),ns={class:"list-col list-col--xl"},rs={class:"list-item"},ds=a(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Конфигурация")],-1)),cs={class:"list-item__row list-item__table"},ms={class:"list-item__table-col"},vs=a(()=>t("div",{class:"list-item__label"},"Процессор",-1)),Ds={class:"list-item__text"},hs={class:"list-item__table-col"},Ss=a(()=>t("div",{class:"list-item__label"},"RAM",-1)),Is={class:"list-item__text"},gs={class:"list-item__table-col"},us=a(()=>t("div",{class:"list-item__label"},"Память",-1)),fs={class:"list-item__text"},bs={class:"list-item__table-col"},ws=a(()=>t("div",{class:"list-item__label"},"Тип RAID контроллера",-1)),Os={class:"list-item__text"},Ps={class:"list-item__table-col"},ps=a(()=>t("div",{class:"list-item__label"},"Скорость канала",-1)),ks={class:"list-item__text"},ys={class:"list-item__table-col"},Ms=a(()=>t("div",{class:"list-item__label"},"Месячный трафик",-1)),Rs={class:"list-item__text"},xs={class:"list-item__table-col"},Cs=a(()=>t("div",{class:"list-item__label"},"Предустановленная ОС",-1)),As={class:"list-item__text"},Bs={class:"list-col list-col--md"},Es={class:"list-item"},Ns=a(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы")],-1)),Ls={class:"list-item__row list-item__row--table"},Ts=a(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Us={class:"list-item__item"},Vs={class:"list-item__row list-item__row--table"},js=a(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),zs={class:"list-item__item"},Fs={class:"list-item__row list-item__row--table password-line"},Gs=a(()=>t("div",{class:"list-item__item"},"Пароль",-1)),Ws={class:"list-item__item"},Ys={key:0,class:"password-hidden"},Zs={class:"list-col list-col--md"},qs={class:"list-item"},Hs=a(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы IPMI")],-1)),Js={class:"list-item__row list-item__row--table"},Ks=a(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Qs={class:"list-item__item"},Xs={class:"list-item__row list-item__row--table"},$s=a(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),te={class:"list-item__item"},se={class:"list-item__row list-item__row--table password-line"},ee=a(()=>t("div",{class:"list-item__item"},"Пароль",-1)),ie={class:"list-item__item"},oe={key:0,class:"password-hidden"},le={key:0,class:"list-col list-col--md"},ae={class:"list-item"},_e=a(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Общая информация из IPMI")],-1)),ne={class:"list-item__row list-item__row--table"},re={class:"list-item__item"},de={class:"list-item__item"},ce={key:1,class:"list-col list-col--md"},me={class:"list-item"},ve=a(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Данные сенсоров")],-1)),De={class:"list-item__row list-item__row--table"},he={class:"list-item__item"},Se={class:"list-item__item"},Ie=a(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),ge={key:1,class:"section"},ue={class:"container"};function fe(v,o,h,s,S,N){var w,O,i,e,n,L,T,U,V,j,z,F,G,W,Y,Z,q,H,J,K,Q,X,$,tt,st,et,it,ot,lt,at,_t,nt;const k=St,I=Dt,c=It("router-link"),g=Lt,y=Nt,M=vt,R=Et,x=ht,C=Bt,b=mt,A=At;return r(),d(P,null,[m(k),(w=s.getDSServerData)!=null&&w.ID?(r(),d("div",Tt,[t("div",Ut,[t("div",Vt,[t("div",jt,[t("h1",zt,l((O=s.getDSServerData)==null?void 0:O.IPaddr),1),t("div",Ft,[rt(t("button",{class:ut(["btn btn--md btn--border btn--rotate btn--rotate_green button-large",{"btn--rotate_gray":((i=s.getDSServerData)==null?void 0:i.StatusID)!=="Active"||s.isReloading,"btn--rotate_loading":s.isReloading}]),title:"Перезагрузить выделенный сервер",onClick:o[0]||(o[0]=_=>{var D;return s.serverReset((D=s.getDSServerData)==null?void 0:D.ID)})},[u("Включен"),t("div",Gt,[m(I)])],2),[[gt,((e=s.getDSServerData)==null?void 0:e.StatusID)==="Active"]])]),t("div",Wt,"Выделенный сервер # "+l((n=s.getDSServerData)==null?void 0:n.OrderID),1),t("div",Yt,[m(c,{class:"section-nav__item",to:`/DSOrders/${(L=s.getDSServerData)==null?void 0:L.OrderID}`},{default:B(()=>[u("Сервер")]),_:1},8,["to"])])]),m(g),t("div",Zt,[m(y,{"contract-id":(T=s.getDSServerData)==null?void 0:T.ContractID,onTransfer:o[1]||(o[1]=_=>s.transferItem())},null,8,["contract-id"]),t("div",qt,[t("div",Ht,[t("div",Jt,[t("div",Kt,l((U=s.getDSServerData)==null?void 0:U.Scheme),1),t("div",Qt,[m(M,{status:(V=s.getDSServerData)==null?void 0:V.StatusID,DaysRemainded:(j=s.getDSServerData)==null?void 0:j.DaysRemainded,"status-table":"DNSmanagerOrders"},null,8,["status","DaysRemainded"])]),m(x,null,{default:B(()=>[m(R,{onClick:o[2]||(o[2]=_=>s.openOrderRestore())},{default:B(()=>[u("Просмотреть учет заказа")]),_:1})]),_:1})]),t("div",Xt,[t("ul",$t,[(r(!0),d(P,null,E(s.getDSItemParam(s.getDSServerData),_=>(r(),d("li",null,l(_),1))),256))])]),t("div",ts,[t("div",ss,l(((z=s.getDSScheme)==null?void 0:z.CostMonth)||"0")+" ₽ в месяц",1),t("div",es,"Дней осталось "+l(((F=s.getDSServerData)==null?void 0:F.DaysRemainded)||"0"),1),t("div",is,"Дата окончания "+l(s.calculateExpirationDate((G=s.getDSServerData)==null?void 0:G.DaysRemainded)),1)]),t("div",os,[m(C,{label:"Продлить",onClick:o[3]||(o[3]=_=>{var D;return v.$router.push(`/DSOrderPay/${(D=s.getDSServerData)==null?void 0:D.OrderID}`)})}),t("label",ls,[rt(t("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=_=>s.isAutoProlong=_),onInput:o[5]||(o[5]=_=>s.setProlongValue())},null,544),[[ft,s.isAutoProlong]]),as,_s])])])]),t("div",ns,[t("div",rs,[ds,t("div",cs,[t("div",ms,[vs,t("div",Ds,l(((W=s.getDSScheme)==null?void 0:W.CPU)||"-"),1)]),t("div",hs,[Ss,t("div",Is,l((Y=s.getDSScheme)!=null&&Y.ram?`${(Z=s.getDSScheme)==null?void 0:Z.ram} ГБ`:"-"),1)]),t("div",gs,[us,t("div",fs,l(((q=s.getDSScheme)==null?void 0:q.disks)||"-"),1)]),t("div",bs,[ws,t("div",Os,l(((H=s.getDSScheme)==null?void 0:H.raid)||"-"),1)]),t("div",Ps,[ps,t("div",ks,l((J=s.getDSScheme)!=null&&J.chrate?`${(K=s.getDSScheme)==null?void 0:K.chrate} Мбит/с`:"-"),1)]),t("div",ys,[Ms,t("div",Rs,l((Q=s.getDSScheme)!=null&&Q.trafflimit?`${(X=s.getDSScheme)==null?void 0:X.trafflimit} ГБ`:"-"),1)]),t("div",xs,[Cs,t("div",As,l((($=s.getDSScheme)==null?void 0:$.OS)||"-"),1)])])])]),t("div",Bs,[t("div",Es,[Ns,t("div",Ls,[Ts,t("div",Us,l((tt=s.getDSServerData)==null?void 0:tt.IPaddr),1)]),t("div",Vs,[js,t("div",zs,l((st=s.getDSServerData)==null?void 0:st.DSuser),1)]),t("div",Fs,[Gs,t("div",Ws,[s.passwordShowOne?(r(),d("div",Ys,l((et=s.getDSServerData)==null?void 0:et.DSpass),1)):(r(),d("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[6]||(o[6]=_=>s.passwordShowOne=!0)},[m(b,{class:"button-icon"}),u("Показать")]))])])])]),t("div",Zs,[t("div",qs,[Hs,t("div",Js,[Ks,t("div",Qs,l((it=s.getDSServerData)==null?void 0:it.ILOaddr),1)]),t("div",Xs,[$s,t("div",te,l((ot=s.getDSServerData)==null?void 0:ot.ILOuser),1)]),t("div",se,[ee,t("div",ie,[s.passwordShowTwo?(r(),d("div",oe,l((lt=s.getDSServerData)==null?void 0:lt.ILOpass),1)):(r(),d("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[7]||(o[7]=_=>s.passwordShowTwo=!0)},[m(b,{class:"button-icon"}),u("Показать")]))])])])]),s.getDSOrderIPMI&&((at=s.getDSOrderIPMI)==null?void 0:at.IPMI.length)>0?(r(),d("div",le,[t("div",ae,[_e,(r(!0),d(P,null,E((_t=s.getDSOrderIPMI)==null?void 0:_t.IPMI,_=>(r(),d("div",ne,[t("div",re,l(_==null?void 0:_.name),1),t("div",de,l(_==null?void 0:_.value),1)]))),256))])])):dt("",!0),(nt=s.getDSOrderIPMI)!=null&&nt["IPMI.Sensors"]&&s.getDSOrderIPMI["IPMI.Sensors"].length>0?(r(),d("div",ce,[t("div",me,[ve,(r(!0),d(P,null,E(s.getDSOrderIPMI["IPMI.Sensors"],(_,D)=>(r(),d("div",De,[t("div",he,l(D),1),t("div",Se,l(_),1)]))),256))])])):dt("",!0)])])]),Ie])):(r(),d("div",ge,[t("div",ue,[m(A,{label:"Заказ не найден"})])]))],64)}const be={components:{IconCard:Mt,IconProfile:Rt,IconSettings:xt,IconEye:mt,StatusBadge:vt,IconRotate:Dt,settingsEngineItem:ht,BlockBalanceAgreement:St},async setup(){const v=Pt(),o=yt(),h=pt(),s=p(!1),S=kt("emitter");S.on("updateDSIDPage",()=>{o.fetchDSOrders().then(()=>{var i;o.fetchDSOrderIPMI((i=c.value)==null?void 0:i.OrderID)}).then(()=>{var i;o.fetchDSOrderIPMISensors((i=c.value)==null?void 0:i.OrderID)})});const N=p(!1),k=p(!1),I=p(!0),c=f(()=>Object.keys(o==null?void 0:o.DSList).map(i=>o==null?void 0:o.DSList[i]).find(i=>i.OrderID===v.params.id)),g=f(()=>{var i,e;return(e=o==null?void 0:o.DSSchemes)==null?void 0:e[(i=c.value)==null?void 0:i.SchemeID]}),y=f(()=>o==null?void 0:o.DSOrderIPMI),M=f(()=>{var i,e;return(e=h==null?void 0:h.userOrders)==null?void 0:e[(i=c.value)==null?void 0:i.OrderID]}),R=f(()=>o==null?void 0:o.DSOrderIPMISensors);function x(i){if(!i)return ct(new Date);const e=new Date,n=new Date(e.getTime()+i*24*60*60*1e3);return ct(n)}function C(i){let e=g.value;e===void 0&&(e=i);let n=[];return e!=null&&e.Name&&n.push(e==null?void 0:e.Name),e!=null&&e.CPU&&n.push(e==null?void 0:e.CPU),e!=null&&e.ram&&n.push("RAM "+(e==null?void 0:e.ram)+" GB"),e!=null&&e.disks&&n.push(e==null?void 0:e.disks),n}function b(i){function e(n){s.value=n}S.emit("open-modal",{component:"ReloadDS",data:{DSOrderID:i,isReloading:s.value,onReloadStatusChange:e}})}function A(){var i,e;S.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(i=c.value)==null?void 0:i.ID,ServiceID:(e=c.value)==null?void 0:e.ServiceID}})}function w(){var i;h.prolongOrder({IsAutoProlong:I.value?0:1,OrderID:(i=c.value)==null?void 0:i.OrderID})}function O(){var i,e,n;S.emit("open-modal",{component:"OrderRestore",data:{OrderID:(i=c.value)==null?void 0:i.OrderID,CostDay:(e=g.value)==null?void 0:e.CostDay,DaysRemainded:(n=c.value)==null?void 0:n.DaysRemainded,emitEvent:"updateDSIDPage"}})}return await o.fetchDSSchemes(),o.fetchDSOrders().then(()=>{var i;o.fetchDSOrderIPMI((i=c.value)==null?void 0:i.OrderID)}).then(()=>{var i;o.fetchDSOrderIPMISensors((i=c.value)==null?void 0:i.OrderID)}),await h.fetchUserOrders().then(()=>{var i;I.value=(i=M.value)==null?void 0:i.IsAutoProlong}),{getDSOrderIPMI:y,getDSServerData:c,getDSScheme:g,getDSOrderIPMISensors:R,isAutoProlong:I,passwordShowOne:N,passwordShowTwo:k,openOrderRestore:O,transferItem:A,setProlongValue:w,serverReset:b,isReloading:s,getDSItemParam:C,hostStatuses:Ct,calculateExpirationDate:x}}},Ge=Ot(be,[["render",fe],["__scopeId","data-v-6fe82902"]]);export{Ge as default};
