import{_ as j}from"./EmptyStateBlock-Dks67PsT.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{G as L,c as a,o as r,a as s,i as D,t as u,L as O,b as S,F as h,j as f,w as P,e as A,n as C,r as E,f as G,E as k,D as b}from"./index-DxPA2ffO.js";import{_ as V}from"./ClausesKeeper-DtaNhp0a.js";import{_ as T}from"./BlockBalanceAgreement-ckI0MbGb.js";import{u as F}from"./hosting-BRwESFSW.js";import{u as q}from"./resetServer-BdPP9l0n.js";import{u as z}from"./testTransforms-CtLjUrql.js";import"./IconClose-Br7S99e8.js";import"./contracts-DD2O0C6m.js";import"./ButtonDefault-tVMF5ozh.js";const M={props:{data:{type:Object,default:()=>{}}}},J={class:"hosting-order-item__wrapper"},K={class:"hosting-order-item__header"},Q={class:"hosting-order-item__name"},R={key:0,class:"hosting-order-item__price"},U={class:"hosting-order-item__content"},W={class:"hosting-order-item__row"},X={class:"hosting-order-item__list"},Y={class:"hosting-order-item__row"},Z={class:"hosting-order-item__note"};function ee(g,c,o,l,p,d){const _=L("router-link");return r(),a("div",{class:C(["hosting-order-item",{"hosting-order-item--special":o.data?.note}])},[s("div",J,[s("div",K,[s("div",Q,u(o.data?.name),1),o.data?.price?(r(),a("div",R,u(o.data?.price)+" ₽ в месяц",1)):D("",!0)]),s("div",U,[s("div",W,[s("ul",X,[(r(!0),a(h,null,f(o.data?.specifications,m=>(r(),a("li",{key:m},u(m),1))),128))])]),o.data?.note?O(g.$slots,"default",{key:0},()=>[s("div",Y,[s("div",Z,u(o.data?.note),1)])],!0):D("",!0),S(_,{class:"btn btn--wide btn--border btn--wide",to:`/HostingSchemes/${o.data?.ID}`},{default:P(()=>c[0]||(c[0]=[A(" Заказать ",-1)])),_:1,__:[0]},8,["to"])])])],2)}const te=y(M,[["render",ee],["__scopeId","data-v-afdb239c"]]),se={class:"section"},oe={class:"container"},re={class:"section-header"},ne={class:"section-nav"},ae=["data-title","onClick"],ie={class:"section-text section-text--margin"},ce={key:0,class:"list"},_e={__name:"HostingSchemes",async setup(g){let c,o;const l=F(),p=q(),d=E(0),{formDescriptionLine:_}=z(),m=G(()=>{let e=[];return l.hostingSchemes&&(Object.keys(l.hostingSchemes).forEach(t=>{String(l.hostingSchemes[t]?.ServersGroupID)===String(d.value)&&e.push(l.hostingSchemes[t])}),e=e.filter(t=>t.IsActive),e.sort((t,n)=>t.SortID-n.SortID)),e});function w(e){d.value=e}function x(e){return{ID:e?.ID,name:e?.Name,price:e?.CostMonth,specifications:[_(e?.SchemeParams?.limit_webdomains),_(e?.SchemeParams?.limit_quota),_(e?.SchemeParams?.limit_emails),_(e?.SchemeParams?.disklimit),_(e?.SchemeParams?.maillimit)],note:e?.Comment}}const $=G(()=>p?.serverGroupsList?.Servers);function I(){let e={};return Object.values($.value).forEach(t=>{if(t.ServiceID==="10000"){const n=t.ServersGroupID;e[n]||(e[n]={SortID:t.SortID,ServersGroupID:n,servers:[]}),e[n].servers.push(t)}}),Object.values(e).sort((t,n)=>t.SortID-n.SortID)}function v(e){return p?.serverGroupsList?.ServersGroups?.[e]}return[c,o]=k(()=>l.fetchHostingSchemes()),await c,o(),[c,o]=k(()=>p.fetchServerGroups()),await c,o(),d.value=I()?.[0]?.ServersGroupID,(e,t)=>{const n=T,B=V,H=te,N=j;return r(),a(h,null,[S(n),s("section",se,[s("div",oe,[s("div",re,[t[0]||(t[0]=s("h1",{class:"section-title"},"Заказать хостинг",-1)),S(B),s("div",ne,[(r(!0),a(h,null,f(I(),(i,le)=>(r(),a("div",{class:C(["section-nav__item",{active:String(d.value)===String(i?.ServersGroupID)}]),key:i?.ServersGroupID,"data-title":v(i?.ServersGroupID)?.Comment,onClick:de=>w(i?.ServersGroupID)},u(v(i?.ServersGroupID)?.Name),11,ae))),128))])]),s("div",ie,u(v(d.value)?.Comment),1),m.value?(r(),a("div",ce,[(r(!0),a(h,null,f(m.value,i=>(r(),b(H,{key:i?.ID,data:x(i)},null,8,["data"]))),128))])):(r(),b(N,{key:1,label:"Нет доступных тарифов"}))])])],64)}}},ke=y(_e,[["__scopeId","data-v-7e47de5f"]]);export{ke as default};
