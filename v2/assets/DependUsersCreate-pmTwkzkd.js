import{_ as P}from"./ButtonDefault-CgQ13ecW.js";import{_ as x}from"./ClausesKeeper-Cjjq7JUL.js";import{_ as y}from"./BlockBalanceAgreement-BNU6bIWW.js";import{u as N,r as p,E as f,f as U,g as E,c as C,b as u,a as e,t as D,x as V,I as n,P as r,d as k,y as B,o as S}from"./index-DakgQwZZ.js";import{u as A}from"./contracts-C-xJvA56.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconClose-Camrw-uN.js";const R={class:"create-referral"},$={class:"container"},L={class:"section-header"},j={class:"section-label"},H={class:"container"},M={class:"create-referral__data"},T={class:"form-field"},q={class:"form-field"},z={class:"form-field"},F={class:"form-field"},G={class:"container"},J={class:"create-referral__data"},K={__name:"DependUsersCreate",async setup(O){let o,l;const i=N(),_=A(),v=E(),w=k();B("emitter");const d=p(!1),t=p({Email:"",Name:"",Password:"",_Password:""});[o,l]=f(()=>i.fetchUserData()),await o,l(),[o,l]=f(()=>_.fetchContracts()),await o,l(),U(()=>_.contractsList[v.params.id]);function b(){t.value.Email.length>0&&t.value.Password.length>0&&t.value.Name.length>0&&t.value._Password.length>0&&(d.value=!0,i.registerNewUser({...t.value}).then(c=>{const{response:s,error:m}=c;s==="success"&&w.push({path:"/Home"}),d.value=!1}))}return(c,s)=>{const m=y,g=x,h=P;return S(),C("div",R,[u(m),e("section",null,[e("div",$,[e("div",L,[s[5]||(s[5]=e("h1",{class:"section-title"},"Создать реферала",-1)),e("div",j,D(V(i).userInfo.Name),1)]),u(g)])]),e("section",null,[e("div",H,[e("div",M,[e("label",T,[s[6]||(s[6]=e("span",{class:"form-field__label"},"ФИО",-1)),n(e("input",{type:"text",placeholder:"","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.Name=a)},null,512),[[r,t.value.Name]])]),e("label",q,[s[7]||(s[7]=e("span",{class:"form-field__label"},"Email",-1)),n(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.Email=a)},null,512),[[r,t.value.Email]])]),e("label",z,[s[8]||(s[8]=e("span",{class:"form-field__label"},"Пароль",-1)),n(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=a=>t.value.Password=a)},null,512),[[r,t.value.Password]])]),e("label",F,[s[9]||(s[9]=e("span",{class:"form-field__label"},"Подтвердить пароль",-1)),n(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=a=>t.value._Password=a)},null,512),[[r,t.value._Password]])])])])]),e("section",null,[e("div",G,[e("div",J,[u(h,{class:"btn--wide",label:"Зарегистрировать","is-loading":d.value,onClick:s[4]||(s[4]=a=>b())},null,8,["is-loading"])])])])])}}},te=I(K,[["__scopeId","data-v-51383d17"]]);export{te as default};
