import{o as v,c as f,a as h,b as I,_ as b,S as w,r as D,i as g,C as M}from"./index-b5b5ce3d.js";import{R as _}from"./RecursiveComponent-7d4e10e9.js";import{u as S}from"./postings-ed3c9d0d.js";const y={class:"modal__body"},x={class:"html__container",id:"html-container"};function B(s,c,i,o,a,t){const e=_;return v(),f("div",y,[h("div",x,[I(e,{data:o.htmlContent},null,8,["data"])])])}const W={props:{data:{type:Object,default:()=>{}}},components:{RecursiveComponent:_},setup(s){const c=w("emitter"),i=S(),o=D(null);function a(t,e){var l,m,d,r,u;if(t==="/InvoiceDocument"&&(e!=null&&e.Mobile))((l=e.Mobile)==null?void 0:l.length)!==11?c.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:"Неверный номер телефона"}}}):i.InvoiceDocument({InvoiceID:(m=s.data)==null?void 0:m.ID,Mobile:e.Mobile}).then(n=>{o.value=n});else{let n=(d=document==null?void 0:document.forms[0])==null?void 0:d.querySelector('input[name="Mobile"]');t==="/InvoiceDocument"&&n.value&&(((r=n.value)==null?void 0:r.length)!==11?c.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:"Неверный номер телефона"}}}):i.InvoiceDocument({InvoiceID:(u=s.data)==null?void 0:u.ID,Mobile:n.value}).then(p=>{o.value=p}))}}return window.ShowWindow=a.bind(this),g(()=>{o.value=s.data.html;const t=document.querySelector(".modal__close-modal-button");t&&(t.style.display="none")}),M(()=>{c.emit("close-modal")}),{htmlContent:o}}},$=b(W,[["render",B],["__scopeId","data-v-9af31d95"]]);export{$ as default};
