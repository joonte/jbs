import{o as c,c as m,b as i,p,m as u,a as f,_ as v,r as _,U as b,i as g,P as y}from"./index-400feb76.js";import{u as S}from"./globalActions-9f4dbd2c.js";import{_ as E}from"./ButtonDefault-7609cc9e.js";import{_ as k}from"./BasicInput-0f8d920c.js";import"./component-5bf95be3.js";const h=e=>(p("data-v-89ebc149"),e=e(),u(),e),x={class:"modal__body"},C=h(()=>f("div",{class:"list-item__title"},"Передача заказа",-1));function I(e,o,n,t,s,r){const l=k,a=E;return c(),m("div",x,[C,i(l,{label:"Почтовый адрес",name:"mailIndex",placeholder:"Email",modelValue:t.email,"onUpdate:modelValue":o[0]||(o[0]=d=>t.email=d)},null,8,["modelValue"]),i(a,{class:"modal__button",label:"Передать","is-loading":t.isLoading,onClick:o[1]||(o[1]=d=>t.transfer())},null,8,["is-loading"])])}const V={props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(e,{emit:o}){const n=_(""),t=S(),s=_(!1);b("emitter");function r(){n.value.length>3&&(s.value=!0,t.OrdersTransfer({...e.data,Email:n.value}).then(({result:a,error:d})=>{a==="SUCCESS"&&o("modalClose"),s.value=!1}))}const l=a=>{a.key==="Enter"&&r()};return g(()=>{document.addEventListener("keyup",l)}),y(()=>{document.removeEventListener("keyup",l)}),{email:n,isLoading:s,transfer:r}}},M=v(V,[["render",I],["__scopeId","data-v-89ebc149"]]);export{M as default};
