import{o as v,c as b,a as f,b as h,_ as I,R as g,r as w,i as D,B as M}from"./index-5a4e9ca9.js";import{R as _}from"./RecursiveComponent-aea6f9ac.js";import{u as y}from"./postings-9ab6998c.js";const S={class:"modal__body"},B={class:"html__container",id:"html-container"};function x(s,c,i,o,a,n){const e=_;return v(),b("div",S,[f("div",B,[h(e,{data:o.htmlContent},null,8,["data"])])])}const W={props:{data:{type:Object,default:()=>{}}},components:{RecursiveComponent:_},setup(s){const c=g("emitter"),i=y(),o=w(null);function a(n,e){var l,m,d,r,u;if(console.log("1234"),n==="/InvoiceDocument"&&(e!=null&&e.Mobile))((l=e.Mobile)==null?void 0:l.length)!==11?c.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:"Неверный номер телефона"}}}):i.InvoiceDocument({InvoiceID:(m=s.data)==null?void 0:m.ID,Mobile:e.Mobile}).then(t=>{o.value=t});else{let t=(d=document==null?void 0:document.forms[0])==null?void 0:d.querySelector('input[name="Mobile"]');n==="/InvoiceDocument"&&t.value&&(((r=t.value)==null?void 0:r.length)!==11?c.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:"Неверный номер телефона"}}}):i.InvoiceDocument({InvoiceID:(u=s.data)==null?void 0:u.ID,Mobile:t.value}).then(p=>{o.value=p}))}}return window.ShowWindow=a.bind(this),D(()=>{o.value=s.data.html;const n=document.querySelector(".modal__close-modal-button");n&&(n.style.display="none")}),M(()=>{c.emit("close-modal")}),{htmlContent:o}}},R=I(W,[["render",x],["__scopeId","data-v-bbda012b"]]);export{R as default};
