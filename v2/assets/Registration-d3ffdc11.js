import{j as g,o as w,c as E,a as t,b as a,n as m,w as O,d as S,_ as h,r as n,f as k,e as x,i as P}from"./index-3af25d4c.js";import{_ as R}from"./BasicInput-ee6974cd.js";import B from"./IconGoogle-2278858e.js";import U from"./IconOk-1c77dd29.js";import C from"./IconVk-d5d1719b.js";import I from"./IconYandex-745363d3.js";import{P as v}from"./ProtectionCode-3ba864ee.js";import{B as N}from"./BlockAuthEnter-333a0149.js";import{_ as M}from"./ButtonDefault-b95c906d.js";import"./component-17343301.js";const y={class:"registration-page"},A={class:"section"},L={class:"container"},j=t("div",{class:"section-header"},[t("h1",{class:"section-title"},"Регистрация")],-1),z={class:"form-offset_label"},G={class:"form-offset_label"};function T(u,e,f,o,p,c){const s=R,r=v,i=M,d=g("P"),_=N;return w(),E("div",y,[t("div",A,[t("div",L,[j,t("form",null,[a(s,{label:"Имя",name:"name",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.name=l),class:m({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),a(s,{label:"Email",name:"mail",modelValue:o.mail,"onUpdate:modelValue":e[1]||(e[1]=l=>o.mail=l),class:m({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),a(s,{label:"Пароль",name:"password",modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=l=>o.password=l),"is-password":"",class:m({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),a(s,{label:"Подтвердить пароль",name:"repeat_password",modelValue:o.repeat_password,"onUpdate:modelValue":e[3]||(e[3]=l=>o.repeat_password=l),"is-password":"",class:m({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"])]),a(r),a(s,{label:"Защитный код",name:"code",modelValue:o.code,"onUpdate:modelValue":e[4]||(e[4]=l=>o.code=l),"is-password":"",class:m({"form-field-error":o.submitStatus==="ERROR"})},null,8,["modelValue","class"]),t("div",z,[a(i,{label:"Зарегистрироваться","is-loading":o.isLoading,onClick:e[5]||(e[5]=l=>o.sendRegistration())},null,8,["is-loading"])]),t("div",G,[a(d,null,{default:O(()=>[S("Нажимая на кнопку зарегистрироваться я соглашаюсь с условиями договора на оказание услуг")]),_:1})])])]),a(_,{label:"Зарегистрироваться с помощью"})])}const Y={components:{BasicInput:R,IconGoogle:B,IconOk:U,IconVk:C,IconYandex:I,ProtectionCode:v},setup(){const u=n(!1),e=n(null),f=n(null),o=k(),p=x(),c=n(null),s=n(null),r=n(null),i=n(null),d=n(null);function _(){f.value=Math.floor(Math.random()*(9999-1e3)+1e3)}function l(){r.value!==null&&c.value!==null&&s.value!==null&&i.value!==null&&d.value!==null?(u.value=!0,o.registerNewUser({Email:c.value,Password:s.value,_Password:i.value,Name:r.value,Protect:d.value}).then(V=>{const{response:b}=V;b==="success"?p.push({path:"/"}):(_(),e.value="ERROR"),u.value=!1})):e.value="ERROR"}return P(()=>{_()}),{submitStatus:e,randomValue:f,mail:c,isLoading:u,name:r,code:d,password:s,repeat_password:i,sendRegistration:l}}},$=h(Y,[["render",T]]);export{$ as default};
