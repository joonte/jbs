import{j as yt,o as p,c as h,b as r,a as t,t as a,Y as Vt,ae as Ct,d as u,w as D,k as xt,Z as At,F as Bt,p as Rt,l as Et,_ as Mt,f as Nt,a7 as Ut,e as Tt,r as bt,R as Lt,g as x}from"./index-c7c24b76.js";import{u as jt}from"./contracts-397b53fe.js";import{u as Ft}from"./vps-4d93874f.js";import{u as Gt}from"./globalActions-306d29c7.js";import{_ as zt}from"./IconCard-57c0e3d6.js";import{I as Wt}from"./IconProfile-da2f6925.js";import{I as Yt}from"./IconSettings-1496db0d.js";import{I as wt}from"./IconEye-86bd28ed.js";import{S as Ot}from"./StatusBadge-8575efce.js";import{f as ft}from"./useTimeFunction-8602dd60.js";import{v as Zt}from"./vpsStatuses-32ffaaf5.js";import{s as Pt}from"./SettingsEngineItem-f880e99f.js";import{B as kt}from"./BlockBalanceAgreement-f11c65ba.js";import{E as qt}from"./EmptyStateBlock-b9aefc49.js";import{_ as Ht}from"./ButtonDefault-626291b9.js";import{z as Jt}from"./bootstrap-vue-next.es-3f66213d.js";import{_ as Kt}from"./ServicesContractBalanceBlock-849a1d97.js";import{_ as Qt}from"./ClausesKeeper-e7acf2fb.js";import{I as Xt}from"./IconRotate-6f777555.js";import"./IconArrow-dfacb3d4.js";import"./IconClose-447d7f82.js";const l=_=>(Rt("data-v-9d70ea47"),_=_(),Et(),_),$t={key:0,class:"my-vps-order"},te={class:"section"},ee={class:"container"},se={class:"section-header"},oe={class:"section-title"},ie={class:"btn btn--md btn--border btn--rotate btn--rotate_green button-large"},ne={class:"ico"},ae={class:"section-label"},re={class:"section-nav"},le={class:"list"},_e={class:"list-col list-col--md"},ce={class:"list-item"},de={class:"list-item__row"},me={class:"list-item__title"},ve={class:"list-item__status"},pe={class:"list-item__row"},he={class:"list-item__ul"},ue={key:0},ge={class:"list-item__row list-item__row--column"},Se={class:"list-item__text"},Ie={class:"list-item__text"},De={class:"list-item__text"},Ve={class:"list-item__row"},be={class:"btn btn--border btn--switch"},fe=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),we=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),Oe={class:"list-col list-col--md"},Pe={class:"list-item"},ke={class:"list-item__row"},ye=l(()=>t("div",{class:"list-item__title"},"Панель управления",-1)),Ce={class:"list-item__row list-item__row--table"},xe=l(()=>t("div",{class:"list-item__item"},"Адрес",-1)),Ae={class:"list-item__item"},Be={class:"list-item__row list-item__row--table"},Re=l(()=>t("div",{class:"list-item__item"},"Логин",-1)),Ee={class:"list-item__item"},Me={class:"list-item__row list-item__row--table password-box"},Ne=l(()=>t("div",{class:"list-item__item"},"Пароль",-1)),Ue={class:"list-item__item"},Te={key:0,class:"password-hidden"},Le={class:"list-item__row list-item__row--table"},je=l(()=>t("div",{class:"list-item__item"},"IP адрес",-1)),Fe={class:"list-item__item"},Ge={class:"list-col list-col--md"},ze={class:"list-item"},We=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Именные сервера")],-1)),Ye={class:"list-item__row list-item__row--table"},Ze=l(()=>t("div",{class:"list-item__item"},"Первичный сервер",-1)),qe={class:"list-item__item"},He={class:"list-item__row list-item__row--table"},Je=l(()=>t("div",{class:"list-item__item"},"Вторичный сервер",-1)),Ke={class:"list-item__item"},Qe={class:"list-col list-col--md"},Xe={class:"list-item"},$e=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Паркованный домен")],-1)),ts={class:"list-item__row list-item__row--table"},es=l(()=>t("div",{class:"list-item__item"},"Паркованный домен",-1)),ss={class:"list-item__item"},os=l(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),is={key:1,class:"section"},ns={class:"container"};function as(_,i,v,e,A,B){var b,f,w,s,o,c,R,E,M,N,U,T,L,j,F,G,z,W,Y,Z,q,H,J,K,Q,X,$,tt,et,st,ot,it,nt,at,rt,lt,_t,ct,dt,mt,vt,pt,ht,ut,gt,St,It,Dt;const g=kt,m=Ot,O=Xt,n=yt("router-link"),S=Qt,P=Kt,I=Jt,k=Pt,V=Ht,y=wt,C=qt;return p(),h(Bt,null,[r(g),(b=e.getVpsOrder)!=null&&b.ID?(p(),h("div",$t,[t("div",te,[t("div",ee,[t("div",se,[t("h1",oe,a((f=e.getVpsOrder)==null?void 0:f.Domain),1),r(m,{status:(w=e.getVpsOrder)==null?void 0:w.StatusID,"status-table":"VPSOrders"},null,8,["status"]),Vt(t("button",ie,[u("Включен"),t("div",ne,[r(O)])],512),[[Ct,((s=e.getVpsOrder)==null?void 0:s.StatusID)==="Active"]]),t("div",ae,"VPS/VDS сервер # "+a((o=e.getVpsOrder)==null?void 0:o.OrderID),1),t("div",re,[r(n,{class:"section-nav__item",to:"#"},{default:D(()=>[u("Сервер")]),_:1})])]),r(S),t("div",le,[r(P,{"contract-id":(c=e.getVpsOrder)==null?void 0:c.ContractID,onTransfer:i[0]||(i[0]=d=>e.transferItem())},null,8,["contract-id"]),t("div",_e,[t("div",ce,[t("div",de,[t("div",me,a((R=e.getVpsScheme)==null?void 0:R.Name),1),t("div",ve,[r(m,{status:(E=e.getVpsOrder)==null?void 0:E.StatusID,"status-table":"VPSOrders"},null,8,["status"])]),r(k,null,{default:D(()=>[r(I,{onClick:i[1]||(i[1]=d=>e.openPackageChangeModal())},{default:D(()=>[u("Изменить тариф")]),_:1}),r(I,{onClick:i[2]||(i[2]=d=>e.openOrderRestore())},{default:D(()=>[u("Просмотреть учет заказа")]),_:1}),r(I,{onClick:i[3]||(i[3]=d=>e.openPasswordChange())},{default:D(()=>[u("Сменить пароль от аккаунта")]),_:1})]),_:1})]),t("div",pe,[t("ul",he,[(U=(N=(M=e.getVpsScheme)==null?void 0:M.SchemeParams)==null?void 0:N.os)!=null&&U.value?(p(),h("li",ue,a((j=(L=(T=e.getVpsScheme)==null?void 0:T.SchemeParams)==null?void 0:L.os)==null?void 0:j.value),1)):xt("",!0),t("li",null,a(`${(z=(G=(F=e.getVpsScheme)==null?void 0:F.SchemeParams)==null?void 0:G.hdd_mib)==null?void 0:z.InternalName} ${(Z=(Y=(W=e.getVpsScheme)==null?void 0:W.SchemeParams)==null?void 0:Y.hdd_mib)==null?void 0:Z.Value} ${(J=(H=(q=e.getVpsScheme)==null?void 0:q.SchemeParams)==null?void 0:H.hdd_mib)==null?void 0:J.Unit}`),1),t("li",null,a(`RAM ${(X=(Q=(K=e.getVpsScheme)==null?void 0:K.SchemeParams)==null?void 0:Q.ram_mib)==null?void 0:X.Value} ${(et=(tt=($=e.getVpsScheme)==null?void 0:$.SchemeParams)==null?void 0:tt.ram_mib)==null?void 0:et.Unit}`),1),t("li",null,a(`Канал ${(it=(ot=(st=e.getVpsScheme)==null?void 0:st.SchemeParams)==null?void 0:ot.net_bandwidth_mbitps)==null?void 0:it.Value} ${(rt=(at=(nt=e.getVpsScheme)==null?void 0:nt.SchemeParams)==null?void 0:at.net_bandwidth_mbitps)==null?void 0:rt.Unit}`),1)])]),t("div",ge,[t("div",Se,a((lt=e.getVpsScheme)==null?void 0:lt.CostMonth)+" ₽ в месяц",1),t("div",Ie,"Дней осталось "+a((_t=e.getVpsOrder)==null?void 0:_t.DaysRemainded),1),t("div",De,"Дата окончания "+a(e.calculateExpirationDate((ct=e.getVpsOrder)==null?void 0:ct.DaysRemainded)),1)]),t("div",Ve,[r(V,{label:((dt=e.getVpsOrder)==null?void 0:dt.StatusID)==="Suspended"||((mt=e.getVpsOrder)==null?void 0:mt.StatusID)==="Waiting"?"Оплатить":"Продлить",onClick:i[4]||(i[4]=d=>e.navigateToProlong())},null,8,["label"]),t("label",be,[Vt(t("input",{type:"checkbox","onUpdate:modelValue":i[5]||(i[5]=d=>e.isAutoProlong=d),onInput:i[6]||(i[6]=d=>e.setProlongValue())},null,544),[[At,e.isAutoProlong]]),fe,we])])])]),t("div",Oe,[t("div",Pe,[t("div",ke,[ye,r(V,{class:"ml-auto",onClick:i[7]||(i[7]=d=>e.orderManage()),label:"Вход"})]),t("div",Ce,[xe,t("div",Ae,a(`https://${(vt=_.getServerGroup)==null?void 0:vt.Address}/manager`),1)]),t("div",Be,[Re,t("div",Ee,a((pt=e.getVpsOrder)==null?void 0:pt.Login),1)]),t("div",Me,[Ne,t("div",Ue,[e.passwordShow?(p(),h("div",Te,a((ht=e.getVpsOrder)==null?void 0:ht.Password),1)):(p(),h("button",{key:1,class:"btn btn--border btn--md password-box",onClick:i[8]||(i[8]=d=>e.passwordShow=!0)},[r(y),u("Показать")]))])]),t("div",Le,[je,t("div",Fe,a((ut=e.getVpsOrder)!=null&&ut.IP?(gt=e.getVpsOrder)==null?void 0:gt.IP:"-"),1)])])]),t("div",Ge,[t("div",ze,[We,t("div",Ye,[Ze,t("div",qe,a((St=e.getVpsOrder)==null?void 0:St.Ns1Name),1)]),t("div",He,[Je,t("div",Ke,a((It=e.getVpsOrder)==null?void 0:It.Ns2Name),1)])])]),t("div",Qe,[t("div",Xe,[$e,t("div",ts,[es,t("div",ss,a((Dt=e.getVpsOrder)==null?void 0:Dt.Domain),1)])])])])])]),os])):(p(),h("div",is,[t("div",ns,[r(C,{label:"Заказ не найден"})])]))],64)}const rs={components:{IconCard:zt,IconProfile:Wt,IconSettings:Yt,IconEye:wt,StatusBadge:Ot,settingsEngineItem:Pt,BlockBalanceAgreement:kt},async setup(){const _=Ft(),i=jt(),v=Nt(),e=Gt(),A=Ut(),B=Tt(),g=bt(!1),m=Lt("emitter");m.on("updateVPSIDPage",()=>{_.fetchVPS()});const O=bt(!1),n=x(()=>Object.keys(_.vpsList).map(s=>_.vpsList[s]).find(s=>s.OrderID===A.params.id)),S=x(()=>{var s,o;return(o=_.vpsSchemes)==null?void 0:o[(s=n.value)==null?void 0:s.SchemeID]}),P=x(()=>{var s,o;return(o=v==null?void 0:v.userOrders)==null?void 0:o[(s=n.value)==null?void 0:s.OrderID]});function I(s){if(!s)return ft(new Date);const o=new Date,c=new Date(o.getTime()+s*24*60*60*1e3);return ft(c)}function k(){var s,o;m.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(s=n.value)==null?void 0:s.ID,ServiceID:(o=n.value)==null?void 0:o.ServiceID}})}function V(){var s;B.push(`/VPSOrderPay/${(s=n.value)==null?void 0:s.OrderID}`)}function y(){var s;v.prolongOrder({IsAutoProlong:g.value?0:1,OrderID:(s=n.value)==null?void 0:s.OrderID})}function C(){var s,o;m.emit("open-modal",{component:"VPSOrderSchemeChange",data:{VpsID:(s=n.value)==null?void 0:s.ID,ServerGroup:(o=S.value)==null?void 0:o.ServersGroupID,emitEvent:"updateVPSIDPage"}})}function b(){var s,o;m.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:(s=n.value)==null?void 0:s.ID,ServiceID:(o=n.value)==null?void 0:o.ServiceID,emitEvent:"updateVPSIDPage"}})}function f(){var s,o,c;m.emit("open-modal",{component:"OrderRestore",data:{OrderID:(s=n.value)==null?void 0:s.OrderID,CostDay:(o=S.value)==null?void 0:o.CostDay,DaysRemainded:(c=n.value)==null?void 0:c.DaysRemainded,emitEvent:"updateVPSIDPage"}})}function w(){var s,o,c;e.OrderManage({ServiceOrderID:(s=n.value)==null?void 0:s.ID,OrderID:(o=n.value)==null?void 0:o.OrderID,ServiceID:(c=n.value)==null?void 0:c.ServiceID})}return await _.fetchVPS(),await _.fetchVPSSchemes(),await i.fetchContracts(),await v.fetchUserOrders().then(()=>{var s;g.value=(s=P.value)==null?void 0:s.IsAutoProlong}),{getVpsOrder:n,passwordShow:O,getVpsScheme:S,isAutoProlong:g,setProlongValue:y,navigateToProlong:V,transferItem:k,vpsStatuses:Zt,openPackageChangeModal:C,openPasswordChange:b,openOrderRestore:f,orderManage:w,calculateExpirationDate:I}}},Cs=Mt(rs,[["render",as],["__scopeId","data-v-9d70ea47"]]);export{Cs as default};
