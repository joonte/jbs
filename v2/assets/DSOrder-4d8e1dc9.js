import{j as gt,o as d,c,b as m,a as t,t as l,Y as ct,ae as bt,n as ft,d as S,w as u,F as k,v as T,Z as wt,k as mt,p as Ot,l as pt,_ as Pt,a7 as kt,f as yt,r as y,R as Rt,g as O}from"./index-7c70979b.js";import"./resetServer-7d1acbe7.js";import{u as Mt}from"./dedicatedServer-a6c7343e.js";import{f as vt}from"./useTimeFunction-8602dd60.js";import{_ as xt}from"./IconCard-b77c66c4.js";import{I as Ct}from"./IconProfile-a16fdf82.js";import{I as At}from"./IconSettings-c1ba93d3.js";import{I as ht}from"./IconEye-22337704.js";import{S as Dt}from"./StatusBadge-d1ca4bcf.js";import{I as It}from"./IconRotate-e2a0f17c.js";import{h as Bt}from"./hostStatuses-94d00f20.js";import{s as St}from"./SettingsEngineItem-536b639d.js";import{B as ut}from"./BlockBalanceAgreement-e7636133.js";import{E as Et}from"./EmptyStateBlock-12618634.js";import{_ as Nt}from"./ButtonDefault-cdd68300.js";import{_ as Lt}from"./ServicesContractBalanceBlock-da86e2da.js";import{_ as Tt}from"./ClausesKeeper-db215214.js";import{z as Ut,d as Vt}from"./bootstrap-vue-next.es-44836407.js";import{_ as jt}from"./IconDots-287ffdeb.js";import"./contracts-6e790117.js";import"./IconArrow-6bef9064.js";import"./IconClose-358a4a84.js";const _=h=>(Ot("data-v-933ebe61"),h=h(),pt(),h),zt={key:0,class:"ds-order-page"},Ft={class:"section"},Gt={class:"container"},Wt={class:"section-header"},Yt={class:"section-title"},Zt={class:"hosting-item__controls"},qt={class:"ico"},Ht={class:"btn btn--dots"},Jt={class:"section-label"},Kt={class:"section-nav"},Qt={class:"list"},Xt={class:"list-col list-col--md"},$t={class:"list-item"},ts={class:"list-item__row"},ss={class:"list-item__title"},es={class:"list-item__status"},is={class:"list-item__row"},os={class:"list-item__ul"},ls={class:"list-item__row list-item__row--column"},ns={class:"list-item__text"},_s={class:"list-item__text"},as={class:"list-item__text"},rs={class:"list-item__row"},ds={class:"btn btn--border btn--switch"},cs=_(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),ms=_(()=>t("span",{class:"btn-switch__toggle"},null,-1)),vs={class:"list-col list-col--xl"},hs={class:"list-item"},Ds=_(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Конфигурация")],-1)),Is={class:"list-item__row list-item__table"},Ss={class:"list-item__table-col"},us=_(()=>t("div",{class:"list-item__label"},"Процессор",-1)),gs={class:"list-item__text"},bs={class:"list-item__table-col"},fs=_(()=>t("div",{class:"list-item__label"},"RAM",-1)),ws={class:"list-item__text"},Os={class:"list-item__table-col"},ps=_(()=>t("div",{class:"list-item__label"},"Память",-1)),Ps={class:"list-item__text"},ks={class:"list-item__table-col"},ys=_(()=>t("div",{class:"list-item__label"},"Тип RAID контроллера",-1)),Rs={class:"list-item__text"},Ms={class:"list-item__table-col"},xs=_(()=>t("div",{class:"list-item__label"},"Скорость канала",-1)),Cs={class:"list-item__text"},As={class:"list-item__table-col"},Bs=_(()=>t("div",{class:"list-item__label"},"Месячный трафик",-1)),Es={class:"list-item__text"},Ns={class:"list-item__table-col"},Ls=_(()=>t("div",{class:"list-item__label"},"Предустановленная ОС",-1)),Ts={class:"list-item__text"},Us={class:"list-col list-col--md"},Vs={class:"list-item"},js=_(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы")],-1)),zs={class:"list-item__row list-item__row--table"},Fs=_(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),Gs={class:"list-item__item"},Ws={class:"list-item__row list-item__row--table"},Ys=_(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),Zs={class:"list-item__item"},qs={class:"list-item__row list-item__row--table password-line"},Hs=_(()=>t("div",{class:"list-item__item"},"Пароль",-1)),Js={class:"list-item__item"},Ks={key:0,class:"password-hidden"},Qs={class:"list-col list-col--md"},Xs={class:"list-item"},$s=_(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Доступы IPMI")],-1)),te={class:"list-item__row list-item__row--table"},se=_(()=>t("div",{class:"list-item__item"},"IP адрес сервера",-1)),ee={class:"list-item__item"},ie={class:"list-item__row list-item__row--table"},oe=_(()=>t("div",{class:"list-item__item"},"Пользователь",-1)),le={class:"list-item__item"},ne={class:"list-item__row list-item__row--table password-line"},_e=_(()=>t("div",{class:"list-item__item"},"Пароль",-1)),ae={class:"list-item__item"},re={key:0,class:"password-hidden"},de={key:0,class:"list-col list-col--md"},ce={class:"list-item"},me=_(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Общая информация из IPMI")],-1)),ve={class:"list-item__row list-item__row--table"},he={class:"list-item__item"},De={class:"list-item__item"},Ie={key:1,class:"list-col list-col--md"},Se={class:"list-item"},ue=_(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Данные сенсоров")],-1)),ge={class:"list-item__row list-item__row--table"},be={class:"list-item__item"},fe={class:"list-item__item"},we=_(()=>t("div",{class:"section"},[t("div",{class:"container"},[t("div",{class:"text"},[t("h3",null,"Что входит в стоимость"),t("p",null,"Для подключения дополнительных услуг"),t("ul",null,[t("li",null,"Размещение в РФ, Москва"),t("li",null,"Предустановленная ОС FreeBSD / CentOS / Debian / Ubuntu / Windows"),t("li",null,"IP адрес, с возможностью расширения"),t("li",null,"Бесплатная панель управления ISPManager Lite"),t("li",null,"Круглосуточная поддержка")])])])],-1)),Oe={key:1,class:"section"},pe={class:"container"};function Pe(h,o,D,s,g,U){var i,e,r,f,w,P,V,j,z,F,G,W,Y,Z,q,H,J,K,Q,X,$,tt,st,et,it,ot,lt,nt,_t,at,rt,dt;const R=ut,b=It,n=jt,I=Ut,M=Vt,x=gt("router-link"),C=Tt,A=Lt,B=Dt,E=St,N=Nt,p=ht,L=Et;return d(),c(k,null,[m(R),(i=s.getDSServerData)!=null&&i.ID?(d(),c("div",zt,[t("div",Ft,[t("div",Gt,[t("div",Wt,[t("h1",Yt,l((e=s.getDSServerData)==null?void 0:e.IPaddr),1),t("div",Zt,[ct(t("button",{class:ft(["btn btn--md btn--border btn--rotate btn--rotate_green button-large",{"btn--rotate_gray":((r=s.getDSServerData)==null?void 0:r.StatusID)!=="Active"||s.isReloading,"btn--rotate_loading":s.isReloading}]),title:"Перезагрузить выделенный сервер",onClick:o[0]||(o[0]=a=>{var v;return s.serverReset((v=s.getDSServerData)==null?void 0:v.ID)})},[S("Включен"),t("div",qt,[m(b)])],2),[[bt,((f=s.getDSServerData)==null?void 0:f.StatusID)==="Active"]]),m(M,{class:"dropdown-dots",right:""},{"button-content":u(()=>[t("div",Ht,[m(n)])]),default:u(()=>[m(I,{onClick:o[1]||(o[1]=a=>{var v;return s.serverReset((v=s.getDSServerData)==null?void 0:v.ID)})},{default:u(()=>[S("Перезагрузить")]),_:1})]),_:1})]),t("div",Jt,"Выделенный сервер # "+l((w=s.getDSServerData)==null?void 0:w.OrderID),1),t("div",Kt,[m(x,{class:"section-nav__item",to:`/DSOrders/${(P=s.getDSServerData)==null?void 0:P.OrderID}`},{default:u(()=>[S("Сервер")]),_:1},8,["to"])])]),m(C),t("div",Qt,[m(A,{"contract-id":(V=s.getDSServerData)==null?void 0:V.ContractID,onTransfer:o[2]||(o[2]=a=>s.transferItem())},null,8,["contract-id"]),t("div",Xt,[t("div",$t,[t("div",ts,[t("div",ss,l((j=s.getDSServerData)==null?void 0:j.Scheme),1),t("div",es,[m(B,{status:(z=s.getDSServerData)==null?void 0:z.StatusID,DaysRemainded:(F=s.getDSServerData)==null?void 0:F.DaysRemainded,"status-table":"DNSmanagerOrders"},null,8,["status","DaysRemainded"])]),m(E,null,{default:u(()=>[m(I,{onClick:o[3]||(o[3]=a=>s.openOrderRestore())},{default:u(()=>[S("Просмотреть учет заказа")]),_:1})]),_:1})]),t("div",is,[t("ul",os,[(d(!0),c(k,null,T(s.getDSItemParam(s.getDSServerData),a=>(d(),c("li",null,l(a),1))),256))])]),t("div",ls,[t("div",ns,l(((G=s.getDSScheme)==null?void 0:G.CostMonth)||"0")+" ₽ в месяц",1),t("div",_s,"Дней осталось "+l(((W=s.getDSServerData)==null?void 0:W.DaysRemainded)||"0"),1),t("div",as,"Дата окончания "+l(s.calculateExpirationDate((Y=s.getDSServerData)==null?void 0:Y.DaysRemainded)),1)]),t("div",rs,[m(N,{label:"Продлить",onClick:o[4]||(o[4]=a=>{var v;return h.$router.push(`/DSOrderPay/${(v=s.getDSServerData)==null?void 0:v.OrderID}`)})}),t("label",ds,[ct(t("input",{type:"checkbox","onUpdate:modelValue":o[5]||(o[5]=a=>s.isAutoProlong=a),onInput:o[6]||(o[6]=a=>s.setProlongValue())},null,544),[[wt,s.isAutoProlong]]),cs,ms])])])]),t("div",vs,[t("div",hs,[Ds,t("div",Is,[t("div",Ss,[us,t("div",gs,l(((Z=s.getDSScheme)==null?void 0:Z.CPU)||"-"),1)]),t("div",bs,[fs,t("div",ws,l((q=s.getDSScheme)!=null&&q.ram?`${(H=s.getDSScheme)==null?void 0:H.ram} ГБ`:"-"),1)]),t("div",Os,[ps,t("div",Ps,l(((J=s.getDSScheme)==null?void 0:J.disks)||"-"),1)]),t("div",ks,[ys,t("div",Rs,l(((K=s.getDSScheme)==null?void 0:K.raid)||"-"),1)]),t("div",Ms,[xs,t("div",Cs,l((Q=s.getDSScheme)!=null&&Q.chrate?`${(X=s.getDSScheme)==null?void 0:X.chrate} Мбит/с`:"-"),1)]),t("div",As,[Bs,t("div",Es,l(($=s.getDSScheme)!=null&&$.trafflimit?`${(tt=s.getDSScheme)==null?void 0:tt.trafflimit} ГБ`:"-"),1)]),t("div",Ns,[Ls,t("div",Ts,l(((st=s.getDSScheme)==null?void 0:st.OS)||"-"),1)])])])]),t("div",Us,[t("div",Vs,[js,t("div",zs,[Fs,t("div",Gs,l((et=s.getDSServerData)==null?void 0:et.IPaddr),1)]),t("div",Ws,[Ys,t("div",Zs,l((it=s.getDSServerData)==null?void 0:it.DSuser),1)]),t("div",qs,[Hs,t("div",Js,[s.passwordShowOne?(d(),c("div",Ks,l((ot=s.getDSServerData)==null?void 0:ot.DSpass),1)):(d(),c("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[7]||(o[7]=a=>s.passwordShowOne=!0)},[m(p,{class:"button-icon"}),S("Показать")]))])])])]),t("div",Qs,[t("div",Xs,[$s,t("div",te,[se,t("div",ee,l((lt=s.getDSServerData)==null?void 0:lt.ILOaddr),1)]),t("div",ie,[oe,t("div",le,l((nt=s.getDSServerData)==null?void 0:nt.ILOuser),1)]),t("div",ne,[_e,t("div",ae,[s.passwordShowTwo?(d(),c("div",re,l((_t=s.getDSServerData)==null?void 0:_t.ILOpass),1)):(d(),c("button",{key:1,class:"btn btn--border btn--md password-line",onClick:o[8]||(o[8]=a=>s.passwordShowTwo=!0)},[m(p,{class:"button-icon"}),S("Показать")]))])])])]),s.getDSOrderIPMI&&((at=s.getDSOrderIPMI)==null?void 0:at.IPMI.length)>0?(d(),c("div",de,[t("div",ce,[me,(d(!0),c(k,null,T((rt=s.getDSOrderIPMI)==null?void 0:rt.IPMI,a=>(d(),c("div",ve,[t("div",he,l(a==null?void 0:a.name),1),t("div",De,l(a==null?void 0:a.value),1)]))),256))])])):mt("",!0),(dt=s.getDSOrderIPMI)!=null&&dt["IPMI.Sensors"]&&s.getDSOrderIPMI["IPMI.Sensors"].length>0?(d(),c("div",Ie,[t("div",Se,[ue,(d(!0),c(k,null,T(s.getDSOrderIPMI["IPMI.Sensors"],(a,v)=>(d(),c("div",ge,[t("div",be,l(v),1),t("div",fe,l(a),1)]))),256))])])):mt("",!0)])])]),we])):(d(),c("div",Oe,[t("div",pe,[m(L,{label:"Заказ не найден"})])]))],64)}const ke={components:{IconCard:xt,IconProfile:Ct,IconSettings:At,IconEye:ht,StatusBadge:Dt,IconRotate:It,settingsEngineItem:St,BlockBalanceAgreement:ut},async setup(){const h=kt(),o=Mt(),D=yt(),s=y(!1),g=Rt("emitter");g.on("updateDSIDPage",()=>{o.fetchDSOrders().then(()=>{var i;o.fetchDSOrderIPMI((i=n.value)==null?void 0:i.OrderID)}).then(()=>{var i;o.fetchDSOrderIPMISensors((i=n.value)==null?void 0:i.OrderID)})});const U=y(!1),R=y(!1),b=y(!0),n=O(()=>Object.keys(o==null?void 0:o.DSList).map(i=>o==null?void 0:o.DSList[i]).find(i=>i.OrderID===h.params.id)),I=O(()=>{var i,e;return(e=o==null?void 0:o.DSSchemes)==null?void 0:e[(i=n.value)==null?void 0:i.SchemeID]}),M=O(()=>o==null?void 0:o.DSOrderIPMI),x=O(()=>{var i,e;return(e=D==null?void 0:D.userOrders)==null?void 0:e[(i=n.value)==null?void 0:i.OrderID]}),C=O(()=>o==null?void 0:o.DSOrderIPMISensors);function A(i){if(!i)return vt(new Date);const e=new Date,r=new Date(e.getTime()+i*24*60*60*1e3);return vt(r)}function B(i){let e=I.value;e===void 0&&(e=i);let r=[];return e!=null&&e.Name&&r.push(e==null?void 0:e.Name),e!=null&&e.CPU&&r.push(e==null?void 0:e.CPU),e!=null&&e.ram&&r.push("RAM "+(e==null?void 0:e.ram)+" GB"),e!=null&&e.disks&&r.push(e==null?void 0:e.disks),r}function E(i){var r,f,w;function e(P){s.value=P}g.emit("open-modal",{component:"ReloadDS",data:{DSOrderID:i,isReloading:s.value,onReloadStatusChange:e,ServerName:(r=n==null?void 0:n.value)==null?void 0:r.Scheme,Status:(f=n==null?void 0:n.value)==null?void 0:f.StatusID,DaysRemainded:(w=n==null?void 0:n.value)==null?void 0:w.DaysRemainded}})}function N(){var i,e;g.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(i=n.value)==null?void 0:i.ID,ServiceID:(e=n.value)==null?void 0:e.ServiceID}})}function p(){var i;D.prolongOrder({IsAutoProlong:b.value?0:1,OrderID:(i=n.value)==null?void 0:i.OrderID})}function L(){var i,e,r;g.emit("open-modal",{component:"OrderRestore",data:{OrderID:(i=n.value)==null?void 0:i.OrderID,CostDay:(e=I.value)==null?void 0:e.CostDay,DaysRemainded:(r=n.value)==null?void 0:r.DaysRemainded,emitEvent:"updateDSIDPage"}})}return await o.fetchDSSchemes(),o.fetchDSOrders().then(()=>{var i;o.fetchDSOrderIPMI((i=n.value)==null?void 0:i.OrderID)}).then(()=>{var i;o.fetchDSOrderIPMISensors((i=n.value)==null?void 0:i.OrderID)}),await D.fetchUserOrders().then(()=>{var i;b.value=(i=x.value)==null?void 0:i.IsAutoProlong}),{getDSOrderIPMI:M,getDSServerData:n,getDSScheme:I,getDSOrderIPMISensors:C,isAutoProlong:b,passwordShowOne:U,passwordShowTwo:R,openOrderRestore:L,transferItem:N,setProlongValue:p,serverReset:E,isReloading:s,getDSItemParam:B,hostStatuses:Bt,calculateExpirationDate:A}}},Je=Pt(ke,[["render",Pe],["__scopeId","data-v-933ebe61"]]);export{Je as default};
