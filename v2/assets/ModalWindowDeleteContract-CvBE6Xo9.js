import{_}from"./ButtonDefault-CgQ13ecW.js";import{_ as m}from"./IconHelpCircle-DBKy2ZVC.js";import{u}from"./globalActions-BG7EYttN.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as f,o as C,b as i,a as c,y as v,r as I,h as b,v as S}from"./index-DakgQwZZ.js";const y={props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(n,{emit:e}){const a=u();v("emitter");const t=I(!1);function s(){t.value=!0,a.deleteItem({TableID:"Contracts",RowsIDs:n.data?.contractID}).then(({result:o,error:r})=>{o==="SUCCESS"&&a.deleteItem({TableID:"Profiles",RowsIDs:n.data?.id}).then(({result:d,error:k})=>{d==="SUCCESS"&&e("modalClose")}),t.value=!1})}const l=o=>{o.key==="Enter"&&s()};return b(()=>{document.addEventListener("keyup",l)}),S(()=>{document.removeEventListener("keyup",l)}),{deleteContract:s,isLoading:t}}},D={class:"modal__body"};function g(n,e,a,t,s,l){const o=m,r=_;return C(),f("div",D,[i(o,{class:"modal__alert-icon"}),e[1]||(e[1]=c("div",{class:"modal__info"},[c("div",{class:"modal__alert-title"},"Вы действительно хотите удалить договор?")],-1)),i(r,{class:"modal__alert-button",onClick:e[0]||(e[0]=d=>t.deleteContract()),label:"УДАЛИТЬ","is-loading":t.isLoading},null,8,["is-loading"])])}const x=p(y,[["render",g],["__scopeId","data-v-15d87223"]]);export{x as default};
