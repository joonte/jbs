import{j as h,o as r,c,a as t,F as i,v as k,b as u,x as m,w as N,t as g,k as x,p as y,l as b,_ as D,r as w,g as f}from"./index-1c309346.js";import{u as P}from"./content-2a305c32.js";import{a as T,c as C}from"./useTimeFunction-8602dd60.js";import{E as I}from"./EmptyStateBlock-5a6a4cd4.js";import{F as V}from"./bootstrap-vue-next.es-b799f76d.js";const B=s=>(y("data-v-a5fe4df0"),s=s(),b(),s),L={class:"section"},F={class:"container"},E=B(()=>t("div",{class:"section-header"},[t("h1",{class:"section-title"},"Новости")],-1)),S={class:"news"},j={key:0,class:"news__item"},H={class:"news__item-name"},M={class:"news__item-date"},O=["innerHTML"];function U(s,o,l,a,p,n){const _=h("router-link"),d=V,v=I;return r(),c("div",L,[t("div",F,[E,a.getNews&&a.getNews.length>0?(r(),c(i,{key:0},[t("div",S,[(r(!0),c(i,null,k(a.getPaginatedData,e=>(r(),c(i,{key:e.index},[e!=null&&e.IsPublish?(r(),c("div",j,[u(_,{class:"news__item-link",to:`/News/${e==null?void 0:e.ID}`},{default:N(()=>[t("div",H,g(e==null?void 0:e.Title),1),t("div",M,g(a.formNormalTextDate(a.secondToDate(e==null?void 0:e.PublicDate))),1),t("div",{class:"news__item-text",innerHTML:e==null?void 0:e.Text},null,8,O)]),_:2},1032,["to"])])):x("",!0)],64))),128))]),u(d,{modelValue:a.currentPage,"onUpdate:modelValue":o[0]||(o[0]=e=>a.currentPage=e),"total-rows":a.getNews.length,"per-page":a.perPage,"first-number":"","last-number":""},null,8,["modelValue","total-rows","per-page"])],64)):(r(),m(v,{key:1,label:"Пока что нет добавленных новостей"}))])])}const q={async setup(){const s=P(),o=w(8),l=w(1),a=f(()=>{var n,_;return(_=(n=Object.keys(s==null?void 0:s.newsList))==null?void 0:n.map(d=>s==null?void 0:s.newsList[d]))==null?void 0:_.reverse()}),p=f(()=>{var n;return(n=a.value)==null?void 0:n.slice((l.value-1)*o.value,l.value*o.value)});return await s.fetchNews(),{perPage:o,currentPage:l,getNews:a,getPaginatedData:p,secondToDate:T,formNormalTextDate:C}}},Q=D(q,[["render",U],["__scopeId","data-v-a5fe4df0"]]);export{Q as default};
