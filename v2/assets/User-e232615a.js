import{_ as m,r as g,j as De,k as Ve,o as l,z as v,w,q as Ke,c as d,a as t,a7 as Me,b as r,l as M,t as U,ae as oe,n as ve,F as N,a8 as Re,d as $,y as Ce,p as ze,m as Ye,g as qe,u as Ge,U as Je,h as H,i as We}from"./index-aeb1df1e.js";import{s as Le}from"./multiselect-3fbc9d28.js";import{_ as Ae}from"./BasicInput-67b26a5e.js";import{I as Se}from"./IconUpload-c2348e3a.js";import{u as Xe}from"./files-3411050f.js";import{u as Qe}from"./globalActions-3944bebb.js";import{_ as xe}from"./ClausesKeeper-90c650cc.js";import{B as Ee}from"./BlockAuthEnter-167df62c.js";import{B as Ue}from"./BlockBalanceAgreement-906c1168.js";import{z as e1,d as t1,C as o1,f as n1}from"./bootstrap-vue-next.es-c6bcf011.js";import{I as s1}from"./IconSettings-09f9f59f.js";import{_ as l1}from"./HelperComponent-470cfccf.js";import{_ as i1}from"./IconArrow-a6c91ada.js";import{_ as a1}from"./IconCopy-9854d2c6.js";import{_ as c1}from"./ButtonDefault-11c4541b.js";import{_ as d1}from"./user-placeholder-54fd4a87.js";import"./component-60ac2998.js";import"./IconClose-c7c36336.js";const r1={components:{VueSelect:Le},props:{modelValue:{type:String,required:!0},placeholder:{type:String,default:"Select"},options:{type:Array,required:!0,default:()=>[]},taggable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(i,{emit:s}){const b=g(i.modelValue);return De(b,()=>{s("update:modelValue",b.value)}),De(i,()=>{b.value=i.modelValue}),{newValue:b}}};function _1(i,s,b,n,ne,se){const A=Ve("vue-select");return l(),v(A,{modelValue:n.newValue,"onUpdate:modelValue":s[0]||(s[0]=k=>n.newValue=k),"clear-on-select":!1,options:b.options,placeholder:b.placeholder,searchable:!0,taggable:b.taggable,label:"name","track-by":"value"},{default:w(()=>[Ke(i.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","options","placeholder","taggable"])}const f1=m(r1,[["render",_1],["__scopeId","data-v-f3c9e691"]]),h1=[{key:"Type",label:"Тип",variant:"td-gray"},{key:"Contact",label:"Контакт",variant:"td-gray"},{key:"Login",label:"Логин",variant:"td-gray"},{key:"Note",label:"Заметка",variant:"td-gray"},{key:"controls",label:"",variant:"td-controls"}],u1={},m1={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p1=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 6V18.5C19 19.8807 17.8807 21 16.5 21H7.5C6.11929 21 5 19.8807 5 18.5V6H4.5C4.22386 6 4 5.77614 4 5.5C4 5.22386 4.22386 5 4.5 5H9V4.5C9 3.67157 9.67157 3 10.5 3H13.5C14.3284 3 15 3.67157 15 4.5V5H19.5C19.7761 5 20 5.22386 20 5.5C20 5.77614 19.7761 6 19.5 6H19ZM6 6V18.5C6 19.3284 6.67157 20 7.5 20H16.5C17.3284 20 18 19.3284 18 18.5V6H6ZM14 4.5V5H10V4.5C10 4.22386 10.2239 4 10.5 4H13.5C13.7761 4 14 4.22386 14 4.5ZM14 9.5C14 9.22386 14.2239 9 14.5 9C14.7761 9 15 9.22386 15 9.5V16.5C15 16.7761 14.7761 17 14.5 17C14.2239 17 14 16.7761 14 16.5V9.5ZM9.5 9C9.22386 9 9 9.22386 9 9.5V16.5C9 16.7761 9.22386 17 9.5 17C9.77614 17 10 16.7761 10 16.5V9.5C10 9.22386 9.77614 9 9.5 9Z",fill:"#B92519"},null,-1),v1=[p1];function C1(i,s){return l(),d("svg",m1,v1)}const Te=m(u1,[["render",C1]]),g1={},w1={fill:"#A7A2A2",height:"19",viewBox:"0 0 19 19",width:"19",xmlns:"http://www.w3.org/2000/svg"},I1=t("path",{d:"M9.38319 18.0549C14.245 18.0549 18.2703 14.0209 18.2703 9.16787C18.2703 4.30609 14.2362 0.280762 9.37449 0.280762C4.52139 0.280762 0.496094 4.30609 0.496094 9.16787C0.496094 14.0209 4.53017 18.0549 9.38319 18.0549ZM9.37449 16.7306C7.37924 16.7306 5.35783 15.9116 4.02481 14.4914C4.96578 13.0103 7.01329 12.139 9.37449 12.139C11.7182 12.139 13.7832 12.9928 14.7329 14.4914C13.3911 15.9116 11.3784 16.7306 9.37449 16.7306ZM9.37449 10.6578C7.70162 10.6403 6.38601 9.24623 6.38601 7.373C6.37723 5.61302 7.71032 4.14926 9.37449 4.14926C11.0474 4.14926 12.363 5.61302 12.363 7.373C12.363 9.24623 11.0561 10.6752 9.37449 10.6578Z"},null,-1),b1=[I1];function y1(i,s){return l(),d("svg",w1,b1)}const Be=m(g1,[["render",y1]]),k1={},D1={fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg"},V1=Me('<g clip-path="url(#clip0_2792_12361)"><path d="M3.7338 17H14.2644C16.0876 17 16.9904 16.0971 16.9904 14.3086V3.70859C16.9904 1.92021 16.0876 1.01733 14.2644 1.01733H3.7338C1.91937 1.01733 1.00781 1.91153 1.00781 3.70859V14.3086C1.00781 16.1057 1.91937 17 3.7338 17Z" fill="#28A745"></path><path d="M4.76758 9.00436C4.76758 8.55291 5.08011 8.24038 5.53155 8.24038H8.24885V5.52308C8.24885 5.07164 8.55271 4.75043 8.99542 4.75043C9.44688 4.75043 9.75943 5.07164 9.75943 5.52308V8.24038H12.4854C12.9281 8.24038 13.2494 8.55291 13.2494 9.00436C13.2494 9.44707 12.9281 9.74229 12.4854 9.74229H9.75943V12.4683C9.75943 12.9197 9.44688 13.2322 8.99542 13.2322C8.55271 13.2322 8.24885 12.911 8.24885 12.4683V9.74229H5.53155C5.08011 9.74229 4.76758 9.44707 4.76758 9.00436Z" fill="white"></path></g><defs><clipPath id="clip0_2792_12361"><rect fill="white" height="16" transform="translate(1.00781 1)" width="15.9826"></rect></clipPath></defs>',2),M1=[V1];function L1(i,s){return l(),d("svg",D1,M1)}const Ze=m(k1,[["render",L1]]),A1={},S1={fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},x1=t("path",{d:"M0.333984 7.00004C0.333984 3.85734 0.333984 2.286 1.3103 1.30968C2.28661 0.333374 3.85795 0.333374 7.00065 0.333374C10.1433 0.333374 11.7147 0.333374 12.691 1.30968C13.6673 2.286 13.6673 3.85734 13.6673 7.00004C13.6673 10.1427 13.6673 11.7141 12.691 12.6904C11.7147 13.6667 10.1433 13.6667 7.00065 13.6667C3.85795 13.6667 2.28661 13.6667 1.3103 12.6904C0.333984 11.7141 0.333984 10.1427 0.333984 7.00004Z",fill:"#A7A2A2"},null,-1),E1=t("path",{d:"M4.19336 7.35092L5.94775 9.1053L9.80739 4.89478",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},null,-1),U1=[x1,E1];function T1(i,s){return l(),d("svg",S1,U1)}const Ne=m(A1,[["render",T1]]),B1={},Z1={fill:"none",height:"15",viewBox:"0 0 17 15",width:"17",xmlns:"http://www.w3.org/2000/svg"},N1=Me('<g clip-path="url(#clip0_2792_18607)"><path d="M1.94907 13.7348H15.5478C15.8979 13.7348 16.1843 13.4484 16.1843 13.0982C16.1843 12.7482 15.8979 12.4537 15.5478 12.4537H1.94907C1.59895 12.4537 1.3125 12.7482 1.3125 13.0982C1.3125 13.4484 1.59895 13.7348 1.94907 13.7348Z" fill="#A7A2A2"></path><path d="M3.86656 13.9418L14.2267 3.62143C15.0622 2.79389 15.0701 1.67989 14.2904 0.892141L14.0198 0.61364C13.248 -0.18207 12.126 -0.142284 11.2905 0.66934L0.954261 10.9897L0.102854 12.963C-0.342744 14.0213 0.739423 15.1353 1.81363 14.7216L3.86656 13.9418Z" fill="white"></path><path d="M3.26897 13.0028L11.9581 4.32962L10.5577 2.92917L1.87648 11.6024L1.1126 13.3768C1.04098 13.5678 1.23991 13.7906 1.43088 13.711L3.26897 13.0028ZM12.6504 3.6453L13.454 2.85755C13.8678 2.45174 13.8917 2.0141 13.5177 1.64807L13.2551 1.37753C12.8891 1.01946 12.4515 1.05129 12.0536 1.44914L11.242 2.24485L12.6504 3.6453Z" fill="#A7A2A2"></path></g><defs><clipPath id="clip0_2792_18607"><rect fill="white" height="14.81" width="16.1842"></rect></clipPath></defs>',2),H1=[N1];function $1(i,s){return l(),d("svg",Z1,H1)}const He=m(B1,[["render",$1]]),P1={},F1={fill:"none",height:"14",viewBox:"0 0 16 14",width:"16",xmlns:"http://www.w3.org/2000/svg"},O1=t("path",{d:"M13.6737 13.6C15.2161 13.6 15.9908 12.8399 15.9908 11.3124V2.30234C15.9908 0.774835 15.2161 0.0147705 13.6737 0.0147705H7.26116C6.39784 0.0147705 5.65251 0.236148 5.04741 0.878143L0.701029 5.39425C0.221377 5.88866 0 6.33142 0 6.79633C0 7.2538 0.213999 7.70397 0.701029 8.19835L5.05479 12.6923C5.66727 13.327 6.40521 13.5926 7.26859 13.5926L13.6737 13.6Z",fill:"#A7A2A2"},null,-1),j1=t("path",{d:"M6.87032 9.90301C6.53085 9.90301 6.25781 9.62998 6.25781 9.28314C6.25781 9.1208 6.32425 8.9732 6.43495 8.85514L8.48637 6.81108L6.43495 4.75965C6.32425 4.64158 6.25781 4.494 6.25781 4.33165C6.25781 3.9922 6.53085 3.72655 6.87032 3.72655C7.04002 3.72655 7.17283 3.79297 7.29089 3.90365L9.34975 5.95509L11.4233 3.89627C11.5487 3.77083 11.6816 3.71179 11.8439 3.71179C12.1834 3.71179 12.449 3.98482 12.449 4.31689C12.449 4.48662 12.4047 4.61944 12.2719 4.75227L10.2205 6.81108L12.2646 8.84777C12.39 8.96584 12.4416 9.11344 12.4416 9.28314C12.4416 9.62998 12.176 9.90301 11.8292 9.90301C11.6594 9.90301 11.5044 9.83658 11.3938 9.72588L9.34975 7.66709L7.31306 9.72588C7.19499 9.83658 7.04002 9.90301 6.87032 9.90301Z",fill:"white"},null,-1),K1=[O1,j1];function R1(i,s){return l(),d("svg",F1,K1)}const $e=m(P1,[["render",R1]]),z1={},Y1={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},q1=t("path",{"clip-rule":"evenodd",d:"M17.227 10.012c3.053.013 4.516.902 4.855 1.2 1.126.932 1.7 3.164 1.28 6.433-.365 2.855-2.345 3.301-3.06 3.463-.08.017-.144.032-.188.046-.189.06-1.938.479-4.137.34 0 0-1.639 1.912-2.15 2.409-.08.077-.174.108-.237.094-.087-.021-.111-.122-.111-.27l.014-2.61c-3.095-.832-3.023-3.881-2.982-5.612 0-.06.002-.118.004-.174.036-1.692.365-3.079 1.341-4.011 1.755-1.538 5.37-1.308 5.37-1.308Zm-.336 1.684c-.11 0-.2.085-.201.192 0 .107.088.194.198.194 1.088.008 1.987.354 2.71 1.036.718.677 1.091 1.609 1.1 2.82a.198.198 0 0 0 .202.192c.11 0 .2-.088.198-.194-.01-1.291-.41-2.33-1.22-3.094-.803-.757-1.803-1.138-2.987-1.146Zm.679 2.084a.198.198 0 0 0-.21.182.196.196 0 0 0 .189.203c.353.018.594.118.752.276.159.159.26.403.279.76a.197.197 0 0 0 .209.184.196.196 0 0 0 .19-.203c-.022-.416-.143-.762-.39-1.01-.25-.248-.599-.371-1.02-.392Zm-.38-1.021a.187.187 0 0 0-.19.183c0 .101.082.185.188.186.704.005 1.283.232 1.75.68.461.442.704 1.052.71 1.855 0 .101.085.184.19.183a.187.187 0 0 0 .188-.186c-.006-.878-.275-1.59-.823-2.116-.541-.519-1.217-.78-2.013-.785Zm.851 4.916c-.154.184-.441.16-.441.16-2.098-.517-2.659-2.571-2.659-2.571s-.025-.277.166-.427l.38-.291c.187-.14.307-.48.116-.812a8.585 8.585 0 0 0-.478-.724c-.167-.22-.556-.671-.557-.673-.188-.214-.463-.263-.754-.117h-.003a3.116 3.116 0 0 0-.78.612c-.179.21-.281.415-.307.617a.796.796 0 0 0 .036.352l.01.006c.09.31.317.829.81 1.692.281.5.606.975.97 1.422a7.7 7.7 0 0 0 .587.639l.007.007.015.015.067.064c.209.201.43.39.661.567.462.353.954.667 1.47.94.893.476 1.43.695 1.75.782l.007.01a.874.874 0 0 0 .364.035c.208-.024.42-.124.636-.298.002 0 .002-.001.003-.002l.003-.002a3.06 3.06 0 0 0 .627-.747v-.002l.001-.003c.151-.281.1-.548-.122-.73l-.05-.038c-.125-.1-.463-.37-.646-.5a8.926 8.926 0 0 0-.748-.462c-.344-.185-.694-.07-.84.113l-.3.366Z",fill:"#2992CD","fill-rule":"evenodd"},null,-1),G1=[q1];function J1(i,s){return l(),d("svg",Y1,G1)}const W1=m(z1,[["render",J1]]),X1={},Q1={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et=t("path",{d:"M22.25 21.0833V20.1232C22.25 19.6461 21.9596 19.2172 21.5166 19.04L20.33 18.5653C19.7667 18.34 19.1246 18.5841 18.8533 19.1268L18.75 19.3333C18.75 19.3333 17.2917 19.0417 16.125 17.875C14.9583 16.7083 14.6667 15.25 14.6667 15.25L14.8732 15.1467C15.4159 14.8754 15.66 14.2333 15.4346 13.67L14.96 12.4834C14.7828 12.0404 14.3539 11.75 13.8768 11.75H12.9167C12.2723 11.75 11.75 12.2723 11.75 12.9167C11.75 18.0713 15.9287 22.25 21.0833 22.25C21.7277 22.25 22.25 21.7277 22.25 21.0833Z",fill:"#2992CD"},null,-1),tt=[et];function ot(i,s){return l(),d("svg",Q1,tt)}const nt=m(X1,[["render",ot]]),st={},lt={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},it=t("path",{"clip-rule":"evenodd",d:"M17 10.438A6.57 6.57 0 0 0 10.437 17 6.57 6.57 0 0 0 17 23.563a6.526 6.526 0 0 0 3.697-1.142h.001l.15-.106-1.05-1.222-.122.076h-.001a4.93 4.93 0 0 1-2.675.786A4.961 4.961 0 0 1 12.045 17 4.961 4.961 0 0 1 17 12.045a4.961 4.961 0 0 1 4.84 6.019c-.075.3-.213.485-.361.592a.687.687 0 0 1-.88-.052c-.116-.112-.206-.288-.208-.558V17A3.395 3.395 0 0 0 17 13.609 3.395 3.395 0 0 0 13.609 17 3.395 3.395 0 0 0 17 20.391a3.36 3.36 0 0 0 2.277-.88 2.23 2.23 0 0 0 1.798.888c.5 0 .993-.167 1.39-.47a2.55 2.55 0 0 0 .882-1.294 4.698 4.698 0 0 0 .067-.247l.006-.024.001-.007.001-.003.001-.004.001-.005c.096-.42.139-.835.139-1.345A6.57 6.57 0 0 0 17 10.437Zm2.277 9.072c-.03-.038.027.042 0 0-.035.035.036-.032 0 0 .027.042-.029-.039 0 0 .037-.033-.035.036 0 0Zm2.563-1.448-.001.003v-.003ZM15.216 17c0-.984.8-1.784 1.784-1.784s1.784.8 1.784 1.784-.8 1.784-1.784 1.784-1.784-.8-1.784-1.784Z",fill:"#2992CD","fill-rule":"evenodd"},null,-1),at=[it];function ct(i,s){return l(),d("svg",lt,at)}const dt=m(st,[["render",ct]]),rt={},_t={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},ft=t("path",{d:"M22.081 12.132s1.133-.442 1.038.631c-.03.442-.314 1.989-.534 3.661l-.756 4.956s-.063.726-.63.852c-.566.126-1.416-.442-1.573-.568-.126-.095-2.361-1.515-3.148-2.21-.22-.19-.473-.568.031-1.01l3.305-3.156c.378-.379.756-1.262-.818-.19l-4.407 2.999s-.504.316-1.448.032l-2.046-.632s-.756-.473.535-.946c3.148-1.484 7.02-2.999 10.45-4.42h.001Z",fill:"#2992CD"},null,-1),ht=[ft];function ut(i,s){return l(),d("svg",_t,ht)}const mt=m(rt,[["render",ut]]),pt={},vt={fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg"},Ct=t("path",{"clip-rule":"evenodd",d:"M23.68 13.47c.096-.319 0-.553-.465-.553h-1.53c-.39 0-.57.202-.668.426 0 0-.778 1.864-1.881 3.075-.357.351-.52.463-.714.463-.098 0-.244-.112-.244-.431v-2.98c0-.383-.108-.553-.432-.553h-2.408c-.243 0-.39.177-.39.346 0 .362.552.446.609 1.466v2.215c0 .486-.09.574-.284.574-.52 0-1.782-1.873-2.532-4.016-.145-.417-.292-.585-.684-.585h-1.532c-.438 0-.525.202-.525.426 0 .397.52 2.374 2.418 4.988 1.266 1.785 3.048 2.752 4.671 2.752.974 0 1.094-.214 1.094-.585V19.15c0-.43.092-.516.4-.516.228 0 .617.112 1.526.973 1.038 1.02 1.21 1.477 1.794 1.477h1.531c.438 0 .657-.214.531-.639-.139-.422-.635-1.035-1.292-1.763-.357-.414-.893-.86-1.055-1.084-.227-.286-.162-.414 0-.669 0 0 1.867-2.582 2.061-3.458Z",fill:"#2992CD","fill-rule":"evenodd"},null,-1),gt=[Ct];function wt(i,s){return l(),d("svg",vt,gt)}const It=m(pt,[["render",wt]]),bt={},yt={fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg"},kt=t("path",{d:"M8.20376 17.9914H9.78765C10.2353 17.9914 10.5624 17.7245 10.6571 17.2855L11.1047 15.3917C11.4404 15.2798 11.7676 15.1506 12.0516 15.0129L13.7131 16.0287C14.0832 16.2611 14.505 16.2267 14.8149 15.9168L15.9254 14.8149C16.2353 14.505 16.2784 14.0574 16.0287 13.6872L15.0129 12.043C15.1592 11.7418 15.2884 11.4319 15.3831 11.1219L17.2941 10.6657C17.7331 10.571 17.9914 10.2439 17.9914 9.79624V8.23813C17.9914 7.79915 17.7331 7.47204 17.2941 7.37736L15.4003 6.9211C15.2884 6.56815 15.1506 6.24964 15.0301 5.98278L16.046 4.31277C16.287 3.94261 16.2611 3.52081 15.9426 3.2109L14.8149 2.10043C14.4964 1.80775 14.1177 1.75609 13.7389 1.9713L12.0516 3.01291C11.7761 2.86657 11.4577 2.73745 11.1047 2.62554L10.6571 0.705883C10.5624 0.266858 10.2353 0 9.78765 0H8.20376C7.7561 0 7.429 0.266858 7.32569 0.705883L6.87805 2.60832C6.54233 2.72023 6.21521 2.84936 5.92253 3.0043L4.25251 1.9713C3.87375 1.75609 3.48637 1.79914 3.16786 2.10043L2.04878 3.2109C1.73027 3.52081 1.69584 3.94261 1.94548 4.31277L2.95265 5.98278C2.84075 6.24964 2.70302 6.56815 2.5911 6.9211L0.697274 7.37736C0.258249 7.47204 0 7.79915 0 8.23813V9.79624C0 10.2439 0.258249 10.571 0.697274 10.6657L2.60832 11.1219C2.70302 11.4319 2.83214 11.7418 2.96987 12.043L1.9627 13.6872C1.70445 14.0574 1.75609 14.505 2.066 14.8149L3.16786 15.9168C3.47777 16.2267 3.90818 16.2611 4.27834 16.0287L5.93114 15.0129C6.22382 15.1506 6.54233 15.2798 6.87805 15.3917L7.32569 17.2855C7.429 17.7245 7.7561 17.9914 8.20376 17.9914ZM8.9957 12.0344C7.32569 12.0344 5.95696 10.6571 5.95696 8.98711C5.95696 7.32569 7.32569 5.95696 8.9957 5.95696C10.6657 5.95696 12.0344 7.32569 12.0344 8.98711C12.0344 10.6571 10.6657 12.0344 8.9957 12.0344Z",fill:"#A7A2A2"},null,-1),Dt=[kt];function Vt(i,s){return l(),d("svg",yt,Dt)}const Mt=m(bt,[["render",Vt]]),Lt={},At={fill:"#A7A2A2",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg"},St=t("path",{d:"M1.97587 12.952H14.0234C14.7378 12.952 15.1711 12.5871 15.1711 12.0323C15.1711 11.2722 14.3958 10.5881 13.7422 9.9116C13.2404 9.38719 13.1037 8.30783 13.0428 7.4337C12.9896 4.51496 12.2143 2.50831 10.1925 1.77862C9.90366 0.782896 9.12078 0 7.99582 0C6.87847 0 6.08798 0.782896 5.80674 1.77862C3.78489 2.50831 3.00959 4.51496 2.95639 7.4337C2.89558 8.30783 2.75876 9.38719 2.2571 9.9116C1.59582 10.5881 0.828125 11.2722 0.828125 12.0323C0.828125 12.5871 1.25378 12.952 1.97587 12.952ZM7.99582 16C9.28799 16 10.2305 15.0574 10.3293 13.9933H5.66992C5.76874 15.0574 6.71125 16 7.99582 16Z"},null,-1),xt=[St];function Et(i,s){return l(),d("svg",At,xt)}const Ut=m(Lt,[["render",Et]]),Tt={},Bt={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Zt=t("path",{d:"M10.5 14.7929L17.1464 8.14645C17.3417 7.95118 17.6583 7.95118 17.8536 8.14645C18.0488 8.34171 18.0488 8.65829 17.8536 8.85355L10.8536 15.8536C10.6583 16.0488 10.3417 16.0488 10.1464 15.8536L7.14645 12.8536C6.95118 12.6583 6.95118 12.3417 7.14645 12.1464C7.34171 11.9512 7.65829 11.9512 7.85355 12.1464L10.5 14.7929Z",fill:"white"},null,-1),Nt=[Zt];function Ht(i,s){return l(),d("svg",Bt,Nt)}const $t=m(Tt,[["render",Ht]]),Pt={},Ft={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ot=t("rect",{width:"18",height:"18",fill:"#F7F9FF"},null,-1),jt=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7869 1.56194C11.182 1.16685 11.768 1.16685 12.1631 1.56194L14.1881 3.58694C14.5831 3.98202 14.5831 4.56798 14.1881 4.96306L5.79175 13.3594H2.39062V9.95825L10.7869 1.56194ZM13.6989 4.275L11.475 2.05113L9.58863 3.9375L11.8125 6.16137L13.6989 4.275ZM11.2239 6.75L9 4.52613L3.23438 10.2918V12.5156H5.45825L11.2239 6.75Z",fill:"#57699B"},null,-1),Kt=t("path",{d:"M1.26562 15.6094V14.7656H16.7344V15.6094H1.26562Z",fill:"#57699B"},null,-1),Rt=[Ot,jt,Kt];function zt(i,s){return l(),d("svg",Ft,Rt)}const Yt=m(Pt,[["render",zt]]),qt={},Gt={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jt=t("path",{d:"M12 11.1515L16.9757 6.17574C17.2101 5.94142 17.59 5.94142 17.8243 6.17574C18.0586 6.41005 18.0586 6.78995 17.8243 7.02426L12.8485 12L17.8243 16.9757C18.0586 17.2101 18.0586 17.59 17.8243 17.8243C17.59 18.0586 17.2101 18.0586 16.9757 17.8243L12 12.8485L7.02426 17.8243C6.78995 18.0586 6.41005 18.0586 6.17574 17.8243C5.94142 17.59 5.94142 17.2101 6.17574 16.9757L11.1515 12L6.17574 7.02426C5.94142 6.78995 5.94142 6.41005 6.17574 6.17574C6.41005 5.94142 6.78995 5.94142 7.02426 6.17574L12 11.1515Z",fill:"#B92519"},null,-1),Wt=[Jt];function Xt(i,s){return l(),d("svg",Gt,Wt)}const Qt=m(qt,[["render",Xt]]),eo="/v2/assets/warning-polygon-2df7feaf.svg",u=i=>(ze("data-v-a1e32110"),i=i(),Ye(),i),to={class:"section"},oo={class:"container"},no={class:"section-header"},so=u(()=>t("h1",{class:"section-title"},"Профиль",-1)),lo={class:"btn__group none"},io={class:"profile"},ao={class:"profile-rows"},co={class:"profile-col"},ro={class:"profile-avatar img"},_o=["src"],fo={key:1,src:d1,alt:""},ho={class:"profile-avatar_upload"},uo=u(()=>t("span",null,"Удалить аватарку",-1)),mo={class:"profile-col col-max-width"},po={class:"profile-info"},vo={class:"profile-info__wrap-e"},Co={class:"profile-info__item top-edit"},go={class:"profile-info__item-top"},wo=u(()=>t("div",{class:"profile-info__item-label"},"ФИО",-1)),Io={key:0,class:"profile-info__item-value"},bo={class:"profile-info__item top-edit"},yo={class:"profile-info__item-top"},ko=u(()=>t("div",{class:"profile-info__item-label"},"Почта",-1)),Do={key:0,class:"profile-info__item-value"},Vo={class:"profile-info__item top-edit"},Mo={class:"profile-info__item-top"},Lo=u(()=>t("div",{class:"profile-info__item-label"},"Подпись",-1)),Ao={key:0,class:"profile-info__item-value"},So={class:"profile-info__item"},xo=u(()=>t("div",{class:"profile-info__item-label"},"Реферальная ссылка",-1)),Eo={class:"profile-info__item-value"},Uo={class:"profile-info__item"},To=u(()=>t("div",{class:"profile-info__item-title"},"Контактные данные",-1)),Bo=u(()=>t("span",{class:"td-mobile"},"Тип",-1)),Zo=["src","alt"],No=u(()=>t("span",{class:"td-mobile"},"Контакт",-1)),Ho={class:"type-contact"},$o=["onClick"],Po={class:"type-contact__btns"},Fo=u(()=>t("span",{class:"td-mobile"},"Логин",-1)),Oo={key:0,class:"btn btn--switch"},jo=["checked","onChange"],Ko=u(()=>t("span",{class:"btn-switch__toggle"},null,-1)),Ro=u(()=>t("span",{class:"td-mobile"},"Заметка",-1)),zo={class:"profile-info__note-wrapper"},Yo=u(()=>t("div",{class:"profile-info__note-label"},"Заметка",-1)),qo={class:"dropdown-button"},Go={class:"btn btn--dots"},Jo={class:"profile-add"},Wo={class:"profile-add__social"},Xo=["onClick"],Qo=["src","alt"],en={key:0,class:"profile-info__item none"},tn=u(()=>t("div",{class:"profile-info__item-label"},"Контактные данные",-1)),on={class:"profile-info__item-contacts"},nn={class:"profile-info__item-contacts-item"},sn={class:"profile-info__item-info-column"},ln={class:"profile-info__item-contacts-ico"},an={class:"profile-info__item-contacts-val"},cn={class:"profile-info__item-info-column"},dn=u(()=>t("div",{class:"profile-info__item-warning"},[t("img",{src:eo,alt:""}),$("не подтвержден")],-1)),rn={class:"profile-info__item-helper-column"},_n={class:"profile-info__note-wrapper"},fn=u(()=>t("div",{class:"profile-info__note-label"},"Заметка",-1)),hn={key:0,class:"profile-col"},un={class:"profile-info"},mn={class:"profile-info__wrap-e"},pn={class:"profile-info__item top-edit"},vn={class:"top-edit__icon"},Cn={class:"profile-info__item top-edit"},gn={class:"top-edit__icon"},wn={class:"profile-info__item top-edit"},In={class:"top-edit__icon"},bn=u(()=>t("div",{class:"profile-info__item none"},[t("div",{class:"profile-info__item-title"},"Новый контакт")],-1)),yn={class:"profile-info__wrap contact-item"},kn={class:"profile-info__item"},Dn={class:"profile-info__item wrap-item"},Vn={class:"profile-info__item"},Mn={class:"profile-info__wrap"},Ln=u(()=>t("div",{class:"profile-info__item none"},[t("div",{class:"profile-info__item-title"},"Контактные данные")],-1)),An={class:"profile-info__contact-label"},Sn={class:"profile-info__wrap edited-items"},xn={class:"profile-info__item profile-info__contact"},En={class:"profile-info__item"},Un=["onClick"],Tn={class:"profile-info__item mark"},Bn={class:"profile-info__note-wrapper"},Zn=u(()=>t("div",{class:"profile-info__note-label"},"Заметка",-1)),Nn={class:"profile-info__item"},Hn=["onClick"];function $n(i,s,b,n,ne,se){var J,I,W,X,Q;const A=Ue,k=c1,P=xe,F=Se,z=Qt,D=Ae,T=Yt,O=$t,le=a1,ie=Ut,ae=Be,j=i1,B=l1,y=Mt,ce=Ne,f=e1,S=He,L=$e,de=t1,re=o1,_e=Ze,Y=It,V=mt,K=dt,q=nt,G=W1,fe=Ve("Multiselect"),he=Ee,R=s1,ue=Te,me=n1;return l(),d("div",to,[r(A),t("div",oo,[t("div",no,[so,t("div",lo,[n.isEditMode?(l(),d("button",{key:0,class:"btn btn--blue btn-default static-button delete",onClick:s[0]||(s[0]=(...o)=>n.cancelEdit&&n.cancelEdit(...o))},"Отменить")):M("",!0),r(k,{class:"static-button","is-loading":n.isLoading,label:n.isEditMode?"Сохранить изменения":"Редактировать профиль",onClick:s[1]||(s[1]=o=>n.switchEdit().then(()=>n.stopEdit()))},null,8,["is-loading","label"])])]),r(P),t("div",io,[t("div",ao,[t("div",co,[t("div",ro,[n.getAvatarName?(l(),d("img",{key:0,src:n.formLink,alt:""},null,8,_o)):(l(),d("img",fo))]),t("label",ho,[t("input",{type:"file",onInput:s[2]||(s[2]=(...o)=>n.inputFile&&n.inputFile(...o)),title:" "},null,32),r(F),t("span",null,U(((J=n.file)==null?void 0:J.name)||"Загрузить аватарку"),1)]),n.formLink?(l(),d("label",{key:0,class:"profile-avatar_upload",onClick:s[3]||(s[3]=o=>n.deleteAvatar())},[r(z),uo])):M("",!0)]),t("div",mo,[t("div",po,[t("div",vo,[t("div",Co,[t("div",go,[wo,n.editing.name?(l(),v(D,{key:1,class:"profile-edit-input",name:"name",vertical:"",modelValue:n.editData.name,"onUpdate:modelValue":s[4]||(s[4]=o=>n.editData.name=o),onKeyup:s[5]||(s[5]=oe(o=>n.saveField("name"),["enter"]))},null,8,["modelValue"])):(l(),d("div",Io,U((I=n.getUserInfo)==null?void 0:I.Name),1))]),t("div",{class:ve(["top-edit__icon",n.editing.name?"editing":""]),onClick:s[7]||(s[7]=o=>n.toggleEdit("name"))},[n.editing.name?(l(),v(O,{key:1,onClick:s[6]||(s[6]=o=>n.saveField("name"))})):(l(),v(T,{key:0}))],2)]),t("div",bo,[t("div",yo,[ko,n.editing.email?(l(),v(D,{key:1,class:"profile-edit-input",name:"email",vertical:"",modelValue:n.editData.email,"onUpdate:modelValue":s[8]||(s[8]=o=>n.editData.email=o),onKeyup:s[9]||(s[9]=oe(o=>n.saveField("email"),["enter"]))},null,8,["modelValue"])):(l(),d("div",Do,U((W=n.getUserInfo)==null?void 0:W.Email),1))]),t("div",{class:ve(["top-edit__icon",n.editing.email?"editing":""]),onClick:s[11]||(s[11]=o=>n.toggleEdit("email"))},[n.editing.email?(l(),v(O,{key:1,onClick:s[10]||(s[10]=o=>n.saveField("email"))})):(l(),v(T,{key:0}))],2)]),t("div",Vo,[t("div",Mo,[Lo,n.editing.sign?(l(),v(D,{key:1,class:"profile-edit-input",name:"sign",vertical:"",modelValue:n.editData.sign,"onUpdate:modelValue":s[12]||(s[12]=o=>n.editData.sign=o),onKeyup:s[13]||(s[13]=oe(o=>n.saveField("sign"),["enter"]))},null,8,["modelValue"])):(l(),d("div",Ao,U((X=n.getUserInfo)==null?void 0:X.Sign),1))]),t("div",{class:ve(["top-edit__icon",n.editing.sign?"editing":""]),onClick:s[15]||(s[15]=o=>n.toggleEdit("sign"))},[n.editing.sign?(l(),v(O,{key:1,onClick:s[14]||(s[14]=o=>n.saveField("sign"))})):(l(),v(T,{key:0}))],2)])]),t("div",So,[xo,t("div",Eo,[t("div",{class:"profile-info__item-referral",ref:"message"},U(`http://www.host-food.ru/p/${(Q=n.getUserInfo)==null?void 0:Q.ID}/`),513),t("button",{class:"btn profile-info__item-referral_copy",onClick:s[16]||(s[16]=(...o)=>n.copyText&&n.copyText(...o))},[r(le)])])]),t("div",Uo,[To,n.getContacts&&n.getContacts.length>0?(l(),d(N,{key:0},[n.getContacts?(l(),v(re,{key:0,class:"basic-table","foot-clone":!1,fields:n.userTable,items:n.getContacts,"show-empty":!0,"empty-text":"Контактных данных пока нет.","empty-filtered-text":"Контактные данные не найдены."},{"cell(Type)":w(o=>{var _,C,x,ee,te;return[Bo,(x=(C=n.getConfigMethods)==null?void 0:C[(_=o.item)==null?void 0:_.MethodID])!=null&&x.IMG?(l(),d("img",{key:0,class:"method-icon",src:n.getConfigMethods[(ee=o.item)==null?void 0:ee.MethodID].IMG,alt:(te=o.item)==null?void 0:te.MethodID},null,8,Zo)):M("",!0)]}),"cell(Contact)":w(o=>{var _,C;return[No,t("div",Ho,[o.item.editing?(l(),d(N,{key:0},[r(D,{class:"edit-input",vertical:"",modelValue:o.item.editedAddress,"onUpdate:modelValue":x=>o.item.editedAddress=x,onKeyup:oe(x=>n.saveContact(o.item),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),t("button",{class:"save-btn",onClick:x=>n.saveContact(o.item)},"Сохранить",8,$o)],64)):(l(),d(N,{key:1},[t("span",null,U((_=o.item)==null?void 0:_.Address),1),t("div",Po,[r(ie,{class:"bell",onClick:x=>n.editContact(o.item)},null,8,["onClick"]),r(ae,{style:Re({fill:Number((C=o.item)==null?void 0:C.Confirmed)!==0?"#28A745":"#A7A2A2"})},null,8,["style"])])],64))])]}),"cell(Login)":w(o=>{var _;return[Fo,((_=o.item)==null?void 0:_.MethodID)==="Email"?(l(),d("label",Oo,[t("input",{type:"checkbox",checked:o.item&&o.item.IsPrimary,onChange:C=>n.handlePrimaryChange(o.item)},null,40,jo),Ko])):M("",!0)]}),"cell(Note)":w(o=>{var _,C;return[Ro,r(B,{"user-notice":(_=o.item)==null?void 0:_.UserNotice,id:(C=o.item)==null?void 0:C.ID,noteTable:"Contacts",emit:"updateContacts"},{default:w(()=>[t("div",zo,[Yo,r(j,{class:"profile-info__note-icon"})])]),_:2},1032,["user-notice","id"])]}),"cell(controls)":w(o=>[t("div",qo,[r(de,{class:"dropdown-dots",right:""},{"button-content":w(()=>[t("div",Go,[r(y)])]),default:w(()=>[r(f,{onClick:_=>n.openConfirmationModal(o.item)},{default:w(()=>[r(ce),$("Подтвердить")]),_:2},1032,["onClick"]),r(f,{onClick:_=>n.startEditing(o.item)},{default:w(()=>[r(S),$("Редактировать")]),_:2},1032,["onClick"]),r(f,{onClick:_=>n.deleteContact(o.item.ID)},{default:w(()=>[r(L),$("Удалить")]),_:2},1032,["onClick"])]),_:2},1024)])]),_:1},8,["fields","items"])):M("",!0)],64)):M("",!0),t("div",Jo,[t("div",{class:"profile-add__new",onClick:s[17]||(s[17]=(...o)=>n.addNewContact&&n.addNewContact(...o))},[r(_e),$("Добавить контакт")]),t("div",Wo,[(l(!0),d(N,null,Ce(n.OAUTH_TYPES,(o,_)=>(l(),d("div",{class:"profile-add__social-item oauth__icon",onClick:C=>n.authorizeWith(o.OauthURL)},[o.IMG?(l(),d("img",{key:0,class:"oauth-icon-img",src:o.IMG,alt:o.Name},null,8,Qo)):M("",!0),$(U(o.Name),1)],8,Xo))),256))])])]),n.getContacts&&n.getContacts.length>0?(l(),d("div",en,[tn,t("div",on,[(l(!0),d(N,null,Ce(n.getContacts,o=>(l(),d("div",nn,[t("div",sn,[t("div",ln,[(o==null?void 0:o.MethodID)==="VKontakte"?(l(),v(Y,{key:0})):(o==null?void 0:o.MethodID)==="Telegram"?(l(),v(V,{key:1})):(o==null?void 0:o.MethodID)==="Email"?(l(),v(K,{key:2})):(o==null?void 0:o.MethodID)==="SMS"?(l(),v(q,{key:3})):(l(),v(G,{key:4}))]),t("div",an,U(o==null?void 0:o.Address),1)]),t("div",cn,[!((o==null?void 0:o.Confirmed)>0)||(o==null?void 0:o.MethodID)==="SMS"&&n.isOneYearPassed(o==null?void 0:o.Confirmed)?(l(),d(N,{key:0},[dn,r(k,{class:"profile-info__button",label:"ПОДТВЕРДИТЬ",onClick:_=>n.openConfirmationModal(o)},null,8,["onClick"])],64)):M("",!0),t("div",rn,[o.UserNotice?(l(),v(B,{key:0,"user-notice":o.UserNotice,id:o.ID,noteTable:"Contacts",emit:"updateContacts"},{default:w(()=>[t("div",_n,[fn,r(j,{class:"profile-info__note-icon"})])]),_:2},1032,["user-notice","id"])):M("",!0)])])]))),256))])])):M("",!0)])]),n.isEditMode?(l(),d("div",hn,[t("div",un,[t("div",mn,[t("div",pn,[r(D,{label:"ФИО",name:"name",placeholder:"Крылов Евгений",vertical:"",modelValue:n.formData.Name,"onUpdate:modelValue":s[18]||(s[18]=o=>n.formData.Name=o)},null,8,["modelValue"]),t("div",vn,[r(T)])]),t("div",Cn,[r(D,{label:"Почта",name:"email",placeholder:"hosting@nopreset.ru",vertical:"",disabled:"",modelValue:n.formData.Email,"onUpdate:modelValue":s[19]||(s[19]=o=>n.formData.Email=o)},null,8,["modelValue"]),t("div",gn,[r(T)])]),t("div",wn,[r(D,{label:"Подпись",name:"name",placeholder:"С уважением, Евгений Крылов",vertical:"",modelValue:n.formData.Sign,"onUpdate:modelValue":s[20]||(s[20]=o=>n.formData.Sign=o)},null,8,["modelValue"]),t("div",In,[r(T)])])]),bn,t("div",yn,[t("div",kn,[r(fe,{modelValue:n.select,"onUpdate:modelValue":s[21]||(s[21]=o=>n.select=o),options:n.activeContactOptions,disabled:n.activeContactOptions.length<=1,label:"name",placeholder:"Тип адреса"},null,8,["modelValue","options","disabled"])]),t("div",Dn,[r(D,{name:"name",placeholder:n.getPlaceholderText(n.select),vertical:"",modelValue:n.newContactValue,"onUpdate:modelValue":s[22]||(s[22]=o=>n.newContactValue=o),title:n.getTitleText(n.select)},null,8,["placeholder","modelValue","title"])]),t("div",Vn,[r(k,{class:"profile-info__add-button",label:"Добавить контакт",onClick:n.addContact},null,8,["onClick"])])]),t("div",Mn,[r(he,{label:"Добавить контакт с помощью"})])]),Ln,(l(!0),d(N,null,Ce(n.getContacts,(o,_)=>(l(),d(N,{key:_},[t("div",An,U(o==null?void 0:o.MethodID),1),t("div",Sn,[t("div",xn,[r(D,{name:i.name,disabled:"",modelValue:n.formContactsData[_].Address,"onUpdate:modelValue":C=>n.formContactsData[_].Address=C,vertical:""},null,8,["name","modelValue","onUpdate:modelValue"])]),t("div",En,[t("div",{class:"profile-info__item-settings",onClick:C=>n.editContact(o)},[r(R),$("Настройки")],8,Un)]),t("div",Tn,[r(B,{"user-notice":o.UserNotice,id:o.ID,noteTable:"Contacts",emit:"updateContacts"},{default:w(()=>[t("div",Bn,[Zn,r(j,{class:"profile-info__note-icon"})])]),_:2},1032,["user-notice","id"])]),t("div",Nn,[t("a",{class:"profile-info__item-close",onClick:C=>n.closeContact(_)},[r(ue)],8,Hn)])])],64))),128)),r(me,{id:"checkbox-1",modelValue:n.IsClear,"onUpdate:modelValue":s[23]||(s[23]=o=>n.IsClear=o),name:"checkbox-1",value:!0,"unchecked-value":!1},{default:w(()=>[$("Удалить аватарку")]),_:1},8,["modelValue"])])):M("",!0)])])])])}const Pn={components:{IconSetDelete:$e,IconSetEdit:He,IconSetAccept:Ne,IconNewContact:Ze,IconTypePerson:Be,IconTrash:Te,IconUpload:Se,BasicInput:Ae,ClausesKeeper:xe,Multiselect:Le,SelectComponent:f1,BlockBalanceAgreement:Ue,BlockAuthEnter:Ee},async setup(){var Ie,be,ye;const i=qe(),s=Xe(),b=Ge(),n=Qe(),ne=g(null),se=g(""),A=Je("emitter");A.on("updateContacts",()=>{i.fetchUserData().then(()=>{I()})});const k=g(!1),P=g(null),F=g(!1),z=g(!1),D=g(!1),T=new Date("2023-01-01").getTime(),O=e=>{e.editing=!0,e.editedAddress=e.Address},le=async e=>{const a=!e.IsPrimary,c=e.IsPrimary;e.IsPrimary=a;try{const h={MethodID:e==null?void 0:e.MethodID,Address:e==null?void 0:e.Address,TimeBegin:e==null?void 0:e.TimeBegin,TimeEnd:e==null?void 0:e.TimeEnd,IsActive:e==null?void 0:e.IsActive,IsPrimary:a?"yes":void 0,ContactID:e==null?void 0:e.ID};if((await i.userEditContact(h)).response!=="SUCCESS")throw new Error("Update failed");await i.fetchUserData(),I(),e.editing=!1}catch(h){e.IsPrimary=c,console.error("Update failed:",h)}},ie=e=>{e.Address=e.editedAddress;const a={MethodID:e==null?void 0:e.MethodID,Address:e==null?void 0:e.Address,TimeBegin:e==null?void 0:e.TimeBegin,TimeEnd:e==null?void 0:e.TimeEnd,IsActive:e==null?void 0:e.IsActive,ContactID:e==null?void 0:e.ID};i.userEditContact(a).then(c=>{c.response==="SUCCESS"&&(i.fetchUserData().then(()=>{I()}),e.editing=!1)})},ae=e=>{O(e)},j=H(()=>i.authorizationTypes),B=H(()=>{var e,a;return(a=(e=b.ConfigList)==null?void 0:e.Notifies)==null?void 0:a.Methods}),y=H(()=>{var e,a;return(a=(e=b.ConfigList)==null?void 0:e.Messages)==null?void 0:a.Prompts}),ce=H(()=>{var e;return`/UserFoto?UserID=${(e=f.value)==null?void 0:e.ID}?${P.value}`}),f=H(()=>i.userInfo),S=g({name:!1,email:!1,sign:!1}),L=g({name:((Ie=f.value)==null?void 0:Ie.Name)||"",email:((be=f.value)==null?void 0:be.Email)||"",sign:((ye=f.value)==null?void 0:ye.Sign)||""}),de=e=>{var a;if(Object.keys(S.value).forEach(c=>{S.value[c]=!1}),S.value[e]=!S.value[e],S.value[e]){const c=e.charAt(0).toUpperCase()+e.slice(1);L.value[e]=((a=f.value)==null?void 0:a[c])||""}},re=async e=>{try{const a={Name:L.value.name,Email:L.value.email,Sign:L.value.sign};await i.UserPersonalDataChange(a).then(()=>i.fetchUserData()).then(()=>{I(),S.value[e]=!1})}catch(a){console.error("Ошибка при сохранении:",a)}},_e=H(()=>{var e,a,c,h,p;return(p=(h=(e=f.value)==null?void 0:e.Files)==null?void 0:h[(c=Object.keys((a=f.value)==null?void 0:a.Files))==null?void 0:c[0]])==null?void 0:p.Name}),Y=H(()=>{var e;return Object.keys((e=f.value)==null?void 0:e.Contacts).map(a=>{var c,h,p,E,Z;if(!((p=(h=(c=f.value)==null?void 0:c.Contacts)==null?void 0:h[a])!=null&&p.IsHidden))return(Z=(E=f.value)==null?void 0:E.Contacts)==null?void 0:Z[a]}).filter(Boolean)}),V=g(null),K=g({Name:"",Sign:""}),q=g(""),G=g(""),fe=g([]),he=H(()=>Object.keys(B.value).filter(e=>B.value[e].IsActive==="1").map(e=>({name:B.value[e].Name,value:e}))),R=g({}),ue=e=>{switch(e){case"Email":const a=y.value.Email,c=/<B>Например:<\/B>\s*([^<]+)/,h=a.match(c);return h&&h[1]?`${h[1]}`:a;case"SMS":const p=y.value.SMS,E=/<B>Например:<\/B>\s*([^<]+)/,Z=p.match(E);return Z&&Z[1]?`${Z[1]}`:p;case"Jabber":const ke=y.value.Jabber,je=/<B>Например:<\/B>\s*([^<]+)/,pe=ke.match(je);return pe&&pe[1]?`${pe[1]}`:ke;default:return"Ссылка или id"}},me=e=>{switch(e){case"Email":return y.value.Email;case"SMS":return y.value.SMS;case"Jabber":return y.value.Jabber;case"Telegram":return y.value.Telegram;case"Viber":return y.value.Viber;case"VKontakte":return y.value.VKontakte;default:return"Ссылка или id"}};function J(e){const a=new Date(parseInt(e)*1e3),c=new Date,h=new Date(c.setFullYear(c.getFullYear()-1));return a<h}function I(){let e={};Y.value.forEach((a,c)=>{e[c]={...a,oldValue:a.Address}}),R.value=e,W()}function W(){var e,a,c;K.value={Name:(e=f.value)==null?void 0:e.Name,Email:(a=f.value)==null?void 0:a.Email,Sign:(c=f.value)==null?void 0:c.Sign}}I();function X(){const e={MethodID:q.value,Address:G.value,TimeBegin:"00",TimeEnd:"00",IsActive:"yes",ContactID:"0"};i.userEditContact(e).then(a=>{a.response==="SUCCESS"&&(i.fetchUserData().then(()=>{I()}),we())})}const Q=async e=>{const{result:a,error:c}=await n.deleteItem({TableID:"Contacts",RowsIDs:e});a==="SUCCESS"?(i.removeContact(e),i.fetchUserData().then(()=>{I()})):console.error("Error deleting contact on server:",c)},o=async e=>{var p;const a=(p=Y.value[e])==null?void 0:p.ID,{result:c,error:h}=await n.deleteItem({TableID:"Contacts",RowsIDs:a});console.log(c),c==="SUCCESS"||c==="Ok"?(i.removeContact(a),i.fetchUserData().then(()=>{I()})):console.error("Error deleting contact on server:",h)};We(()=>{i.OAuth(),console.log(j,"types")});function _(e){window.open(e,"_self").focus()}async function C(){var e;if(z.value=!0,k.value){for(const a of Object.keys(R.value)){let c=(e=R.value)==null?void 0:e[a];c.Address!==c.oldValue&&await i.userEditContact({MethodID:c.MethodID,Address:c.Address,TimeBegin:"00",TimeEnd:"00",IsActive:"yes",IsImmediately:"yes",IsSendFiles:"yes",ContactID:c.ID}).then(({responseText:h,response:p})=>{p==="SUCCESS"&&n.deleteItem({TableID:"Contacts",RowsIDs:c.ID})})}V.value?await s.sendFile(V.value).then(a=>{i.UserPersonalDataChange({...K.value,IsClear:F.value?"yes":"","UserFoto[]":a.slice(a.lastIndexOf("^")+1,a.length)}).then(()=>{i.fetchUserData().then(()=>{ge(),P.value=new Date().getMilliseconds()})})}):await i.UserPersonalDataChange({...K.value,IsClear:F.value?"yes":""}).then(()=>{i.fetchUserData().then(()=>{V.value=null,I()})})}}function x(){A.emit("open-modal",{component:"CreateContact"})}function ee(){var e;navigator.clipboard.writeText(`http://www.host-food.ru/p/${(e=f.value)==null?void 0:e.ID}/`)}function te(e){i.confirmContact({Method:e.MethodID,Value:e.Address,ContactID:e.ID,XMLHttpRequest:"yes"}).then(a=>{var c;((c=a==null?void 0:a.data)==null?void 0:c.Status)==="Ok"&&A.emit("open-modal",{component:"ConfirmContact",data:{Method:e.MethodID,Value:e.Address,ContactID:e.ID}})})}async function Pe(e){var a,c,h,p;if(V.value=(a=e.target.files)==null?void 0:a[0],V.value)try{const E=await s.sendFile(V.value),Z={Name:((c=f.value)==null?void 0:c.Name)||"",Email:((h=f.value)==null?void 0:h.Email)||"",Sign:((p=f.value)==null?void 0:p.Sign)||"",IsClear:"","UserFoto[]":E.slice(E.lastIndexOf("^")+1)};await i.UserPersonalDataChange(Z),await i.fetchUserData(),P.value=new Date().getMilliseconds()}catch(E){console.error("Error uploading avatar:",E)}}async function Fe(){const e={Name:L.value.name,Email:L.value.email,Sign:L.value.sign};await i.UserPersonalDataChange({...e,IsClear:"yes"}).then(()=>{i.fetchUserData().then(()=>{V.value=null,I()})})}function Oe(e){e!=null&&e.IsActive||e!=null&&e.confirmed?A.emit("open-modal",{component:"EditContact",data:e}):A.emit("open-error-modal",{component:"ExclusionWindow",data:{message:{String:'Уведомления для этого адреса отключены. Для включения уведомлений подтвердите адрес и поставьте галочку "Использовать для уведомлений"'}}})}function ge(){k.value=!1,V.value=null,F.value=!1,I()}function we(){k.value=!k.value,z.value=!1}return{formLink:ce,file:V,isLoading:z,getAvatarName:_e,getUserInfo:f,getContacts:Y,isEditMode:k,formData:K,formContactsData:R,randomSuf:P,IsClear:F,getConfigMethods:B,getConfigPrompts:y,getPlaceholderText:ue,getTitleText:me,stopEdit:we,switchEdit:C,copyText:ee,inputFile:Pe,cancelEdit:ge,editContact:Oe,openConfirmationModal:te,select:q,activeContactOptions:he,addContact:X,newContactValue:G,closeContact:o,contactsData:fe,selectedContact:ne,selectedContactAddress:se,dateLimit:T,isOneYearPassed:J,authorizeWith:_,userTable:h1,_is_input_active:D,addNewContact:x,startEditing:O,saveContact:ie,editContactTable:ae,deleteContact:Q,handlePrimaryChange:le,editData:L,toggleEdit:de,saveField:re,editing:S,deleteAvatar:Fe,OAUTH_TYPES:j}}},ls=m(Pn,[["render",$n],["__scopeId","data-v-a1e32110"]]);export{ls as default};
