import{_ as E}from"./EmptyStateBlock-CV1Zaaf7.js";import{u as y,n as U}from"./bootstrap-vue-next-CxxkTytZ.js";import{_ as w}from"./ServiceListOrderSelection-D6_D29T7.js";import{_ as x}from"./ClausesKeeper-DEgaQ2N3.js";import{u as B}from"./services-izfy4zss.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as D,f as S,m as I,h as O,c as V,o as c,b as k,D as d,w as b,F as $,j as R}from"./index-XtiBO-PZ.js";const j={class:"tw-mt-8"},P={__name:"BlockAdditionalServices",props:["serviceSearchParams"],emits:["update:modelValue"],setup(h,{emit:L}){const s=B(),l=h,N=L,n=D({}),i=D({}),v=S(()=>s?.ServicesList?Object.keys(s.ServicesList).map(e=>({...s.ServicesList[e],value:s.ServicesList[e]?.ID})).filter(e=>{const a=e?.ServicesGroupID!=="1000",u=e?.IsActive,_=!e?.IsHidden,p=Number(e?.ID)>=5e4,m=s.DependServicesList?.includes(e?.ID);return a&&u&&_&&p&&m}).sort((e,a)=>Number(e?.SortID)<Number(a?.SortID)?-1:Number(e?.SortID)>Number(a?.SortID)?1:0):[]),f=S(()=>n.value?Object.keys(n.value).map(e=>n.value[e]?i.value[e]:null).filter(Boolean):[]);function g(t,e){i.value[e]=t}function A(t){n.value[t]=!n.value[t]}return I(f,(t,e)=>{N("update:modelValue",f.value)}),I(()=>l.serviceSearchParams,t=>{t&&s.fetchDependServices(t)},{deep:!0}),O(()=>{l.serviceSearchParams&&s.fetchDependServices(l.serviceSearchParams)}),(t,e)=>{const a=x,u=w,_=y,p=U,m=E;return c(),V("div",j,[k(a),v.value?(c(),d(p,{key:0,class:"services__list"},{default:b(()=>[(c(!0),V($,null,R(v.value,(o,F)=>(c(),d(_,{class:"profile-notification__collapse",key:o.ID,title:o?.Name,modelValue:n.value[o.ID],"onUpdate:modelValue":r=>n.value[o.ID]=r,onClick:r=>A(o.ID)},{default:b(()=>[k(u,{sectionID:o.ID,sectionData:o,modelValue:i.value[o.ID],"onUpdate:modelValue":r=>i.value[o.ID]=r,"update-with-page-transition":!1,"is-inline":"",onUpdateList:r=>g(r,o.ID)},null,8,["sectionID","sectionData","modelValue","onUpdate:modelValue","onUpdateList"])]),_:2},1032,["title","modelValue","onUpdate:modelValue","onClick"]))),128))]),_:1})):(c(),d(m,{key:1,label:"Дополнительные услуги не найденыы"}))])}}},K=C(P,[["__scopeId","data-v-ea085f15"]]);export{K as _};
