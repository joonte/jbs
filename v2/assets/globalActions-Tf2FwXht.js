import{aj as C,ak as n,al as i,W as o}from"./index-XtiBO-PZ.js";const p=C("delete",()=>{async function u(r){let t="ERROR",a=null;return await n.post(i.delete,{...r}).then(e=>{e?.data?.Status==="Exception"?a=e?.data?.Exception:(t="SUCCESS",console.log(t))}),{result:t,error:a}}async function s(r){let t="ERROR",a=null;return await n.post(i.OrdersTransfer,{...r}).then(e=>{e?.data?.Status==="Exception"?a=e?.data?.Exception:t="SUCCESS"}),{result:t,error:a}}async function c(r){let t="ERROR",a=null;return await n.post(i.OrderManage,{...r}).then(e=>{e?.data?.Status==="Exception"?a=e?.data?.Exception:(t="SUCCESS",window.open(e?.data?.Url,"_blank"))}),{result:t,error:a}}async function S(r){let t="ERROR",a=null;return await n.post(i.OrderManage,{...r}).then(e=>{if(e?.data?.Status==="Ok"){const d=window.open("","_blank");let l=`<html>
                            <head><title>Управление заказом</title></head>
                            <body>
                              <form id="OrderManageForm" action="${e.data.Url}" method="post">`;Object.entries(e.data.Args||{}).forEach(([m,y])=>{l+=`<input type="hidden" name="${m}" value="${y}">`}),l+=`</form>
                          <script>
                            document.getElementById('OrderManageForm').submit();
                          <\/script>
                        </body>
                        </html>`,d.document.write(l),d.document.close(),t="SUCCESS"}else e?.data?.Status==="Exception"?a=e?.data?.Exception:a="Неизвестный статус ответа"}).catch(e=>{a=e}),{result:t,error:a}}async function R(r){let t="ERROR",a=null;return await n.post(i.OrderChangePassword,{...r}).then(e=>{e?.data?.Status==="Ok"&&(t="SUCCESS")}),{result:t,error:a}}async function f(r){let t="ERROR",a=null;return await n.post(i.OrderRestore,{...r}).then(e=>{e?.data?.Status==="Ok"&&(t="SUCCESS")}),{result:t,error:a}}async function E(r){let t="ERROR";return await n.get(o+i.Discount+r).then(a=>{a?.data&&(t=a?.data)}),t}async function O(){let r="ERROR";return await n.get(o+i.Generator).then(t=>{t?.data&&(r=t?.data)}),r}async function h(r){let t="ERROR";return await n.post(i.NoticeEdit,r).then(a=>{a?.data?.Status==="Ok"&&(t="SUCCESS")}),t}async function w(r){let t="ERROR";return await n.post(`${o}/API/OrdersPay`,r).then(a=>{a?.data?.Status==="Url"&&a?.data?.Location==="/Basket"&&(t="Basket"),a?.data?.Status==="Ok"&&(t=a?.data)}),t}return{deleteItem:u,OrdersTransfer:s,OrderChangePassword:R,OrderRestore:f,OrderManage:c,fetchDiscount:E,NoticeEdit:h,OrderManageHosting:S,fetchPassword:O,OrdersPay:w}});export{p as u};
