import{_ as v}from"./IconClose-Dia1noy8.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as h,m as k,o as n,c as u,a as d,b as x,t as $,h as m,n as g,al as w,am as D,an as L,i as S,u as I,f as b,F as B,g as A,C as H}from"./index-Codq73aV.js";const N={key:0},T={key:0,class:"notify-title"},V=["innerHTML"],j={__name:"AlertComponent",props:{show:{type:Boolean,default:!1},notify:{type:Object,default:()=>({})}},emits:["close"],setup(e,{emit:a}){const o=e,c=a,l=h(o.show);k(()=>o.show,i=>{l.value=i});function r(){l.value=!1,c("close")}return(i,f)=>{const p=v;return l.value?(n(),u("div",N,[d("div",{class:g(["notify","notify--"+e.notify.class])},[d("button",{class:"notify-close",onClick:f[0]||(f[0]=t=>r())},[x(p)]),e.notify?.title?(n(),u("div",T,$(e.notify.title),1)):m("",!0),e.notify?.text?(n(),u("p",{key:1,innerHTML:e.notify.text},null,8,V)):m("",!0)],2)])):m("",!0)}}},E=C(j,[["__scopeId","data-v-10d601f0"]]),F=w("clauses",()=>{const e=h();async function a(){if(e.value)return;const o=await D.post(L.clauses);e.value=o.data}return{clausesList:e,fetchClauses:a}}),M={key:0,class:"clauses-keeper"},K={__name:"ClausesKeeper",props:{partition:{type:String,default:null}},setup(e){const a=e,o=S(),c=F(),l=I(),r=b(()=>{if(!c.clausesList)return[];let t=[];for(const s of Object.values(c.clausesList))!i(s)&&s.Partition===(a.partition||`Header:${o.fullPath}`)&&t.push(s);return t});c.fetchClauses();function i(t){return!!document.cookie.match(RegExp(`(?:^|;\\s*)${p(t)}=([^;]*)`))}function f(t){let s=new Date;s.setDate(7+s.getDate()),document.cookie=`${p(t)}=hidden; path=/; expires=${s}`}function p(t){return`clause_${l.userInfo?.ID}_${t?.ID}`}return(t,s)=>{const y=E;return r.value.length>0?(n(),u("div",M,[(n(!0),u(B,null,A(r.value,_=>(n(),H(y,{key:_.ID,class:"clauses-alert",notify:{text:_?.Text,class:"basic"},show:!0,onClose:O=>f(_)},null,8,["notify","onClose"]))),128))])):m("",!0)}}};export{K as _};
