import{j as z,o as g,c as v,a as t,t as c,b as r,w as G,d as H,x as J,k,Y as K,Z as Q,p as X,l as $,_ as tt,a6 as st,f as et,e as ot,R as it,r as nt,g as S}from"./index-ed1f28f8.js";import{u as at}from"./domain-0e22d159.js";import{f as lt,a as ct}from"./useTimeFunction-8602dd60.js";import{_ as rt}from"./IconCard-ec16e358.js";import{I as _t}from"./IconProfile-af74631a.js";import{I as dt}from"./IconSettings-a1819da5.js";import{I as mt}from"./IconEye-ffe92e5b.js";import{S as q}from"./StatusBadge-2304b071.js";import"./component2-08856ab6.js";import{E as gt}from"./EmptyStateBlock-dbc11827.js";import{_ as ut}from"./ServicesContractBalanceBlock-dd87b12d.js";import{_ as Dt}from"./ButtonDefault-a8aacc82.js";import{_ as ht}from"./ClausesKeeper-9aa8ead7.js";import"./contracts-cedf6a91.js";import"./IconClose-a1e58263.js";const vt={Waiting:{id:1,label:"Ожидание оплаты",color:"#459FD1",background:"#ADC1F04C"},ClaimForRegister:{id:2,label:"Заявка на регистрацию",color:"#FFC107",background:"#FFC10733"},ForContractRegister:{id:3,label:"Для регистрации договора",color:"#FFC107",background:"#FFC10733"},OnContractRegister:{id:4,label:"На регистрации договора",color:"#FFC107",background:"#FFC10733"}},l=_=>(X("data-v-8efee0e9"),_=_(),$(),_),It={key:0,class:"section"},bt={class:"container"},ft={class:"section-header"},pt={class:"section-title"},wt={class:"section-label"},kt={class:"section-nav"},St={class:"list"},Ct={class:"list-col list-col--md"},Ot={class:"list-item"},Ft={class:"list-item__row"},yt={class:"list-item__title"},Pt={class:"list-item__status"},xt={class:"list-item__row"},Rt={class:"list-item__ul"},Nt={key:0},At={class:"list-item__row list-item__row--column"},Bt={key:0,class:"list-item__text"},Tt={class:"list-item__row"},Vt={class:"btn btn--border btn--switch"},Wt=l(()=>t("span",{class:"btn-switch__text"},"Автопродление",-1)),Ut=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),Et={class:"list-col list-col--md"},jt={class:"list-item"},Lt={class:"list-item__row list-item__row--nowrap"},Mt=l(()=>t("div",{class:"list-item__title"},"Именные сервера",-1)),Yt={class:"list-item__row list-item__row--table"},Zt=l(()=>t("div",{class:"list-item__item"},"Первичный сервер",-1)),qt={class:"list-item__item"},zt={class:"list-item__row list-item__row--table"},Gt=l(()=>t("div",{class:"list-item__item"},"Вторичный сервер",-1)),Ht={class:"list-item__item"},Jt={class:"list-col list-col--md"},Kt={class:"list-item"},Qt=l(()=>t("div",{class:"list-item__row"},[t("div",{class:"list-item__title"},"Контактные данные")],-1)),Xt={class:"list-item__row list-item__row--table"},$t=l(()=>t("div",{class:"list-item__item"},"Скрыть данные в WhoIs",-1)),ts={class:"btn btn--switch"},ss=["checked"],es=l(()=>t("span",{class:"btn-switch__toggle"},null,-1)),os={class:"list-item__row list-item__row--table"},is=l(()=>t("div",{class:"list-item__item"},"Последнее обновление адрес",-1)),ns={class:"list-item__item"},as={key:1,class:"section"},ls={class:"container"};function cs(_,o,n,s,I,u){var D,h,e,a,C,O,F,y,P,x,R,N,A,B,T,V,W,U,E,j,L,M,Y,Z;const i=z("router-link"),b=ht,d=Dt,f=ut,p=q,w=gt;return(D=s.getDomain)!=null&&D.ID?(g(),v("div",It,[t("div",bt,[t("div",ft,[t("h1",pt,c((h=s.getDomain)==null?void 0:h.Domain),1),t("div",wt,"Домен # "+c((e=s.getDomain)==null?void 0:e.OrderID),1),t("div",kt,[r(i,{class:"section-nav__item",to:`/DomainOrders/${(a=s.getDomain)==null?void 0:a.OrderID}`},{default:G(()=>[H("Домен")]),_:1},8,["to"])])]),r(b),((C=s.getDomain)==null?void 0:C.StatusID)==="Waiting"||((O=s.getDomain)==null?void 0:O.StatusID)==="ClaimForRegister"||((F=s.getDomain)==null?void 0:F.StatusID)==="ForContractRegister"||((y=s.getDomain)==null?void 0:y.StatusID)==="ForRegister"||((P=s.getDomain)==null?void 0:P.StatusID)==="ForTransfer"?(g(),J(d,{key:0,class:"btn-mn__bot",label:"Определить владельца",onClick:o[0]||(o[0]=m=>s.designateOwner())})):k("",!0),t("div",St,[r(f,{"contract-id":(x=s.getDomain)==null?void 0:x.ContractID,onTransfer:o[1]||(o[1]=m=>s.transferItem())},null,8,["contract-id"]),t("div",Ct,[t("div",Ot,[t("div",Ft,[t("div",yt,c((R=s.getDomain)==null?void 0:R.Domain),1),t("div",Pt,[r(p,{status:(N=s.getDomain)==null?void 0:N.StatusID,"status-table":"DomainOrders"},null,8,["status"])])]),t("div",xt,[t("ul",Rt,[(A=s.getDomainScheme)!=null&&A.PackageID?(g(),v("li",Nt,c((B=s.getDomainScheme)==null?void 0:B.PackageID),1)):k("",!0)])]),t("div",At,[(T=s.getDomainScheme)!=null&&T.CostProlong?(g(),v("div",Bt,c((V=s.getDomainScheme)==null?void 0:V.CostProlong)+" ₽ продлить на 12 месяцев",1)):k("",!0)]),t("div",Tt,[r(d,{label:((W=s.getDomain)==null?void 0:W.StatusID)==="ClaimForRegister"||((U=s.getDomain)==null?void 0:U.StatusID)==="Waiting"?"Оплатить":"Продлить",onClick:o[2]||(o[2]=m=>s.navigateToProlong())},null,8,["label"]),t("label",Vt,[K(t("input",{type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=m=>s.isAutoProlong=m),onInput:o[4]||(o[4]=m=>s.setProlongValue())},null,544),[[Q,s.isAutoProlong]]),Wt,Ut])])])]),t("div",Et,[t("div",jt,[t("div",Lt,[Mt,r(d,{class:"ml-auto",label:"Редактировать",disabled:((E=s.getDomain)==null?void 0:E.StatusID)==="ClaimForRegister"||((j=s.getDomain)==null?void 0:j.StatusID)==="Waiting"},null,8,["disabled"])]),t("div",Yt,[Zt,t("div",qt,c((L=s.getDomain)==null?void 0:L.Ns1Name),1)]),t("div",zt,[Gt,t("div",Ht,c((M=s.getDomain)==null?void 0:M.Ns2Name),1)])])]),t("div",Jt,[t("div",Kt,[Qt,t("div",Xt,[$t,t("label",ts,[t("input",{type:"checkbox",checked:(Y=s.getDomain)==null?void 0:Y.IsPrivateWhoIs,disabled:""},null,8,ss),es])]),t("div",os,[is,t("div",ns,c(s.lastUpdate((Z=s.getDomain)==null?void 0:Z.StatusDate)),1)])])])])])])):(g(),v("div",as,[t("div",ls,[r(w,{label:"Заказ не найден"})])]))}const rs={components:{IconCard:rt,IconProfile:_t,IconSettings:dt,IconEye:mt,StatusBadge:q},async setup(){const _=st(),o=et(),n=at(),s=ot(),I=it("emitter"),u=nt(null),i=S(()=>Object.keys(n==null?void 0:n.domainsList).map(e=>n==null?void 0:n.domainsList[e]).find(e=>e.OrderID===_.params.id)),b=S(()=>{var e,a;return(a=n==null?void 0:n.domainSchemes)==null?void 0:a[(e=i.value)==null?void 0:e.SchemeID]}),d=S(()=>{var e,a;return(a=o==null?void 0:o.userOrders)==null?void 0:a[(e=i.value)==null?void 0:e.OrderID]});function f(e){return e?lt(ct(e)):""}function p(){console.log(i.value);try{const e={DomainOrderID:i==null?void 0:i.value.ID};I.emit("open-modal",{component:"DomainSelectOwner",data:e})}catch(e){console.error(e)}}function w(){var e,a;I.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:(e=i.value)==null?void 0:e.ID,ServiceID:(a=i.value)==null?void 0:a.ServiceID}})}function D(){var e;o.prolongOrder({IsAutoProlong:u.value?0:1,OrderID:(e=i.value)==null?void 0:e.OrderID})}function h(){var e;s.push(`/DomainOrderPay/${(e=i.value)==null?void 0:e.OrderID}`)}return await n.fetchDomains(),await n.fetchDomainSchemes(),await o.fetchUserOrders().then(()=>{var e;u.value=(e=d.value)==null?void 0:e.IsAutoProlong}),{getDomain:i,getDomainScheme:b,isAutoProlong:u,setProlongValue:D,navigateToProlong:h,domainStatuses:vt,transferItem:w,lastUpdate:f,designateOwner:p}}},Cs=tt(rs,[["render",cs],["__scopeId","data-v-8efee0e9"]]);export{Cs as default};
