import{j as K,o as l,c as p,a as _,t as f,k as L,F as G,v as k,m as M,b as T,w as J,d as Q,n as F,_ as q,x as V,p as R,l as U,r as W,g as D}from"./index-ed1f28f8.js";import{u as X}from"./hosting-218d9195.js";import{u as Y}from"./resetServer-f1402ced.js";import{_ as Z}from"./IconDots-296f1d69.js";import{_ as ee}from"./IconCard-ec16e358.js";import{S as se}from"./StatusBadge-2304b071.js";import{u as re}from"./testTransforms-eec373ee.js";import{_ as z}from"./ClausesKeeper-9aa8ead7.js";import{E as oe}from"./EmptyStateBlock-dbc11827.js";import"./IconClose-a1e58263.js";const te={class:"hosting-order-item__wrapper"},ne={class:"hosting-order-item__header"},ae={class:"hosting-order-item__name"},ce={key:0,class:"hosting-order-item__price"},_e={class:"hosting-order-item__content"},de={class:"hosting-order-item__row"},ie={class:"hosting-order-item__list"},le={class:"hosting-order-item__row"},ue={class:"hosting-order-item__note"};function pe(i,u,a,o,m,h){var S,c,v,t,e,r,n;const g=K("router-link");return l(),p("div",{class:F(["hosting-order-item",{"hosting-order-item--special":(S=a.data)==null?void 0:S.note}])},[_("div",te,[_("div",ne,[_("div",ae,f((c=a.data)==null?void 0:c.name),1),(v=a.data)!=null&&v.price?(l(),p("div",ce,f((t=a.data)==null?void 0:t.price)+" ₽ в месяц",1)):L("",!0)]),_("div",_e,[_("div",de,[_("ul",ie,[(l(!0),p(G,null,k((e=a.data)==null?void 0:e.specifications,s=>(l(),p("li",null,f(s),1))),256))])]),(r=a.data)!=null&&r.note?M(i.$slots,"default",{key:0},()=>{var s;return[_("div",le,[_("div",ue,f((s=a.data)==null?void 0:s.note),1)])]},!0):L("",!0),T(g,{class:"btn btn--wide btn--border btn--wide",to:`/HostingSchemes/${(n=a.data)==null?void 0:n.ID}`},{default:J(()=>[Q(" Заказать")]),_:1},8,["to"])])])],2)}const ve={components:{IconDots:Z,IconCard:ee,StatusBadge:se},props:{data:{type:Object,default:()=>{}}}},A=q(ve,[["render",pe],["__scopeId","data-v-62ce5dab"]]),he=i=>(R("data-v-3e38e24a"),i=i(),U(),i),Se={class:"section"},fe={class:"container"},ge={class:"section-header"},Ie=he(()=>_("h1",{class:"section-title"},"Заказать хостинг",-1)),me={class:"section-nav"},De=["onClick"],Ge={class:"section-text section-text--margin"},ke={key:0,class:"list"};function ye(i,u,a,o,m,h){var v;const g=z,S=A,c=oe;return l(),p("div",Se,[_("div",fe,[_("div",ge,[Ie,T(g),_("div",me,[(l(!0),p(G,null,k(o.filterServerGroups(),(t,e)=>{var r;return l(),p("div",{class:F(["section-nav__item",{active:String(o.currentGroup)===String(t==null?void 0:t.ServersGroupID)}]),onClick:n=>o.setCurrentGroup(t==null?void 0:t.ServersGroupID)},f((r=o.getServerGroup(t==null?void 0:t.ServersGroupID))==null?void 0:r.Name),11,De)}),256))])]),_("div",Ge,f((v=o.getServerGroup(o.currentGroup))==null?void 0:v.Comment),1),o.filterSchemes?(l(),p("div",ke,[(l(!0),p(G,null,k(o.filterSchemes,t=>(l(),V(S,{data:o.getCardData(t)},null,8,["data"]))),256))])):(l(),V(c,{key:1,label:"Нет доступных тарифов"}))])])}const Ce={components:{HostingOrderItem:A,ClausesKeeper:z},async setup(){const i=X(),u=Y(),a=W(0),{formDescriptionLine:o}=re(),m=D(()=>{let e=[];if(h.value!==null)return Object.keys(h.value).forEach(r=>{var n;String((n=h.value[r])==null?void 0:n.ServersGroupID)===String(a.value)&&e.push(h.value[r])}),e}),h=D(()=>i==null?void 0:i.hostingSchemes);function g(e){a.value=e}function S(e){var r,n,s,d,I;return{ID:e==null?void 0:e.ID,name:e==null?void 0:e.Name,price:e==null?void 0:e.CostMonth,specifications:[o((r=e==null?void 0:e.SchemeParams)==null?void 0:r.limit_webdomains),o((n=e==null?void 0:e.SchemeParams)==null?void 0:n.limit_quota),o((s=e==null?void 0:e.SchemeParams)==null?void 0:s.limit_emails),o((d=e==null?void 0:e.SchemeParams)==null?void 0:d.disklimit),o((I=e==null?void 0:e.SchemeParams)==null?void 0:I.maillimit)],note:e==null?void 0:e.Comment}}const c=D(()=>{var e;return(e=u==null?void 0:u.serverGroupsList)==null?void 0:e.Servers});function v(){var r,n;let e={};return Object.keys(c.value).forEach(s=>{var d,I,y,C,x,w,H,O,b,B,N,j,E,P,$;((I=(d=c.value)==null?void 0:d[s])==null?void 0:I.ServiceID)==="10000"&&(e[(C=(y=c.value)==null?void 0:y[s])==null?void 0:C.ServersGroupID]={...e==null?void 0:e[(w=(x=c.value)==null?void 0:x[s])==null?void 0:w.ServersGroupID],SortID:(O=(H=c.value)==null?void 0:H[s])==null?void 0:O.SortID,ServersGroupID:(B=(b=c.value)==null?void 0:b[s])==null?void 0:B.ServersGroupID},e[(j=(N=c.value)==null?void 0:N[s])==null?void 0:j.ServersGroupID][(P=(E=c.value)==null?void 0:E[s])==null?void 0:P.ID]=($=c.value)==null?void 0:$[s])}),(n=(r=Object.keys(e))==null?void 0:r.map(s=>e[s]))==null?void 0:n.sort((s,d)=>(s==null?void 0:s.SortID)<(d==null?void 0:d.SortID)?-1:(s==null?void 0:s.SortID)>(d==null?void 0:d.SortID)?1:0)}function t(e){var r,n;return(n=(r=u==null?void 0:u.serverGroupsList)==null?void 0:r.ServersGroups)==null?void 0:n[e]}return await i.fetchHostingSchemes(),await u.fetchServerGroups().then(()=>{var e,r;a.value=(r=(e=v())==null?void 0:e[0])==null?void 0:r.ServersGroupID}),{getHostingSchemes:h,getServerGroup:t,filterServerGroups:v,setCurrentGroup:g,getCardData:S,filterSchemes:m,currentGroup:a}}},$e=q(Ce,[["render",ye],["__scopeId","data-v-3e38e24a"]]);export{$e as default};
