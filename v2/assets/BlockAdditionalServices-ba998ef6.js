import{E as A}from"./EmptyStateBlock-1f3845f9.js";import{a as N,r as x}from"./bootstrap-vue-next.es-8d4e1458.js";import{_ as C}from"./ClausesKeeper-4fcca336.js";import{_ as R,e as U,r as d,h as i,j as m,i as g,o as c,c as I,a as O,b as S,z as p,w as D,F as b,y as w}from"./index-777dc609.js";import{u as j}from"./services-60e1ba3c.js";import{S as P}from"./ServiceListOrderSelection-6aa4716e.js";const F={class:"section"},z={class:"container"},G={__name:"BlockAdditionalServices",props:["serviceSearchParams"],emits:["update:modelValue"],setup(V,{emit:k}){const _=V,t=j();U();const l=d({}),u=d({});d(!1);const h=i(()=>t.DependServicesList),v=i(()=>{var n;return(n=Object.keys(t==null?void 0:t.ServicesList))==null?void 0:n.map(e=>{var a;return{...t==null?void 0:t.ServicesList[e],value:(a=t==null?void 0:t.ServicesList[e])==null?void 0:a.ID}}).filter(e=>{var a;return(e==null?void 0:e.ServicesGroupID)!=="1000"&&(e==null?void 0:e.IsActive)&&!(e!=null&&e.IsHidden)&&((a=h.value)==null?void 0:a.includes(e==null?void 0:e.ID))}).sort((e,a)=>Number(e==null?void 0:e.SortID)<Number(a==null?void 0:a.SortID)?-1:Number(e==null?void 0:e.SortID)>Number(a==null?void 0:a.SortID)?1:0)}),f=i(()=>Object.keys(l.value).map(n=>l.value[n]?u.value[n]:null).filter(Boolean));function E(o,n){u.value[n]=o}function L(o){l.value[o]=!l.value[o]}return m(f,(o,n)=>{k("update:modelValue",f.value)}),m(()=>_.serviceSearchParams,o=>{o&&t.fetchDependServices(o)},{deep:!0}),g(()=>{_.serviceSearchParams&&t.fetchDependServices(_.serviceSearchParams)}),(o,n)=>{const e=C,a=N,B=x,y=A;return c(),I("div",F,[O("div",z,[S(e),v.value?(c(),p(B,{key:0,class:"services__list",free:""},{default:D(()=>[(c(!0),I(b,null,w(v.value,(s,H)=>(c(),p(a,{class:"profile-notification__collapse",title:s==null?void 0:s.Name,modelValue:l.value[s.ID],"onUpdate:modelValue":r=>l.value[s.ID]=r,onClick:r=>L(s.ID)},{default:D(()=>[S(P,{sectionID:s.ID,sectionData:s,modelValue:u.value[s.ID],"onUpdate:modelValue":r=>u.value[s.ID]=r,"update-with-page-transition":!1,"is-inline":"",onUpdateList:r=>E(r,s.ID)},null,8,["sectionID","sectionData","modelValue","onUpdate:modelValue","onUpdateList"])]),_:2},1032,["title","modelValue","onUpdate:modelValue","onClick"]))),256))]),_:1})):(c(),p(y,{key:1,label:"Дополнительные услуги не найденыы"}))])])}}},W=R(G,[["__scopeId","data-v-baa79069"]]);export{W as B};
