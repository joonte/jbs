import{_ as y}from"./EmptyStateBlock-DA3-0YDi.js";import{_ as E}from"./ProfileForm-2r21QQHo.js";import{_ as P}from"./ClausesKeeper-iUM0yapS.js";import{_ as N}from"./BlockBalanceAgreement-v_bWuiVT.js";import{ao as V,r as s,f as l,m as C,o as n,c as I,b as d,a,t as h,C as f,F as D,d as L,i as A}from"./index-Codq73aV.js";import{u as R}from"./index-BO2gwtUe.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ButtonDefault-CMw2aBy6.js";import"./bootstrap-vue-next-W16P-SAV.js";import"./IconClip-DAey3Lid.js";import"./IconClose-Dia1noy8.js";import"./IconFile-ZfzHpv9u.js";import"./InputSelect.vue_vue_type_script_setup_true_lang-D7E9_BoS.js";import"./IconChevronDown-DOsbTpSQ.js";import"./BasicInput-DeQAeyXe.js";import"./component-DqcwA9JN.js";import"./common-DyknwSqv.js";import"./files-B5cKv3cM.js";const $={class:"tw-px-4 md:tw-px-8 tw-mb-10"},j={class:"tw-mb-4"},M={class:"tw-text-gray-500 tw-text-sm"},O={__name:"ProfileEdit",setup(U){const v=V(),i=R(),g=L(),m=A(),r=s({}),c=s({}),p=s(!1),u=s(null),e=l(()=>i.profileList?.[m.params.id]),_=l(()=>e.value?.TemplateID),x=l(()=>v.data?.Profiles?.Templates?.[_.value]?.Name);C(e,()=>{e.value&&(r.value={...e.value.Attribs},c.value=Object.keys(e.value.Files||{}).map(o=>({name:e.value?.Files[o].Name,value:e.value?.Files[o].ID})))},{immediate:!0});async function w(o){o.append("ProfileID",m.params.id),p.value=!0;const t=await i.profileEdit(o);p.value=!1,t.status==="success"?g.push("/Contracts?section=Profiles"):u.value=t.data?.Exception}return(o,t)=>{const k=N,B=P,F=E,S=y;return n(),I(D,null,[d(k),a("div",$,[a("div",j,[t[1]||(t[1]=a("h1",{class:"tw-text-xl sm:tw-text-4xl"},"Редактировать профиль",-1)),a("div",M,h(x.value),1)]),d(B),e.value?(n(),f(F,{key:0,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=b=>r.value=b),template:_.value,"old-file-list":c.value,"error-message":u.value,onSend:w},null,8,["modelValue","template","old-file-list","error-message"])):(n(),f(S,{key:1,label:"Профиль договора не найден"}))])],64)}}},ne=T(O,[["__scopeId","data-v-8cca98c2"]]);export{ne as default};
