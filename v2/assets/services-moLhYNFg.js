import{ak as L,r as c,al as n,am as u}from"./index-C9dBN6m4.js";const b=L("services",()=>{const i=c({}),S=c({}),d=c([]),f=c(null),O=c({}),p=c(null);async function R(){if(!(Object.keys(i.value).length>0))try{const t=await n.post(u.services);t?.data?i.value=t.data:i.value={}}catch(t){console.error("Ошибка при загрузке сервисов:",t),i.value={}}}async function E(){const t=await n.post(u.DNSmanagerOrders);f.value=t.data}async function P(){const t=await n.post(u.ExtraIPOrders);O.value=t.data}async function y(){const t=await n.post(u.ISPswOrders);p.value=t.data}async function k(t){let e="ERROR",a=null,r=null,s=null,{Code:l="Default"}=t;l==="Default"?s=u.ServiceOrder:s="/API/"+l+"Order";const o=await n.post(s,t);return o.data?.Status==="Ok"?(e="SUCCESS",r=o?.data):a=o?.data?.Exception,{result:e,info:r,error:a}}async function v(t){let e="ERROR",a=null,r=null,s=null,{Code:l="Default"}=t;l==="Default"?s="/API/DNSmanagerOrder":s="/API/"+l+"Order";const o=await n.post(s,t);return o.data?.Status==="Ok"?(e="SUCCESS",r=o?.data):a=o?.data?.Exception,{result:e,info:r,error:a}}async function w(t){let e="ERROR",a=null,r=null,s=null,{Code:l="Default"}=t;l==="Default"?s=u.ExtraIPOrder:s="/API/"+l+"Order";const o=await n.post(s,t);return o?.data?.Status==="Ok"?(e="SUCCESS",r=o?.data):a=o?.data?.Exception,{result:e,info:r,error:a}}async function C(t){let e="ERROR",a=null,r=null,s=null,{Code:l="Default"}=t;l==="Default"?s=u.ISPswOrder:s="/API/"+l+"Order";const o=await n.post(s,t);return o?.data?.Status==="Ok"?(e="SUCCESS",r=o?.data):a=o?.data?.Exception,{result:e,info:r,error:a}}async function I(t){let e="ERROR";const a=await n.post(u.ExtraIPOrderPay,t);return a?.data?.Status==="UseBasket"&&(e="UseBasket"),a?.data?.Status==="NoBasket"&&(e="NoBasket"),a?.data?.Status==="Ok"&&(e="NoBasket"),e}async function U(t){let e="ERROR";const a=await n.post(u.ISPswOrderPay,t);return a?.data?.Status==="UseBasket"&&(e="UseBasket"),a?.data?.Status==="NoBasket"&&(e="NoBasket"),a?.data?.Status==="Ok"&&(e="NoBasket"),e}async function D(t){let e="ERROR";const a=await n.post(u.DNSOrderPay,t);return a?.data?.Status==="UseBasket"&&(e="UseBasket"),a?.data?.Status==="NoBasket"&&(e="NoBasket"),a?.data?.Status==="Ok"&&(e="NoBasket"),e}async function h(t="Default",e){let a="ERROR",r=null,s=null;t==="Default"?s=u.ServiceOrderPay:s="/API/"+t+"OrderPay";const l=await n.post(s,e);return l?.data?.Status==="Ok"?a="SUCCESS":l?.data?.Status==="UseBasket"?a="BASKET":r=l?.data?.Exception,{result:a,error:r}}async function N(t){let e="ERROR",a=null;const r=await n.post("/API/v2/"+t+"Schemes",{});return r.data?(e="SUCCESS",S.value[t]=r?.data):a=r?.data?.Exception,{result:e,error:a}}async function m(t){let e="ERROR",a=null;return(await n.post(u.DNSmanagerOrderSchemeChange,t))?.data?.Status==="Ok"&&(e="SUCCESS"),{result:e,error:a}}async function B(t){let e="ERROR",a=null;return(await n.post(u.ISPswOrderSchemeChange,t))?.data?.Status==="Ok"&&(e="SUCCESS"),{result:e,error:a}}async function x(t){try{const e=await n.post(u.DependServices,t);return e?.data?(d.value=e.data,{result:"SUCCESS",error:null}):(d.value=[],{result:"ERROR",error:e?.data?.Exception})}catch(e){return console.error("Ошибка при загрузке зависимых сервисов:",e),d.value=[],{result:"ERROR",error:e.message}}}async function g(t){return(await n.post(u.updateResourcesUsed,{Orders:t})).data}return{ServicesList:i,additionalServicesScheme:S,DependServicesList:d,fetchAdditionalServiceScheme:N,fetchDependServices:x,ServiceOrderPay:h,fetchServices:R,ServiceOrder:k,DNSmanagerOrder:v,ISPswOrder:C,ExtraIPOrder:w,fetchDNSmanagerOrders:E,DNSmanagerOrdersList:f,DNSmanagerOrderSchemeChange:m,ISPswOrdersList:p,fetchISPswOrders:y,ISPswOrderSchemeChange:B,ISPswOrderPay:U,DNSOrderPay:D,fetchExtraIPOrders:P,ExtraIPOrdersList:O,ExtraIPOrderPay:I,updateResourcesUsed:g}});export{b as u};
