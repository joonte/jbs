import{_ as k}from"./ButtonDefault-CMw2aBy6.js";import{_ as D}from"./BasicInput-DeQAeyXe.js";import{S as w,ao as C,x as S,r as m,f as E,I as b,Z as F,s as x,o as y,c as $,a,t as B,b as o,F as O}from"./index-Codq73aV.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./component-DqcwA9JN.js";import"./common-DyknwSqv.js";const W={class:"edit-settings tw-overflow-y-auto tw-pr-2 tw-mt-6"},A={class:"edit-settings__item"},K={class:"form-field"},Z={class:"form-field-input__text"},q={class:"edit-settings__item"},z=["innerHTML"],G={class:"edit-settings__item"},J=["innerHTML"],Q={class:"edit-settings__item"},R=["innerHTML"],X={class:"edit-settings__item"},Y=["innerHTML"],h={class:"edit-settings__item"},ee=["innerHTML"],se={class:"edit-settings__item"},ae=["innerHTML"],te={class:"edit-settings__item"},le=["innerHTML"],ne={class:"edit-settings__item"},oe=["innerHTML"],ie={__name:"ModalWindowDomainsEdit",props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(M,{emit:L}){const l=M,H=L,p=w(),T=C(),U=S("emitter"),v=m(!1),_=m(null),I=m(!0),P=m(!0),c=m(!0),f=m(!0),s=m({Domain:"",Ns1Name:"",Ns1IP:"",Ns2Name:"",Ns2IP:"",Ns3Name:"",Ns3IP:"",Ns4Name:"",Ns4IP:""});function g(){v.value=!0,p.DomainOrderNsChange({DomainOrderID:l.data.ID,Domain:s.value?.Domain,Ns1Name:s.value?.Ns1Name,Ns1IP:s.value?.Ns1IP,Ns2Name:s.value?.Ns2Name,Ns2IP:s.value?.Ns2IP,Ns3Name:s.value?.Ns3Name,Ns3IP:s.value?.Ns3IP,Ns4Name:s.value?.Ns4Name,Ns4IP:s.value?.Ns4IP}).then(d=>{let{result:e}=d;e==="SUCCESS"&&p.fetchDomainOrders(),v.value=!1,H("modalClose")})}const i=E(()=>T.data.Messages?.Prompts);b(()=>{_.value=l.data.Domain,s.value={Domain:l.data.Domain,Ns1Name:l.data.Ns1Name,Ns1IP:l.data.Ns1IP,Ns2Name:l.data.Ns2Name,Ns2IP:l.data.Ns2IP,Ns3Name:l.data.Ns3Name,Ns3IP:l.data.Ns3IP,Ns4Name:l.data.Ns4Name,Ns4IP:l.data.Ns4IP},["Ns1Name","Ns2Name","Ns3Name","Ns4Name"].forEach(e=>{u(s.value[e],e)})});function u(d,e){const N=d.replace(/ /g,""),n=l.data.Domain,r=_.value,t=N.includes(n)||N.includes(r);switch(e){case"Ns1Name":I.value=!t;break;case"Ns2Name":P.value=!t;break;case"Ns3Name":c.value=!t;break;case"Ns4Name":f.value=!t;break}}F(()=>{U.emit("close-modal")});const V=d=>{d.key==="Enter"&&g()};return b(()=>{document.addEventListener("keyup",V)}),x(()=>{document.removeEventListener("keyup",V)}),(d,e)=>{const N=D,n=D,r=k;return y(),$(O,null,[e[18]||(e[18]=a("div",{class:"tw-text-2xl tw-font-medium"},"Смена именных серверов",-1)),a("div",W,[a("div",A,[a("div",K,[e[13]||(e[13]=a("div",{class:"form-field__label"},"Доменное имя",-1)),a("div",Z,B(s.value.Domain),1)])]),e[14]||(e[14]=a("div",{class:"edit-settings__title"},"Первичный сервер имен",-1)),a("div",q,[o(N,{modelValue:s.value.Ns1Name,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.Ns1Name=t),label:"Доменный адрес",onInput:e[1]||(e[1]=t=>u(s.value.Ns1Name,"Ns1Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,z)]),a("div",G,[o(n,{modelValue:s.value.Ns1IP,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.Ns1IP=t),label:"IP адрес",name:"Ns1IP",disabled:I.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,J)]),e[15]||(e[15]=a("div",{class:"edit-settings__title"},"Вторичный сервер имен",-1)),a("div",Q,[o(n,{modelValue:s.value.Ns2Name,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.Ns2Name=t),label:"Доменный адрес",onInput:e[4]||(e[4]=t=>u(s.value.Ns2Name,"Ns2Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,R)]),a("div",X,[o(n,{modelValue:s.value.Ns2IP,"onUpdate:modelValue":e[5]||(e[5]=t=>s.value.Ns2IP=t),label:"IP адрес",name:"Ns2IP",disabled:P.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,Y)]),e[16]||(e[16]=a("div",{class:"edit-settings__title"},"Дополнительный сервер имен",-1)),a("div",h,[o(n,{modelValue:s.value.Ns3Name,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value.Ns3Name=t),label:"Доменный адрес",onInput:e[7]||(e[7]=t=>u(s.value.Ns3Name,"Ns3Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,ee)]),a("div",se,[o(n,{modelValue:s.value.Ns3IP,"onUpdate:modelValue":e[8]||(e[8]=t=>s.value.Ns3IP=t),label:"IP адрес",name:"Ns3IP",disabled:c.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,ae)]),e[17]||(e[17]=a("div",{class:"edit-settings__title"},"Расширенный сервер имен",-1)),a("div",te,[o(n,{modelValue:s.value.Ns4Name,"onUpdate:modelValue":e[9]||(e[9]=t=>s.value.Ns4Name=t),label:"Доменный адрес",onInput:e[10]||(e[10]=t=>u(s.value.Ns4Name,"Ns4Name"))},null,8,["modelValue"]),a("div",{class:"popover",innerHTML:i.value?.Domain?.NsName},null,8,le)]),a("div",ne,[o(n,{modelValue:s.value.Ns4IP,"onUpdate:modelValue":e[11]||(e[11]=t=>s.value.Ns4IP=t),label:"IP адрес",name:"Ns4IP",disabled:f.value},null,8,["modelValue","disabled"]),a("div",{class:"popover",innerHTML:i.value?.IP},null,8,oe)]),o(r,{label:"Сохранить изменения","is-loading":v.value,onClick:e[12]||(e[12]=t=>g())},null,8,["is-loading"])])],64)}}},pe=j(ie,[["__scopeId","data-v-c1085de5"]]);export{pe as default};
