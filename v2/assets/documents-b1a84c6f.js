import{s as y,r as e,a1 as u,a2 as i,a3 as h}from"./index-c781268b.js";const g=y("documents",()=>{const l=e(null),m=e(null),r=e(null);async function D(){let a="error";return await u.post(i.motionDocuments).then(t=>{l.value=t==null?void 0:t.data}).catch(()=>{a="error"}),a}async function w(){await u.post(i.contractsEnclosures).then(a=>{m.value=a.data})}async function b(a){const t=Object.fromEntries(Object.entries(a).filter(([c,f])=>f!=null)),n=new URLSearchParams(t).toString(),o=""+i.invoiceDocumentGuest+(n?`?${n}`:"");await h.post(o).then(c=>{r.value=c.data})}async function L(a){await u.post(i.motionDocumentDownload,{...a}).then(t=>{var n,o;((n=t==null?void 0:t.data)==null?void 0:n.Status)==="Ok"&&d({url:(o=t==null?void 0:t.data)==null?void 0:o.Location,original_name:"Contract"})})}async function s(a){await u.post(i.contractEnclosureDownload,{...a}).then(t=>{var n,o;console.log(t==null?void 0:t.Status),((n=t==null?void 0:t.data)==null?void 0:n.Status)==="Ok"&&d({url:(o=t==null?void 0:t.data)==null?void 0:o.Location,original_name:"Contract"})})}function d({url:a,original_name:t}){h.get(a,{responseType:"blob"}).then(n=>{const o=new Blob([n.data],{type:"application/pdf"}),c=document.createElement("a");c.href=URL.createObjectURL(o),c.download=t,c.click(),URL.revokeObjectURL(c.href)}).catch(console.error)}return{motionDocumentsList:l,contractDocumentsList:m,motionDocumentDownload:L,contractEnclosureDownload:s,fetchMotionDocuments:D,fetchContractDocuments:w,fetchInvoiceDocumentGuest:b,invoiceDocumentGuest:r}});export{g as u};
