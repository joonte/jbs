import{_ as I,f as T,r as D,h as p,i as b,o as m,c as y,a as s,Z as h,aa as C,t as u,b as S,w as v,N,p as B,m as k,d as V}from"./index-777dc609.js";import{u as g}from"./IconArrow-1d7911e1.js";import{s as w}from"./multiselect-146af8a5.js";const x=n=>(B("data-v-88b54053"),n=n(),k(),n),O={class:"section"},P={class:"container"},R={class:"block--mobile_divider"},L={class:"form-field form-field--basic"},j=x(()=>s("div",{class:"form-field__label"},[V("Выбрать договор"),s("span",null,"*")],-1)),A={class:"form-field-input__wrapper"},E={class:"multiselect-option"},J={__name:"BlockSelectContract",props:["modelValue","title","isBalance","isTransfer"],emits:["update:modelValue","buttonClicked"],setup(n,{emit:_}){const o=n,r=g();T();const i=D(null),a=p(()=>r==null?void 0:r.contractsList),c=p(()=>o.isBalance?Object.keys(a.value).map(e=>{const l=a.value[e];return l&&(l.TypeID==="Natural"||l.TypeID==="Juridical"||l.TypeID==="Default"||l.TypeID==="Public"||l.TypeID==="Individual"||l.TypeID==="NaturalPartner")?{value:l.ID,name:l.Customer,balance:l.Balance}:null}).filter(e=>e!==null&&Number(e.balance)>0):o.isTransfer?Object.keys(a.value).map(e=>(a.value[e].TypeID==="Natural"||a.value[e].TypeID==="Juridical"||a.value[e].TypeID==="Default"||a.value[e].TypeID==="Public"||a.value[e].TypeID==="Individual")&&a.value[e].IsHidden===!1?{value:a.value[e].ID,name:a.value[e].Customer,balance:a.value[e].Balance}:null).filter(Boolean):Object.keys(a.value).map(e=>(a.value[e].TypeID==="Natural"||a.value[e].TypeID==="Juridical"||a.value[e].TypeID==="Default"||a.value[e].TypeID==="Public"||a.value[e].TypeID==="Individual"||a.value[e].TypeID==="NaturalPartner")&&a.value[e].IsHidden===!1?{value:a.value[e].ID,name:a.value[e].Customer,balance:a.value[e].Balance}:null).filter(Boolean));function f(e){_("update:modelValue",e)}return b(()=>{var e;if((e=c.value)!=null&&e.length&&a.value){const l=c.value[0].value;a.value[l]?i.value=l:console.error("Договор не найден в CONTRACTS_LIST:",l)}}),(e,l)=>{var d;return m(),y("div",O,[s("div",P,[h(s("h2",{class:"section-block_title"},u(o.title),513),[[C,o.title]]),s("div",R,[s("div",L,[j,s("div",A,[S(N(w),{class:"multiselect--white",placeholder:"Выбрать договор",label:"name",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=t=>i.value=t),options:c.value,disabled:((d=c.value)==null?void 0:d.length)<=1,onChange:f},{singlelabel:v(({value:t})=>[s("span",null,"# "+u(t.value.padStart(5,"0")||t.padStart(5,"0"))+" / "+u(t.name)+" / "+u(t.balance+" руб"),1)]),option:v(({option:t})=>[s("div",E,"# "+u(t.value.padStart(5,"0"))+" / "+u(t.name)+" / "+u(t.balance+" руб"),1)]),_:1},8,["modelValue","options","disabled"])])])])])])}}},U=I(J,[["__scopeId","data-v-88b54053"]]);export{U as _};
