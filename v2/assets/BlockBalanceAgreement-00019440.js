import{o as i,c as v,b as c,a6 as C,v as b,w as d,a as e,t as _,F as T,x as B,k as S,p as k,l as I,_ as R,e as E,g as h,i as w}from"./index-e8e4a28d.js";import{u as A}from"./contracts-f70de43e.js";import{z as N,d as L}from"./bootstrap-vue-next.es-6aab83a5.js";import{_ as O}from"./ButtonDefault-28022e42.js";import{_ as D}from"./IconArrow-0cda8946.js";const r=a=>(k("data-v-35d0152d"),a=a(),I(),a),F={key:0,class:"balance__wrapper"},x={class:"balance__agreement"},P={class:"balance__agreement-id"},V={class:"balance__agreement-name"},$={class:"balance__pay"},z={class:"balance__pay-info"},H=r(()=>e("div",{class:"balance__pay-info__title"},"Баланс",-1)),j={class:"balance__pay-info__total"},M=r(()=>e("div",{class:"balance__pay-btn"},null,-1)),q={class:"balance__agreement"},G={class:"balance__agreement-id"},J={class:"balance__agreement-name"},K={class:"balance__pay"},Q={class:"balance__pay-info"},U=r(()=>e("div",{class:"balance__pay-info__title"},"Баланс",-1)),W={class:"balance__pay-info__total"},X={class:"balance__pay-btn"};function Y(a,p,l,t,u,o){const s=D,m=O,f=N,g=L;return t.FILTERED_CONTRACTS.length>0?(i(),v("div",F,[c(g,{onHide:a.closeSublist},C({default:d(()=>[(i(!0),v(T,null,b(t.FILTERED_CONTRACTS,n=>(i(),B(f,{key:n.value},{default:d(()=>[e("div",q,[e("div",G,_(n.value.padStart(5,"0")),1),e("div",J,_(n.name),1)]),e("div",K,[e("div",Q,[U,e("div",W,_(n.balance)+" ₽",1)]),e("div",X,[c(m,{class:"btn-pay",label:"Пополнить",onClick:y=>t.navigateToBalancePage(n.value)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:2},[b(t.FILTERED_CONTRACTS,n=>({name:"button-content",fn:d(()=>[e("div",x,[e("div",P,_(n.value.padStart(5,"0")),1),e("div",V,_(n.name),1),c(s)]),e("div",$,[e("div",z,[H,e("div",j,_(n.balance)+" ₽",1)]),M,c(m,{class:"btn-pay",label:"Пополнить",onClick:y=>t.navigateToBalancePage(n.value)},null,8,["onClick"])])])}))]),1032,["onHide"])])):S("",!0)}const Z={async setup(){const a=A(),p=E(),l=h(()=>a==null?void 0:a.contractsList),t=h(()=>Object.keys(l.value).map(o=>{const s=l.value[o];return s.Orders>0||s.Balance>0?{value:s.ID,name:s.Customer,balance:s.Balance}:null}).filter(o=>o!==null));function u(o){p.push(`/Balance/${o}`)}return w(()=>{}),await a.fetchContracts(),{navigateToBalancePage:u,FILTERED_CONTRACTS:t}}},oe=R(Z,[["render",Y],["__scopeId","data-v-35d0152d"]]);export{oe as B};
