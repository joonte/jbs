import{aj as D,r as o,ak as r,al as c,W as E}from"./index-XtiBO-PZ.js";const M=D("EDesks",()=>{const i=o(null),u=o(null),n=o(null);async function l(){let e="error";return await r.post(c.fetchEDesks).then(t=>{i.value=t?.data}).catch(()=>{e="error"}),e}async function f(e){let t="error";return await r.get(E+c.fetchEDeskMessages+`?EdeskID=${e}`).then(s=>{u.value=s?.data,t="success"}).catch(()=>{t="error"}),t}function k(e){let t=new FormData;for(let s in e)t.append(s,e[s]);return t}async function p(e){let t="error",s=k(e);return e?.TicketMessageFile&&e?.TicketMessageFile.forEach(a=>{s.append("TicketMessageFile[]",a)}),await r.post(c.sendTicketMessage,s).then(a=>{t="success"}).catch(()=>{t="error"}),t}async function h(){let e="error";return await r.post(c.fetchTicketGroups).then(t=>{t?.data&&(n.value=t.data,e="success")}).catch(()=>{e="error"}),e}async function d(e){let t="error",s=k(e);return e?.TicketMessageFile&&e?.TicketMessageFile.forEach(a=>{s.append("TicketMessageFile[]",a)}),await r.post(c.ticketEdit,s).then(a=>{a?.data.Status==="Ok"&&(n.value=a.data,t="success")}).catch(()=>{t="error"}),t}return{eDesksList:i,eDeskMessages:u,eDeskGroups:n,fetchEDesks:l,fetchEDeskMessages:f,sendTicketMessage:p,fetchTicketGroups:h,ticketEdit:d}});export{M as u};
