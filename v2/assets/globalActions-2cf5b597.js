import{q as M,a2 as c,a3 as f}from"./index-5f8fd0e9.js";const n=M("delete",()=>{async function E(l){let i="ERROR",a=null;return await c.post(""+f.delete,{...l}).then(t=>{var d,u;((d=t==null?void 0:t.data)==null?void 0:d.Status)==="Exception"?a=(u=t==null?void 0:t.data)==null?void 0:u.Exception:(i="SUCCESS",console.log(i))}),{result:i,error:a}}async function h(l){let i="ERROR",a=null;return await c.post(""+f.OrdersTransfer,{...l}).then(t=>{var d,u;((d=t==null?void 0:t.data)==null?void 0:d.Status)==="Exception"?a=(u=t==null?void 0:t.data)==null?void 0:u.Exception:i="SUCCESS"}),{result:i,error:a}}async function w(l){let i="ERROR",a=null;return await c.post(""+f.OrderManage,{...l}).then(t=>{var d,u,S;((d=t==null?void 0:t.data)==null?void 0:d.Status)==="Exception"?a=(u=t==null?void 0:t.data)==null?void 0:u.Exception:(i="SUCCESS",window.open((S=t==null?void 0:t.data)==null?void 0:S.Url,"_blank"))}),{result:i,error:a}}async function m(l){let i="ERROR",a=null;return await c.post(""+f.OrderManage,{...l}).then(t=>{var d,u,S;if(((d=t==null?void 0:t.data)==null?void 0:d.Status)==="Ok"){const O=window.open("","_blank");let R=`<html>
                            <head><title>Управление заказом</title></head>
                            <body>
                              <form id="OrderManageForm" action="${t.data.Url}" method="post">`;Object.entries(t.data.Args||{}).forEach(([k,b])=>{R+=`<input type="hidden" name="${k}" value="${b}">`}),R+=`</form>
                          <script>
                            document.getElementById('OrderManageForm').submit();
                          <\/script>
                        </body>
                        </html>`,O.document.write(R),O.document.close(),i="SUCCESS"}else((u=t==null?void 0:t.data)==null?void 0:u.Status)==="Exception"?a=(S=t==null?void 0:t.data)==null?void 0:S.Exception:a="Неизвестный статус ответа"}).catch(t=>{a=t}),{result:i,error:a}}async function y(l){let i="ERROR",a=null;return await c.post(""+f.OrderChangePassword,{...l}).then(t=>{var d;((d=t==null?void 0:t.data)==null?void 0:d.Status)==="Ok"&&(i="SUCCESS")}),{result:i,error:a}}async function C(l){let i="ERROR",a=null;return await c.post(""+f.OrderRestore,{...l}).then(t=>{var d;((d=t==null?void 0:t.data)==null?void 0:d.Status)==="Ok"&&(i="SUCCESS")}),{result:i,error:a}}async function g(l){let i="ERROR";return await c.get(""+f.Discount+l).then(a=>{a!=null&&a.data&&(i=a==null?void 0:a.data)}),i}async function r(){let l="ERROR";return await c.get(""+f.Generator).then(i=>{i!=null&&i.data&&(l=i==null?void 0:i.data)}),l}async function x(l){let i="ERROR";return await c.post(""+f.NoticeEdit,l).then(a=>{var t;((t=a==null?void 0:a.data)==null?void 0:t.Status)==="Ok"&&(i="SUCCESS")}),i}async function U(l){let i="ERROR";return await c.post("https://manager.host-food.ru/API/OrdersPay",l).then(a=>{var t,d,u;((t=a==null?void 0:a.data)==null?void 0:t.Status)==="Url"&&((d=a==null?void 0:a.data)==null?void 0:d.Location)==="/Basket"&&(i="Basket"),((u=a==null?void 0:a.data)==null?void 0:u.Status)==="Ok"&&(i=a==null?void 0:a.data)}),i}return{deleteItem:E,OrdersTransfer:h,OrderChangePassword:y,OrderRestore:C,OrderManage:w,fetchDiscount:g,NoticeEdit:x,OrderManageHosting:m,fetchPassword:r,OrdersPay:U}});export{n as u};
