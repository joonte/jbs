import{_ as m,f as b,r as I,h as p,i as D,o as y,c as h,a as s,$ as T,a9 as k,t as o,b as B,w as _,N as V,p as C,m as N,d as S}from"./index-5b1b768e.js";import{u as g}from"./contracts-3305d585.js";import{s as w}from"./multiselect-0eb7c5c1.js";const x=n=>(C("data-v-7ddf9fff"),n=n(),N(),n),P={class:"section"},j={class:"container"},E={class:"block--mobile_divider"},O={class:"form-field form-field--basic"},J=x(()=>s("div",{class:"form-field__label"},[S("Выбрать договор"),s("span",null,"*")],-1)),R={class:"form-field-input__wrapper"},F={class:"multiselect-option"},H={__name:"BlockSelectContract",props:["modelValue","title","isBalance"],emits:["update:modelValue","buttonClicked"],setup(n,{emit:f}){const c=n,u=g();b();const i=I(null),a=p(()=>u==null?void 0:u.contractsList),r=p(()=>c.isBalance?Object.keys(a.value).map(e=>{const l=a.value[e];return l&&(l.TypeID==="Natural"||l.TypeID==="Juridical"||l.TypeID==="Default"||l.TypeID==="Public"||l.TypeID==="Individual"||l.TypeID==="NaturalPartner")?{value:l.ID,name:l.Customer,balance:l.Balance}:null}).filter(e=>e!==null&&e.balance>0):Object.keys(a.value).map(e=>(a.value[e].TypeID==="Natural"||a.value[e].TypeID==="Juridical"||a.value[e].TypeID==="Default"||a.value[e].TypeID==="Public"||a.value[e].TypeID==="Individual"||a.value[e].TypeID==="NaturalPartner")&&a.value[e].IsHidden===!1?{value:a.value[e].ID,name:a.value[e].Customer,balance:a.value[e].Balance}:null).filter(Boolean));function v(e){f("update:modelValue",e)}return D(()=>{var e;console.log(r),a.value&&(i.value=(e=Object.keys(a==null?void 0:a.value))==null?void 0:e[0])}),(e,l)=>{var d;return y(),h("div",P,[s("div",j,[T(s("h2",{class:"section-block_title"},o(c.title),513),[[k,c.title]]),s("div",E,[s("div",O,[J,s("div",R,[B(V(w),{class:"multiselect--white",placeholder:"Выбрать договор",label:"name",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=t=>i.value=t),options:r.value,disabled:((d=r.value)==null?void 0:d.length)<=1,onChange:v},{singlelabel:_(({value:t})=>[s("span",null,"# "+o(t.value.padStart(5,"0"))+" / "+o(t.name)+" / "+o(t.balance+" руб"),1)]),option:_(({option:t})=>[s("div",F,"# "+o(t.value.padStart(5,"0"))+" / "+o(t.name)+" / "+o(t.balance+" руб"),1)]),_:1},8,["modelValue","options","disabled"])])])])])])}}},$=m(H,[["__scopeId","data-v-7ddf9fff"]]);export{$ as _};
