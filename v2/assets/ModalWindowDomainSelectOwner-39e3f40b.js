import{_ as k}from"./ButtonDefault-80267555.js";import{f as V}from"./bootstrap-vue-next.es-dd4e7f7d.js";import{_ as x,r as u,e as y,R as B,g as b,i as I,o as N,c as O,a as c,b as r,w as M,d as P,p as $,l as U}from"./index-041dff1e.js";import{u as W}from"./domain-04fcda62.js";import{u as h}from"./contracts-fabeed86.js";import{B as j}from"./BlockSelectProfile-8091af4c.js";import"./multiselect-092b153c.js";const A=n=>($("data-v-aba2657b"),n=n(),U(),n),T={class:"modal__body"},q=A(()=>c("div",{class:"list-item__title"},"Владелец домена",-1)),z={class:"modal__input-row"},G={class:"modal__input-row"},H={class:"modal__buttons-wrap"},J={__name:"ModalWindowDomainSelectOwner",props:["data"],emits:["modalClose","buttonClicked"],setup(n,{emit:w}){const D=n,C=W(),m=h(),i=u(null),d=u(!1),_=u(!1);u("Natural"),y();const f=B("emitter"),t=b(()=>m==null?void 0:m.profileList),p=b(()=>Object.keys(t==null?void 0:t.value).map(s=>{var e,a,l,o;return{value:(a=(e=t.value)==null?void 0:e[s])==null?void 0:a.ID,name:(o=(l=t.value)==null?void 0:l[s])==null?void 0:o.Name}}));I(()=>{(p==null?void 0:p.value.length)<1&&f.emit("open-modal",{component:"NewProfile"})});function v(){w("modalClose")}function g(){f.emit("open-modal",{component:"AcceptCreateProfile"})}function S(){var e;_.value=!0;const s={DomainOrderID:D.data.DomainOrderID,OwnerTypeID:"Profile",ProfileID:(e=t.value[i.value])==null?void 0:e.ID,Agree:d.value?"yes":"no"};C.DomainSelectOwner(s).then(({result:a,resultData:l})=>{a==="SUCCESS"&&v(),_.value=!1})}return(s,e)=>{const a=V,l=k;return N(),O("div",T,[q,c("div",z,[r(j,{title:"",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),onButtonClicked:e[1]||(e[1]=o=>v())},null,8,["modelValue"])]),c("div",G,[r(a,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o)},{default:M(()=>[P("Согласен на передачу моих персональных данных регистратору")]),_:1},8,["modelValue"])]),c("div",H,[r(l,{class:"select-contract__button modal__button",label:"Создать новый профиль",onClick:e[3]||(e[3]=o=>g())}),r(l,{class:"modal__button",label:"Сохранить",disabled:!d.value||i.value===null,"is-loading":_.value,onClick:e[4]||(e[4]=o=>S())},null,8,["disabled","is-loading"])])])}}},F=x(J,[["__scopeId","data-v-aba2657b"]]);export{F as default};
