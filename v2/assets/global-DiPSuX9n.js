import{ak as y,al as n,am as s}from"./index-C9dBN6m4.js";const g=y("global",()=>{async function l(e){let t="ERROR",a=null;const r=await n.post(s.delete,{...e});return r?.data?.Status==="Exception"?a=r?.data?.Exception:t="SUCCESS",{result:t,error:a}}async function d(e){let t="ERROR",a=null;const r=await n.post(s.OrdersTransfer,{...e});return r?.data?.Status==="Exception"?a=r?.data?.Exception:t="SUCCESS",{result:t,error:a}}async function c(e){let t="ERROR",a=null;const r=await n.post(s.OrderManage,{...e});return r?.data?.Status==="Exception"?a=r?.data?.Exception:(t="SUCCESS",window.open(r?.data?.Url,"_blank")),{result:t,error:a}}async function u(e){let t="ERROR",a=null;return await n.post(s.OrderManage,{...e}).then(r=>{if(r?.data?.Status==="Ok"){const i=window.open("","_blank");let o=`<html>
                            <head><title>Управление заказом</title></head>
                            <body>
                              <form id="OrderManageForm" action="${r.data.Url}" method="post">`;Object.entries(r.data.Args||{}).forEach(([w,m])=>{o+=`<input type="hidden" name="${w}" value="${m}">`}),o+=`</form>
                          <script>
                            document.getElementById('OrderManageForm').submit();
                          <\/script>
                        </body>
                        </html>`,i.document.write(o),i.document.close(),t="SUCCESS"}else r?.data?.Status==="Exception"?a=r?.data?.Exception:a="Неизвестный статус ответа"}).catch(r=>{a=r}),{result:t,error:a}}async function f(e){let t="ERROR",a=null;return(await n.post(s.OrderChangePassword,{...e}))?.data?.Status==="Ok"&&(t="SUCCESS"),{result:t,error:a}}async function S(e){let t="ERROR",a=null;return await n.post(s.OrderRestore,{...e}).then(r=>{r?.data?.Status==="Ok"&&(t="SUCCESS")}),{result:t,error:a}}async function O(e){const{data:t}=await n.get(s.Discount+e);return t}async function R(){let e="ERROR";return await n.get(s.Generator).then(t=>{t?.data&&(e=t?.data)}),e}async function E(e){let t="ERROR";return await n.post(s.NoticeEdit,e).then(a=>{a?.data?.Status==="Ok"&&(t="SUCCESS")}),t}async function p(e){let t="ERROR";return await n.post("/API/OrdersPay",e).then(a=>{a?.data?.Status==="Url"&&a?.data?.Location==="/Basket"&&(t="Basket"),a?.data?.Status==="Ok"&&(t=a?.data)}),t}async function h(e,t){const a=await n.get(s.charts,{params:{OrderID:e,Period:t}});return a.data?Object.values(a.data):[]}return{deleteItem:l,OrdersTransfer:d,OrderChangePassword:f,OrderRestore:S,OrderManage:c,fetchDiscount:O,NoticeEdit:E,OrderManageHosting:u,fetchPassword:R,OrdersPay:p,fetchCharts:h}});export{g as u};
