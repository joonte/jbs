import{j as h,o as r,c,b as p,a as o,F as d,v as k,x as N,w as b,t as g,k as x,p as y,l as B,_ as D,r as w,g as m}from"./index-041dff1e.js";import{u as P}from"./content-014b6e24.js";import{a as T,c as C}from"./useTimeFunction-8602dd60.js";import"./contracts-fabeed86.js";import{F as I}from"./bootstrap-vue-next.es-dd4e7f7d.js";import"./ButtonDefault-80267555.js";import{B as V}from"./BlockBalanceAgreement-ab137d5a.js";import{E as L}from"./EmptyStateBlock-0c3a34a2.js";import"./IconArrow-ce6e1d64.js";const F=s=>(y("data-v-7e81b319"),s=s(),B(),s),E={class:"section"},S={class:"container"},j=F(()=>o("div",{class:"section-header"},[o("h1",{class:"section-title"},"Новости")],-1)),A={class:"news"},H={key:0,class:"news__item"},M={class:"news__item-name"},O={class:"news__item-date"},U=["innerHTML"];function q(s,a,l,t,u,n){const _=V,i=h("router-link"),v=I,f=L;return r(),c(d,null,[p(_),o("div",E,[o("div",S,[j,t.getNews&&t.getNews.length>0?(r(),c(d,{key:0},[o("div",A,[(r(!0),c(d,null,k(t.getPaginatedData,e=>(r(),c(d,{key:e.index},[e!=null&&e.IsPublish?(r(),c("div",H,[p(i,{class:"news__item-link",to:`/News/${e==null?void 0:e.ID}`},{default:b(()=>[o("div",M,g(e==null?void 0:e.Title),1),o("div",O,g(t.formNormalTextDate(t.secondToDate(e==null?void 0:e.PublicDate))),1),o("div",{class:"news__item-text",innerHTML:e==null?void 0:e.Text},null,8,U)]),_:2},1032,["to"])])):x("",!0)],64))),128))]),p(v,{modelValue:t.currentPage,"onUpdate:modelValue":a[0]||(a[0]=e=>t.currentPage=e),"total-rows":t.getNews.length,"per-page":t.perPage,"first-number":"","last-number":""},null,8,["modelValue","total-rows","per-page"])],64)):(r(),N(f,{key:1,label:"Пока что нет добавленных новостей"}))])])],64)}const z={async setup(){const s=P(),a=w(8),l=w(1),t=m(()=>{var n,_;return(_=(n=Object.keys(s==null?void 0:s.newsList))==null?void 0:n.map(i=>s==null?void 0:s.newsList[i]))==null?void 0:_.reverse()}),u=m(()=>{var n;return(n=t.value)==null?void 0:n.slice((l.value-1)*a.value,l.value*a.value)});return await s.fetchNews(),{perPage:a,currentPage:l,getNews:t,getPaginatedData:u,secondToDate:T,formNormalTextDate:C}}},$=D(z,[["render",q],["__scopeId","data-v-7e81b319"]]);export{$ as default};
