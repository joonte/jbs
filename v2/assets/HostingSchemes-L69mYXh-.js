import{_ as N}from"./EmptyStateBlock-Ad1AmtSS.js";import{f as O,_ as E,b as d}from"./BlockBalanceAgreement-DSLTUOoQ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as P,c as a,o as r,a as s,h as D,t as m,v as j,M as A,b as S,F as h,i as f,w as L,e as V,n as w,r as F,f as b,D as M,C as k}from"./index-C9dBN6m4.js";import{_ as q}from"./ClausesKeeper-gPyacQ05.js";import{u as z}from"./hosting-C49ZUiO9.js";import{u as R}from"./server-D__H3WLv.js";import"./contracts-BEc0DZS2.js";import"./ButtonDefault-B1FApUky.js";import"./index-D0iqQ1zq.js";import"./IconClose-CgjzG0Yf.js";const T={class:"hosting-order-item__wrapper"},J={class:"hosting-order-item__header"},K={class:"hosting-order-item__name"},Q={key:0,class:"hosting-order-item__price"},U={class:"hosting-order-item__content"},W={class:"hosting-order-item__row"},X={class:"hosting-order-item__list"},Y={class:"hosting-order-item__row"},Z={class:"hosting-order-item__note"},ee={__name:"HostingOrderItem",props:{data:{type:Object,default:()=>{}}},setup(n){return(p,_)=>{const c=P("router-link");return r(),a("div",{class:w(["hosting-order-item",{"hosting-order-item--special":n.data?.note}])},[s("div",T,[s("div",J,[s("div",K,m(n.data?.name),1),n.data?.price?(r(),a("div",Q,m(j(O)(n.data?.price))+" в месяц",1)):D("",!0)]),s("div",U,[s("div",W,[s("ul",X,[(r(!0),a(h,null,f(n.data?.specifications,l=>(r(),a("li",{key:l},m(l),1))),128))])]),n.data?.note?A(p.$slots,"default",{key:0},()=>[s("div",Y,[s("div",Z,m(n.data?.note),1)])],!0):D("",!0),S(c,{class:"btn btn--wide btn--border btn--wide",to:`/HostingSchemes/${n.data?.ID}`},{default:L(()=>_[0]||(_[0]=[V(" Заказать ",-1)])),_:1,__:[0]},8,["to"])])])],2)}}},te=G(ee,[["__scopeId","data-v-90358e3f"]]),se={class:"tw-px-4 md:tw-px-8 tw-mb-6"},re={class:"section-nav"},oe=["data-title","onClick"],ne={class:"section-text section-text--margin"},ae={key:0,class:"list"},ie={__name:"HostingSchemes",async setup(n){let p,_;const c=z(),l=R(),u=F(0),g=b(()=>{let e=[];return c.hostingSchemes&&(Object.keys(c.hostingSchemes).forEach(t=>{c.hostingSchemes[t]?.ServersGroupID==u.value&&e.push(c.hostingSchemes[t])}),e=e.filter(t=>t.IsActive),e.sort((t,o)=>t.SortID-o.SortID)),e});function x(e){u.value=e}function C(e){return{ID:e?.ID,name:e?.Name,price:e?.CostMonth,specifications:[d(e?.SchemeParams?.limit_webdomains),d(e?.SchemeParams?.limit_quota),d(e?.SchemeParams?.limit_emails),d(e?.SchemeParams?.disklimit),d(e?.SchemeParams?.maillimit)],note:e?.Comment}}const y=b(()=>l?.serverGroupsList?.Servers);function I(){let e={};return Object.values(y.value).forEach(t=>{if(t.ServiceID==1e4){const o=t.ServersGroupID;e[o]||(e[o]={SortID:t.SortID,ServersGroupID:o,servers:[]}),e[o].servers.push(t)}}),Object.values(e).sort((t,o)=>t.SortID-o.SortID)}function v(e){return l?.serverGroupsList?.ServersGroups?.[e]}return[p,_]=M(()=>c.fetchHostingSchemes()),await p,_(),u.value=I()?.[0]?.ServersGroupID,(e,t)=>{const o=E,$=q,B=te,H=N;return r(),a(h,null,[S(o),s("div",se,[t[0]||(t[0]=s("h1",{class:"tw-text-xl sm:tw-text-4xl tw-mb-4"},"Заказать хостинг",-1)),S($),s("div",re,[(r(!0),a(h,null,f(I(),(i,ce)=>(r(),a("div",{class:w(["section-nav__item",{active:String(u.value)===String(i?.ServersGroupID)}]),key:i?.ServersGroupID,"data-title":v(i?.ServersGroupID)?.Comment,onClick:me=>x(i?.ServersGroupID)},m(v(i?.ServersGroupID)?.Name),11,oe))),128))]),s("div",ne,m(v(u.value)?.Comment),1),g.value?(r(),a("div",ae,[(r(!0),a(h,null,f(g.value,i=>(r(),k(B,{key:i?.ID,data:C(i)},null,8,["data"]))),128))])):(r(),k(H,{key:1,label:"Нет доступных тарифов"}))])],64)}}},De=G(ie,[["__scopeId","data-v-2266b484"]]);export{De as default};
