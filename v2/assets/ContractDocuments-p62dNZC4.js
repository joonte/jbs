import{_ as A}from"./EmptyStateBlock-DA3-0YDi.js";import{_ as F}from"./ButtonDefault-CMw2aBy6.js";import{_ as j}from"./IconDownload-2-f4SkXV.js";import{_ as G}from"./BlockBalanceAgreement-v_bWuiVT.js";import{ao as O,f as d,E as C,o as s,c as u,b as c,a as e,w as p,F as v,g as S,C as R,G as q,i as z,e as B,t as _}from"./index-Codq73aV.js";import{u as H}from"./index-BO2gwtUe.js";import{u as J}from"./documents-CGwlDMji.js";import{f as K,s as P}from"./time-DenPiOX5.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./common-DyknwSqv.js";const U={class:"section"},W={class:"container"},X={class:"section-header"},Y={class:"breadcrumb"},Z={key:0,class:"grid-section"},tt={class:"list-item__row"},ot={class:"list-item__row secondary-text"},et={class:"list-item__row"},nt={class:"list-item__row secondary-text"},st={__name:"ContractDocuments",async setup(ct){let a,r;const g=H(),i=J(),N=O(),x=z(),w=d(()=>g?.contractsList?.[x.params.id]),D=d(()=>i?.motionDocumentsList),f=d(()=>i?.contractDocumentsList),h=d(()=>N.data);function E(t){return h.value?.MotionDocuments?.Types?.[t]?.Name}function M(t){return h.value?.Contracts?.Enclosures?.Types?.[t]?.Name}function k(t){return t?"от "+K(P(t)):""}function l(t){let n=[];return t&&Object.keys(t).forEach(m=>{t[m]?.ContractID===w.value?.ID&&n.push(t[m])}),n}function T(t){i.motionDocumentDownload({MotionDocumentID:t})}function $(t){i.contractEnclosureDownload({ContractEnclosureID:t})}return[a,r]=C(()=>g.fetchContracts()),await a,r(),[a,r]=C(()=>i.fetchMotionDocuments()),await a,r(),[a,r]=C(()=>i.fetchContractDocuments()),await a,r(),(t,n)=>{const m=G,y=q("router-link"),I=j,b=F,L=A;return s(),u(v,null,[c(m),e("section",U,[e("div",W,[e("div",X,[e("div",Y,[c(y,{to:"/Contracts",class:"section-label"},{default:p(()=>n[0]||(n[0]=[B("Договор /",-1)])),_:1,__:[0]}),c(y,{to:`/ContractScheme/${t.$route.params.id}`,class:"section-label"},{default:p(()=>[B(_(w.value?.Customer),1)]),_:1},8,["to"])]),n[1]||(n[1]=e("h1",{class:"section-title"},"Документы",-1))]),l(D.value)&&l(D.value).length>0||l(f.value)&&l(f.value).length>0?(s(),u("div",Z,[(s(!0),u(v,null,S(l(D.value),o=>(s(),u("div",{key:"motion-"+o?.ID,class:"list-item"},[e("div",tt,_(E(o?.TypeID)),1),e("div",ot,_(k(o?.CreateDate)),1),c(b,{class:"download-button",label:"Скачать",onClick:V=>T(o?.ID)},{icon:p(()=>[c(I,{class:"download-icon"})]),_:2},1032,["onClick"])]))),128)),(s(!0),u(v,null,S(l(f.value),o=>(s(),u("div",{key:"contract-"+o?.ID,class:"list-item"},[e("div",et,_(M(o?.TypeID)),1),e("div",nt,_(k(o?.CreateDate)),1),c(b,{class:"download-button",label:"Скачать",onClick:V=>$(o?.ID)},{icon:p(()=>[c(I,{class:"download-icon"})]),_:2},1032,["onClick"])]))),128))])):(s(),R(L,{key:1,label:"У вас пока что нету документов"}))])])],64)}}},ft=Q(st,[["__scopeId","data-v-634de72d"]]);export{ft as default};
