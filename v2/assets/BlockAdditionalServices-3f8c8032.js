import{E as A}from"./EmptyStateBlock-b0a120e4.js";import{a as E,r as x}from"./bootstrap-vue-next.es-c6bcf011.js";import{_ as U}from"./ClausesKeeper-90c650cc.js";import{_ as g,e as C,r as v,h as f,j as m,i as O,o as c,c as k,a as R,b as V,z as S,w as h,F as b,y as w}from"./index-aeb1df1e.js";import{u as j}from"./services-bb78f548.js";import{S as P}from"./ServiceListOrderSelection-8635e3a9.js";const F={class:"section"},G={class:"container"},H={__name:"BlockAdditionalServices",props:["serviceSearchParams"],emits:["update:modelValue"],setup(L,{emit:N}){const u=L,o=j();C();const n=v({}),l=v({});v(!1),f(()=>(o==null?void 0:o.DependServicesList)||[]);const D=f(()=>o!=null&&o.ServicesList?Object.keys(o.ServicesList).map(e=>{var s;return{...o.ServicesList[e],value:(s=o.ServicesList[e])==null?void 0:s.ID}}).filter(e=>{var p;const s=(e==null?void 0:e.ServicesGroupID)!=="1000",i=e==null?void 0:e.IsActive,d=!(e!=null&&e.IsHidden),_=Number(e==null?void 0:e.ID)>=5e4,t=(p=o.DependServicesList)==null?void 0:p.includes(e==null?void 0:e.ID);return s&&i&&d&&_&&t}).sort((e,s)=>Number(e==null?void 0:e.SortID)<Number(s==null?void 0:s.SortID)?-1:Number(e==null?void 0:e.SortID)>Number(s==null?void 0:s.SortID)?1:0):[]),I=f(()=>n.value?Object.keys(n.value).map(e=>n.value[e]?l.value[e]:null).filter(Boolean):[]);function B(a,e){l.value[e]=a}function y(a){n.value[a]=!n.value[a]}return m(I,(a,e)=>{N("update:modelValue",I.value)}),m(()=>u.serviceSearchParams,a=>{a&&o.fetchDependServices(a)},{deep:!0}),O(()=>{u.serviceSearchParams&&o.fetchDependServices(u.serviceSearchParams)}),(a,e)=>{const s=U,i=E,d=x,_=A;return c(),k("div",F,[R("div",G,[V(s),D.value?(c(),S(d,{key:0,class:"services__list",free:""},{default:h(()=>[(c(!0),k(b,null,w(D.value,(t,p)=>(c(),S(i,{class:"profile-notification__collapse",title:t==null?void 0:t.Name,modelValue:n.value[t.ID],"onUpdate:modelValue":r=>n.value[t.ID]=r,onClick:r=>y(t.ID)},{default:h(()=>[V(P,{sectionID:t.ID,sectionData:t,modelValue:l.value[t.ID],"onUpdate:modelValue":r=>l.value[t.ID]=r,"update-with-page-transition":!1,"is-inline":"",onUpdateList:r=>B(r,t.ID)},null,8,["sectionID","sectionData","modelValue","onUpdate:modelValue","onUpdateList"])]),_:2},1032,["title","modelValue","onUpdate:modelValue","onClick"]))),256))]),_:1})):(c(),S(_,{key:1,label:"Дополнительные услуги не найденыы"}))])])}}},Q=g(H,[["__scopeId","data-v-69f69fc1"]]);export{Q as B};
