import{_ as x}from"./ButtonDefault-B1FApUky.js";import{_ as N}from"./ClausesKeeper-gPyacQ05.js";import{_ as P}from"./BlockBalanceAgreement-DSLTUOoQ.js";import{u as U,r as p,D as f,f as y,g as D,c as C,b as u,a as e,t as E,v as V,J as n,X as r,d as k,x as B,o as S}from"./index-C9dBN6m4.js";import{u as A}from"./contracts-BEc0DZS2.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconClose-CgjzG0Yf.js";import"./index-D0iqQ1zq.js";const $={class:"create-referral"},I={class:"container"},L={class:"section-header"},j={class:"section-label"},H={class:"container"},J={class:"create-referral__data"},M={class:"form-field"},T={class:"form-field"},X={class:"form-field"},q={class:"form-field"},z={class:"container"},F={class:"create-referral__data"},G={__name:"DependUsersCreate",async setup(K){let o,l;const i=U(),_=A(),v=D(),w=k();B("emitter");const d=p(!1),t=p({Email:"",Name:"",Password:"",_Password:""});[o,l]=f(()=>i.fetchUserData()),await o,l(),[o,l]=f(()=>_.fetchContracts()),await o,l(),y(()=>_.contractsList[v.params.id]);function b(){t.value.Email.length>0&&t.value.Password.length>0&&t.value.Name.length>0&&t.value._Password.length>0&&(d.value=!0,i.registerNewUser({...t.value}).then(c=>{const{response:s,error:m}=c;s==="success"&&w.push({path:"/Home"}),d.value=!1}))}return(c,s)=>{const m=P,g=N,h=x;return S(),C("div",$,[u(m),e("section",null,[e("div",I,[e("div",L,[s[5]||(s[5]=e("h1",{class:"section-title"},"Создать реферала",-1)),e("div",j,E(V(i).userInfo.Name),1)]),u(g)])]),e("section",null,[e("div",H,[e("div",J,[e("label",M,[s[6]||(s[6]=e("span",{class:"form-field__label"},"ФИО",-1)),n(e("input",{type:"text",placeholder:"","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.Name=a)},null,512),[[r,t.value.Name]])]),e("label",T,[s[7]||(s[7]=e("span",{class:"form-field__label"},"Email",-1)),n(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.Email=a)},null,512),[[r,t.value.Email]])]),e("label",X,[s[8]||(s[8]=e("span",{class:"form-field__label"},"Пароль",-1)),n(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=a=>t.value.Password=a)},null,512),[[r,t.value.Password]])]),e("label",q,[s[9]||(s[9]=e("span",{class:"form-field__label"},"Подтвердить пароль",-1)),n(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=a=>t.value._Password=a)},null,512),[[r,t.value._Password]])])])])]),e("section",null,[e("div",z,[e("div",F,[u(h,{class:"btn--wide",label:"Зарегистрировать","is-loading":d.value,onClick:s[4]||(s[4]=a=>b())},null,8,["is-loading"])])])])])}}},ae=R(G,[["__scopeId","data-v-51383d17"]]);export{ae as default};
