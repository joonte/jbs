import{_}from"./ButtonDefault-eJbeaBtE.js";import{_ as m}from"./IconHelpCircle-CXfw3GSZ.js";import{u}from"./globalActions-Tf2FwXht.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as f,o as C,b as i,a as c,x as v,r as I,h as b,s as S}from"./index-XtiBO-PZ.js";const D={props:{data:{type:Object,default:()=>{}}},emits:["modalClose"],setup(n,{emit:e}){const a=u();v("emitter");const t=I(!1);function s(){t.value=!0,a.deleteItem({TableID:"Contracts",RowsIDs:n.data?.contractID}).then(({result:o,error:r})=>{o==="SUCCESS"&&a.deleteItem({TableID:"Profiles",RowsIDs:n.data?.id}).then(({result:d,error:y})=>{d==="SUCCESS"&&e("modalClose")}),t.value=!1})}const l=o=>{o.key==="Enter"&&s()};return b(()=>{document.addEventListener("keyup",l)}),S(()=>{document.removeEventListener("keyup",l)}),{deleteContract:s,isLoading:t}}},g={class:"modal__body"};function k(n,e,a,t,s,l){const o=m,r=_;return C(),f("div",g,[i(o,{class:"modal__alert-icon"}),e[1]||(e[1]=c("div",{class:"modal__info"},[c("div",{class:"modal__alert-title"},"Вы действительно хотите удалить договор?")],-1)),i(r,{class:"modal__alert-button",onClick:e[0]||(e[0]=d=>t.deleteContract()),label:"УДАЛИТЬ","is-loading":t.isLoading},null,8,["is-loading"])])}const w=p(D,[["render",k],["__scopeId","data-v-15d87223"]]);export{w as default};
