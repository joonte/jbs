import{al as L,r as c,am as n,an as u}from"./index-Codq73aV.js";const b=L("services",()=>{const i=c({}),d=c({}),S=c([]),f=c(null),O=c({}),p=c(null);async function R(){if(!(Object.keys(i.value).length>0))try{const t=await n.post(u.services);t?.data?i.value=t.data:i.value={}}catch(t){console.error("Ошибка при загрузке сервисов:",t),i.value={}}}async function E(){const t=await n.post(u.DNSmanagerOrders);f.value=t.data}async function P(){const t=await n.post(u.ExtraIPOrders);O.value=t.data}async function y(){const t=await n.post(u.ISPswOrders);p.value=t.data}async function k(t){let e="ERROR",r=null,a=null,s=null,{Code:o="Default"}=t;o==="Default"?s=u.ServiceOrder:s="/API/"+o+"Order";const l=await n.post(s,t);return l.data?.Status==="Ok"?(e="SUCCESS",a=l.data):(r=l.data?.Exception.String,console.log(r)),{result:e,info:a,error:r}}async function v(t){let e="ERROR",r=null,a=null,s=null,{Code:o="Default"}=t;o==="Default"?s="/API/DNSmanagerOrder":s="/API/"+o+"Order";const l=await n.post(s,t);return l.data?.Status==="Ok"?(e="SUCCESS",a=l?.data):r=l?.data?.Exception,{result:e,info:a,error:r}}async function w(t){let e="ERROR",r=null,a=null,s=null,{Code:o="Default"}=t;o==="Default"?s=u.ExtraIPOrder:s="/API/"+o+"Order";const l=await n.post(s,t);return l?.data?.Status==="Ok"?(e="SUCCESS",a=l?.data):r=l?.data?.Exception,{result:e,info:a,error:r}}async function C(t){let e="ERROR",r=null,a=null,s=null,{Code:o="Default"}=t;o==="Default"?s=u.ISPswOrder:s="/API/"+o+"Order";const l=await n.post(s,t);return l?.data?.Status==="Ok"?(e="SUCCESS",a=l?.data):r=l?.data?.Exception,{result:e,info:a,error:r}}async function I(t){let e="ERROR";const r=await n.post(u.ExtraIPOrderPay,t);return r?.data?.Status==="UseBasket"&&(e="UseBasket"),r?.data?.Status==="NoBasket"&&(e="NoBasket"),r?.data?.Status==="Ok"&&(e="NoBasket"),e}async function U(t){let e="ERROR";const r=await n.post(u.ISPswOrderPay,t);return r?.data?.Status==="UseBasket"&&(e="UseBasket"),r?.data?.Status==="NoBasket"&&(e="NoBasket"),r?.data?.Status==="Ok"&&(e="NoBasket"),e}async function D(t){let e="ERROR";const r=await n.post(u.DNSOrderPay,t);return r?.data?.Status==="UseBasket"&&(e="UseBasket"),r?.data?.Status==="NoBasket"&&(e="NoBasket"),r?.data?.Status==="Ok"&&(e="NoBasket"),e}async function h(t="Default",e){let r=null,a=null;const s=t==="Default"?u.ServiceOrderPay:"/API/"+t+"OrderPay",o=await n.post(s,e);return o.data?.Status==="Ok"?r="SUCCESS":o.data?.Status==="UseBasket"?r="BASKET":(r="ERROR",a=o.data?.Exception.String),{result:r,error:a}}async function N(t){let e="ERROR",r=null;const a=await n.post("/API/v2/"+t+"Schemes",{});return a.data?(e="SUCCESS",d.value[t]=a?.data):r=a?.data?.Exception,{result:e,error:r}}async function m(t){let e="ERROR",r=null;return(await n.post(u.DNSmanagerOrderSchemeChange,t))?.data?.Status==="Ok"&&(e="SUCCESS"),{result:e,error:r}}async function B(t){let e="ERROR",r=null;return(await n.post(u.ISPswOrderSchemeChange,t))?.data?.Status==="Ok"&&(e="SUCCESS"),{result:e,error:r}}async function g(t){try{const e=await n.post(u.DependServices,t);return e?.data?(S.value=e.data,{result:"SUCCESS",error:null}):(S.value=[],{result:"ERROR",error:e?.data?.Exception})}catch(e){return console.error("Ошибка при загрузке зависимых сервисов:",e),S.value=[],{result:"ERROR",error:e.message}}}async function x(t){return(await n.post(u.updateResourcesUsed,{Orders:t})).data}return{ServicesList:i,additionalServicesScheme:d,DependServicesList:S,fetchAdditionalServiceScheme:N,fetchDependServices:g,ServiceOrderPay:h,fetchServices:R,ServiceOrder:k,DNSmanagerOrder:v,ISPswOrder:C,ExtraIPOrder:w,fetchDNSmanagerOrders:E,DNSmanagerOrdersList:f,DNSmanagerOrderSchemeChange:m,ISPswOrdersList:p,fetchISPswOrders:y,ISPswOrderSchemeChange:B,ISPswOrderPay:U,DNSOrderPay:D,fetchExtraIPOrders:P,ExtraIPOrdersList:O,ExtraIPOrderPay:I,updateResourcesUsed:x}});export{b as u};
