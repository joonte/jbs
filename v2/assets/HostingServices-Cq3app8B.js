import{_ as H}from"./LoadingIndicator-y8DeC9jv.js";import{_ as L}from"./EmptyStateBlock-DA3-0YDi.js";import{_ as N,a as V}from"./BlockDependentServices-DPC_LtYM.js";import{_ as $}from"./BlockAdditionalServices-Dc0oR6v8.js";import{_ as E}from"./ClausesKeeper-iUM0yapS.js";import{_ as G}from"./BlockBalanceAgreement-v_bWuiVT.js";import{u as R,r as I,f as d,E as j,o as c,c as b,b as s,a as _,t as F,w as O,C as x,F as T,G as U,i as K,e as h}from"./index-Codq73aV.js";import{u as P}from"./hosting-BhryHInW.js";import{u as q}from"./services-DyPBvbVy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ButtonDefault-CMw2aBy6.js";import"./common-DyknwSqv.js";import"./BlueButton.vue_vue_type_script_setup_true_lang-BKdLNEec.js";import"./StatusBadge-BmqDrHzy.js";import"./bootstrap-vue-next-W16P-SAV.js";import"./InputServiceSelect-Dvi-CxI4.js";import"./InputSelect.vue_vue_type_script_setup_true_lang-D7E9_BoS.js";import"./IconChevronDown-DOsbTpSQ.js";import"./index-BO2gwtUe.js";import"./BasicInput-DeQAeyXe.js";import"./component-DqcwA9JN.js";import"./IconClose-Dia1noy8.js";const z={key:0,class:"tw-px-4 md:tw-px-8 tw-mb-6"},J={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},M={class:"tw-flex tw-items-center tw-gap-8 tw-border-b tw-border-gray-200 tw-mt-4 tw-whitespace-nowrap tw-mb-6"},fe={__name:"HostingServices",async setup(Q){let v,w;const k=K(),n=P(),S=q(),i=R(),l=I([]),f=I(!0),e=d(()=>Object.values(n.hostingList).find(a=>a.OrderID===Number(k.params.id))),g=d(()=>n.hostingSchemes[e.value.SchemeID]),y=d(()=>{if(!e.value?.OrderID||!i?.userOrders)return[];const a=e.value.OrderID;return Object.keys(i.userOrders).map(r=>i.userOrders[r]).filter(r=>{const o=String(r?.DependOrderID)===String(a),u=r?.ServiceID,p=S.ServicesList[r.ServiceID];return o&&u&&p}).sort((r,o)=>Number(r?.ID)-Number(o?.ID))});return[v,w]=j(()=>Promise.all([n.fetchHostingOrders(),n.fetchHostingSchemes(),S.fetchServices(),i.fetchUserOrders()])),await v,w(),f.value=!1,(a,t)=>{const D=G,m=U("RouterLink"),r=E,o=N,u=$,p=V,B=L,A=H;return c(),b(T,null,[s(D,{"contract-id":e.value?.ContractID},null,8,["contract-id"]),e.value&&g.value?(c(),b("div",z,[t[3]||(t[3]=_("h1",{class:"tw-text-xl sm:tw-text-4xl"},"Дополнительные услуги",-1)),_("div",J,"Хостинг # "+F(e.value.OrderID),1),_("div",M,[s(m,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/HostingOrders/${e.value?.OrderID}`},{default:O(()=>t[1]||(t[1]=[h(" Хостинг ",-1)])),_:1,__:[1]},8,["to"]),s(m,{class:"tw-py-2 tw-cursor-pointer -tw-mb-[1px]","active-class":"tw-text-sky-400 tw-border-b-2 tw-border-sky-400",to:`/HostingOrders/${e.value?.OrderID}/Services`},{default:O(()=>t[2]||(t[2]=[h(" Услуги ",-1)])),_:1,__:[2]},8,["to"])]),s(r),s(o,{services:y.value},null,8,["services"]),s(u,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=C=>l.value=C),"service-search-params":{ServiceID:e.value.ServiceID,ServersGroupID:g.value.ServersGroupID},class:"tw-mt-6"},null,8,["modelValue","service-search-params"]),s(p,{services:l.value,"main-order":e.value},null,8,["services","main-order"])])):f.value?(c(),x(A,{key:2,class:"tw-mt-10"})):(c(),x(B,{key:1,label:"Заказ не найден"}))],64)}}};export{fe as default};
