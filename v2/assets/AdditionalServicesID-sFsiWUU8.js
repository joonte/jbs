import{_ as Z,a as ee}from"./CopyToClipboard.vue_vue_type_script_setup_true_lang-FiYxdMnt.js";import{_ as te}from"./StatusBadge-B65ys1I-.js";import{_ as re}from"./ServicesContractBalanceBlock-C7WdqITd.js";import{_ as se}from"./ClausesKeeper-DVJgfLR3.js";import{_ as ae}from"./ButtonDefault-CghIUDY0.js";import{_ as oe}from"./BlockBalanceAgreement-2iQbaweR.js";import{u as ne,r as G,D as _,f as p,g as le,x as ie,H as ue,c as u,b as d,a as r,C as k,h as n,t as m,I as de,K as ve,F as I,e as ce,d as me,o as s}from"./index-CipWZKo_.js";import{u as pe}from"./postings-dJpYnOCG.js";import{u as we}from"./services-Dmz4Qt8q.js";import{u as Se}from"./server-DA2BhLHe.js";import{u as Ie}from"./global-Fil99La8.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./IconCopy-DWHHygte.js";import"./IconProfile-CLsn7h6L.js";import"./IconCard-jY7IitfY.js";import"./contracts-CILh9uSu.js";import"./IconClose-ChC2G6HM.js";const ge={class:"section"},fe={class:"container"},_e={class:"tw-flex tw-items-center tw-justify-between tw-gap-4"},Oe={class:"section-title"},he={class:"tw-text-gray-500 tw-text-sm tw-mt-2"},be={class:"tw-grid tw-grid-cols-1 lg:tw-grid-cols-2 tw-gap-4 tw-mt-4"},Pe={class:"tw-border tw-rounded tw-border-gray-200 tw-p-4"},xe={class:"tw-flex tw-items-center tw-gap-2"},ke={class:"tw-text-2xl"},ye={key:0,class:"tw-text-xs tw-text-gray-500"},Ce={class:"tw-flex tw-flex-wrap tw-items-center tw-gap-4 tw-mt-4"},Ne={class:"btn btn--border btn--switch tw-max-w-60 tw-h-10 sm:tw-h-12 tw-ml-0"},$e={key:0,class:"tw-grid tw-grid-cols-3 tw-gap-6 tw-border tw-border-gray-200 tw-rounded tw-p-4"},Ae={class:"tw-col-span-3 tw-flex tw-items-center tw-justify-between tw-gap-2"},Me={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Le={class:"tw-break-all"},Be={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Ge={class:"tw-break-all"},He={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Te={class:"tw-col-span-2 tw-flex tw-flex-wrap tw-items-center tw-gap-2"},je={key:0,class:"password-hidden"},Ee={key:0,class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Ve={class:"tw-col-span-2 tw-flex tw-items-center tw-gap-1"},Re={__name:"AdditionalServicesID",async setup(Fe){let l,i;const D=le(),b=me(),a=we(),C=Se(),N=Ie(),y=pe(),P=ne(),x=G(!1),$=G(!1),g=ie("emitter");[l,i]=_(()=>a.fetchServices()),await l,i(),[l,i]=_(()=>a.fetchDNSmanagerOrders()),await l,i(),[l,i]=_(()=>a.fetchISPswOrders()),await l,i(),[l,i]=_(()=>a.fetchExtraIPOrders()),await l,i();const t=p(()=>Object.values(P.userOrders).find(o=>o.ID==D.params.id)),H=p(()=>y?.servicesList[P.userOrders[t.value?.DependOrderID]?.ServiceID]),S=p(()=>y.servicesList[t.value?.ServiceID]),w=p(()=>Object.values(a.ISPswOrdersList).find(o=>o.OrderID===t.value?.ID)),v=p(()=>Object.values(a.DNSmanagerOrdersList).find(o=>o.OrderID===t.value?.ID)),A=p(()=>a?.additionalServicesScheme),M=p(()=>C?.serverGroupsList?.Servers?.[v.value?.ServerID]),L=p(()=>C?.serverGroupsList?.Servers?.[w.value?.ServerID]);g.on("updateDNSManagerPage",()=>{a.fetchDNSmanagerOrders()});const T=p(()=>{const o=v.value;return o&&A.value.DNSmanager[o.SchemeID]||null}),j=p(()=>{const o=w.value;return o&&A.value.ISPsw[o.SchemeID]||null});function E(o,e){let O="";switch(e){case"Default":O="Orders";break;default:O=e+"Orders";break}g.emit("open-modal",{component:"StatusHistory",data:{modeID:O,rowID:o}})}function V(){g.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:v.value?.ID,ServiceID:v.value?.ServiceID,emitEvent:"updateDNSManagerPage"}})}function R(){g.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:t.value?.ID,ServiceID:t.value?.ServiceID}})}function F(){N.OrderManageHosting({ServiceOrderID:v.value?.ID,OrderID:v.value?.OrderID,ServiceID:v.value?.ServiceID,XMLHttpRequest:"yes"})}function q(){N.OrderManageHosting({ServiceOrderID:w.value?.ID,OrderID:w.value?.OrderID,ServiceID:w.value?.ServiceID,XMLHttpRequest:"yes"})}function U(){t.value?.ServiceID==5e4?b.push(`/ExtraIPOrderPay/${D.params.id}`):t.value?.ServiceID==51e3?b.push(`/ISPswOrderPay/${D.params.id}`):t.value?.ServiceID==52e3?b.push(`/DNSmanagerOrderPay/${D.params.id}`):b.push(`/ServiceOrderPay/${D.params.id}`)}function X(){P.prolongOrder({IsAutoProlong:x.value?0:1,OrderID:t.value?.ID})}function B(){g.emit("open-modal",{component:"ISPswSchemeChange",data:{ISPswID:t.value?.ID,ServerGroup:j.value?.ServersGroupID,Code:S.value?.Code}})}function K(){W()}function W(){g.emit("open-modal",{component:"DNSOrderSchemeChange",data:{DNSID:t.value?.ID,ServerGroup:T.value?.ServersGroupID,Code:S.value?.Code}})}return ue(async()=>{t.value?.ServiceID==52e3&&(await a.fetchAdditionalServiceScheme(S.value?.Code),await a.fetchDNSmanagerOrders()),t.value?.ServiceID==51e3&&(await a.fetchAdditionalServiceScheme(S.value?.Code),await a.fetchISPswOrders()),t.value?.ServiceID==5e4&&(await a.fetchAdditionalServiceScheme(S.value?.Code),await a.fetchExtraIPOrders()),D.name==="ISPswOrdersIdSchemeChange"&&B()}),[l,i]=_(()=>P.fetchUserOrders().then(()=>{x.value=t.value?.IsAutoProlong})),await l,i(),[l,i]=_(()=>y.fetchServices()),await l,i(),(o,e)=>{const O=oe,h=ae,z=se,J=re,Q=te,f=Z,Y=ee;return s(),u(I,null,[d(O),r("section",ge,[r("div",fe,[r("div",_e,[r("div",null,[r("h1",Oe,m(S.value?.Name),1),r("div",he,"# "+m(t.value?.ID),1)]),t.value?.ServiceID==52e3?(s(),k(h,{key:0,class:"section-scheme",label:"Изменить тариф",onClick:e[0]||(e[0]=c=>K())})):n("",!0),t.value?.ServiceID==51e3?(s(),k(h,{key:1,class:"section-scheme",label:"Изменить тариф",onClick:e[1]||(e[1]=c=>B())})):n("",!0)]),d(z),r("div",be,[d(J,{"contract-id":t.value?.ContractID,onTransfer:e[2]||(e[2]=c=>R())},null,8,["contract-id"]),r("div",Pe,[r("div",xe,[r("div",ke,m(S.value?.Name),1),d(Q,{status:t.value?.StatusID,"status-table":"Orders",onClick:e[3]||(e[3]=c=>E(t.value?.ServiceOrderID,t.value?.Code))},null,8,["status"])]),t.value?.DependOrderID&&t.value?.DependOrderID!=="0"?(s(),u("div",ye," Относится к заказу "+m(t.value?.DependOrderID)+"/"+m(H.value?.Name),1)):n("",!0),r("div",Ce,[d(h,{label:t.value?.StatusID==="ClaimForRegister"||t.value?.StatusID==="Waiting"?"Оплатить":"Продлить",onClick:e[4]||(e[4]=c=>U())},null,8,["label"]),r("label",Ne,[de(r("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=c=>x.value=c),onInput:e[6]||(e[6]=c=>X())},null,544),[[ve,x.value]]),e[11]||(e[11]=r("span",{class:"btn-switch__text"},"Автопродление",-1)),e[12]||(e[12]=r("span",{class:"btn-switch__toggle"},null,-1))])])]),t.value?.ServiceID==52e3||t.value?.ServiceID==51e3?(s(),u("div",$e,[r("div",Ae,[e[13]||(e[13]=r("div",{class:"tw-text-2xl"},"Панель управления",-1)),t.value?.ServiceID==52e3?(s(),k(h,{key:0,class:"tw-text-xs tw-h-10",onClick:e[7]||(e[7]=c=>F()),label:"Вход"})):n("",!0),t.value?.ServiceID==51e3?(s(),k(h,{key:1,class:"tw-text-xs tw-h-10",onClick:e[8]||(e[8]=c=>q()),label:"Вход"})):n("",!0)]),t.value?.ServiceID==51e3?(s(),u(I,{key:0},[e[14]||(e[14]=r("div",null,"Адрес",-1)),r("div",Me,[r("div",Le,m(w.value?.ControlPanel),1),d(f,{value:w.value?.ControlPanel},null,8,["value"])])],64)):n("",!0),t.value?.ServiceID==52e3?(s(),u(I,{key:1},[e[15]||(e[15]=r("div",null,"Адрес",-1)),r("div",Be,[r("div",Ge,m(`https://${M.value?.Address}/manager`),1),d(f,{value:`https://${M.value?.Address}/manager`},null,8,["value"])])],64)):n("",!0),t.value?.ServiceID==52e3?(s(),u(I,{key:2},[e[16]||(e[16]=r("div",null,"Логин",-1)),r("div",He,[r("div",null,m(v.value?.Login),1),d(f,{value:v.value?.Login},null,8,["value"])])],64)):n("",!0),t.value?.ServiceID==52e3?(s(),u(I,{key:3},[e[18]||(e[18]=r("div",null,"Пароль",-1)),r("div",Te,[$.value?(s(),u("span",je,m(v.value?.Password),1)):(s(),u("button",{key:1,class:"btn btn--border btn--md tw-h-8 tw-gap-1",onClick:e[9]||(e[9]=c=>$.value=!0)},[d(Y),e[17]||(e[17]=ce(" Показать ",-1))])),r("button",{class:"btn btn--border btn--md tw-h-8",onClick:e[10]||(e[10]=c=>V())},"Сменить пароль"),d(f,{value:v.value?.Password},null,8,["value"])])],64)):n("",!0),t.value?.ServiceID==51e3?(s(),u(I,{key:4},[e[19]||(e[19]=r("div",null,"FTP, POP3, SMTP, IMAP",-1)),t.value?.ServiceID==51e3?(s(),u("div",Ee,[r("div",null,m(L.value?.Address),1),d(f,{value:L.value?.Address},null,8,["value"])])):n("",!0)],64)):n("",!0),t.value?.ServiceID==51e3?(s(),u(I,{key:5},[e[20]||(e[20]=r("div",null,"IP адрес",-1)),r("div",Ve,[r("div",null,m(w.value?.IP),1),d(f,{value:w.value?.IP},null,8,["value"])])],64)):n("",!0)])):n("",!0)])])])],64)}}},lt=De(Re,[["__scopeId","data-v-b8eb5053"]]);export{lt as default};
