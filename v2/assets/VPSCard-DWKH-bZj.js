import{_ as G}from"./StatusBadge-CjHHKSUG.js";import{_ as J}from"./IconLink-YgoSh8il.js";import{_ as K,a as Q}from"./CardButton-D2yx9NRX.js";import{_ as X}from"./ServerStatusBadge.vue_vue_type_script_setup_true_lang-Cxfq-4-V.js";import{r as Z,Y as tt,v as et,m as st}from"./bootstrap-vue-next-DwS3lKQb.js";import{_ as nt}from"./IconDots-hRD0_8ej.js";import{_ as ot}from"./UserNote-8i0DdDDd.js";import{_ as rt}from"./IconCard-_anr564X.js";import{_ as at}from"./IconRotate-BADcxb6v.js";import{d as it,r as O,m as lt,x as dt,f as ut,E as mt,c as f,o as D,a as o,h as C,b as n,j as i,n as k,e as d,w as l,t as m,F as pt,i as ct}from"./index-CmCGXBst.js";import{f as y}from"./time-DenPiOX5.js";import{i as vt}from"./BlockBalanceAgreement-qtspRQ_B.js";import{_ as wt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ft={class:"ico"},Dt={class:"btn btn--dots"},gt={class:"tw-flex tw-flex-col xl:tw-flex-row tw-mt-14 xl:tw-mt-0 xl:tw-items-center tw-gap-2 xl:tw-gap-4"},It={class:"tw-flex tw-items-center tw-gap-4"},St={class:"tw-flex tw-gap-2 tw-items-center"},xt={class:"tw-flex"},_t=["href"],bt={class:"tw-text-sky-400 tw-mt-2"},Ot={class:"tw-flex tw-flex-col lg:tw-items-center lg:tw-flex-row lg:tw-justify-between"},Ct={class:"tw-flex tw-flex-wrap tw-items-center tw-gap-x-4 tw-gap-y-1 tw-mt-2 tw-text-sm tw-text-gray-500 tw-text-nowrap"},kt={class:"tw-flex tw-items-center tw-gap-2 tw-text-nowrap tw-mt-2"},yt={class:"hosting-status__date"},$t={__name:"VPSCard",props:{params:{type:Array,default:()=>[]},vps:{type:Object,required:!0},isLast:{type:Boolean,default:!1},userName:{type:String,default:""},isSeveral:{type:Boolean,default:!1},selectedRows:{type:Object,required:!0}},emits:["manage","transfer","delete"],setup(e,{emit:$}){const r=e,_=$,V=it(),g=O({...r.selectedRows}),P=()=>{_("update-selected-rows",g.value)};lt(()=>r.selectedRows,s=>{g.value={...s}},{deep:!0});const I=dt("emitter"),S=O(!1),R=ut(()=>{const s=r.vps.IP||r.vps.Domain;return s.startsWith("http://")||s.startsWith("https://")?s:`https://${s}`});function B(s){if(!s)return y(new Date);const t=new Date,x=new Date(t.getTime()+s*24*60*60*1e3);return y(x)}function N(){_("delete",r.vps.ID,r.vps.OrderID)}function L(s){vt()||V.push(`/VPSOrders/${s}`)}function h(){I.emit("open-modal",{component:"OrdersTransfer",data:{ServiceOrderID:r.vps.ID,ServiceID:r.vps.ServiceID}})}function j(s){I.emit("open-modal",{component:"StatusHistory",data:{modeID:"VPSOrders",rowID:s}})}function M(){I.emit("open-modal",{component:"OrderPasswordChange",data:{OrderID:r.vps.ID,ServiceID:r.vps.ServiceID,emitEvent:"updateVPSIDPage",Login:r.vps.Login}})}function T(){function s(t){S.value=t}I.emit("open-modal",{component:"ReloadVPS",data:{VPSOrderID:r.vps.ID,isReloading:S.value,onReloadStatusChange:s}})}function b(){_("manage",{ServiceOrderID:r.vps.ID,ServiceID:r.vps.ServiceID,OrderID:r.vps.OrderID})}function U(s){if(!s)return"";const t=new Date(parseInt(s)*1e3),p=new Date-t,c=Math.floor(p/1e3),v=Math.floor(c/60),w=Math.floor(v/60),u=Math.floor(w/24);return c<60?`${c} сек. от статуса`:v<60?`${v} мин. от статуса`:w<24?`${w} ч. от статуса`:`${u} дн. от статуса`}return(s,t)=>{const x=at,p=K,c=rt,v=ot,w=nt,u=Z,A=mt("RouterLink"),E=tt,F=et,q=st,z=X,H=Q,W=J,Y=G;return D(),f("div",{onClick:t[12]||(t[12]=a=>L(e.vps.OrderID)),class:"tw-relative tw-p-4 tw-border tw-border-gray-200 tw-rounded tw-cursor-pointer hover:tw-bg-sky-100"},[o("div",{onClick:t[7]||(t[7]=i(()=>{},["stop"])),class:"tw-absolute tw-right-4 tw-top-4 tw-flex tw-items-center tw-gap-1"},[e.vps.StatusID==="Active"?(D(),f("button",{key:0,class:k(["btn btn--md btn--border btn--rotate btn--rotate_green button-large btn-reload tw-hidden sm:tw-flex",{"btn--rotate_gray":e.vps.StatusID!=="Active"||S.value,"btn--rotate_loading":S.value}]),onClick:i(T,["stop"])},[t[13]||(t[13]=d(" Включен ",-1)),o("span",ft,[n(x)]),t[14]||(t[14]=o("div",{class:"hosting-item__title"},"Перезагрузить виртуальный сервер",-1))],2)):C("",!0),n(p,{onClick:t[0]||(t[0]=i(a=>s.$router.push(`/VPSOrders/${e.vps.OrderID}/SchemeChange`),["stop"]))},{default:l(()=>t[15]||(t[15]=[d(" Изменить тариф ",-1)])),_:1,__:[15]}),n(p,{onClick:t[1]||(t[1]=i(a=>s.$router.push(`/VPSOrderPay/${e.vps.OrderID}`),["stop"]))},{default:l(()=>[n(c),t[16]||(t[16]=o("div",null,"Оплатить",-1))]),_:1,__:[16]}),n(p,{onClick:t[2]||(t[2]=i(a=>b(),["stop"])),class:"tw-hidden lg:tw-flex"},{default:l(()=>t[17]||(t[17]=[d("Управлять заказом",-1)])),_:1,__:[17]}),n(v,{text:e.vps.UserNotice,"order-id":e.vps.OrderID,emit:"updateVPSList"},null,8,["text","order-id"]),n(F,{class:"dropdown-dots",right:""},{"button-content":l(()=>[o("span",Dt,[n(w)])]),default:l(()=>[n(u,{onClick:t[3]||(t[3]=i(a=>b(),["stop"]))},{default:l(()=>t[18]||(t[18]=[d("Управлять заказом",-1)])),_:1,__:[18]}),n(u,{onClick:t[4]||(t[4]=i(a=>h(),["stop"]))},{default:l(()=>t[19]||(t[19]=[d("Передать на другой аккаунт",-1)])),_:1,__:[19]}),n(u,{onClick:t[5]||(t[5]=i(a=>M(),["stop"]))},{default:l(()=>t[20]||(t[20]=[d("Сменить пароль",-1)])),_:1,__:[20]}),n(u,null,{default:l(()=>[n(A,{to:`/VPSOrders/${e.vps.OrderID}/SchemeChange`},{default:l(()=>t[21]||(t[21]=[d("Изменить тариф",-1)])),_:1,__:[21]},8,["to"])]),_:1}),n(E),n(u,{class:"color-red",onClick:t[6]||(t[6]=i(a=>N(),["stop"]))},{default:l(()=>t[22]||(t[22]=[d("Удалить",-1)])),_:1,__:[22]})]),_:1})]),o("div",gt,[o("div",It,[e.isSeveral?(D(),f("div",{key:0,onClick:t[9]||(t[9]=i(()=>{},["stop"]))},[n(q,{id:"checkbox-"+e.vps.OrderID,modelValue:g.value[e.vps.OrderID],"onUpdate:modelValue":t[8]||(t[8]=a=>g.value[e.vps.OrderID]=a),name:"checkbox-"+e.vps.OrderID,onChange:P},null,8,["id","modelValue","name"])])):C("",!0),o("div",St,[n(z,{indicators:e.vps.Graphs?.Last},null,8,["indicators"]),n(H,{orderId:e.vps.OrderID},null,8,["orderId"])]),o("div",xt,[o("a",{href:R.value,target:"_blank",onClick:t[10]||(t[10]=i(()=>{},["stop"])),class:"tw-flex tw-items-center tw-gap-2 tw-text-lg"},[o("div",null,m(e.vps.IP||e.vps.Domain),1),n(W,{class:"tw-size-5"})],8,_t)])])]),o("div",bt,m(e.userName),1),o("div",Ot,[o("div",Ct,[(D(!0),f(pt,null,ct(e.params,a=>(D(),f("div",null,m(a.text),1))),256))]),o("div",kt,[o("div",{class:k(["tw-pl-0",{danger:Number(e.vps.DaysRemainded)<14}])},m(B(e.vps.DaysRemainded))+" • "+m(e.vps.DaysRemainded||0)+" дн. ",3),n(Y,{class:"status-badge tw-cursor-pointer",status:e.vps.StatusID,"status-table":"VPSOrders",onClick:t[11]||(t[11]=i(a=>j(e.vps.ID),["stop"]))},null,8,["status"]),o("div",yt,m(U(e.vps.StatusDate)),1)])])])}}},Ft=wt($t,[["__scopeId","data-v-7aa412ac"]]);export{Ft as _};
