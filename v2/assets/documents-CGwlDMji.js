import{al as L,r,am as e,an as a,W as b}from"./index-Codq73aV.js";const E=L("documents",()=>{const i=r(null),u=r(null),l=r(null);async function f(){let t="error";return await e.post(a.motionDocuments).then(n=>{i.value=n?.data}).catch(()=>{t="error"}),t}async function p(){await e.post(a.contractsEnclosures).then(t=>{u.value=t.data})}async function D(t){const n=Object.fromEntries(Object.entries(t).filter(([y,d])=>d!=null)),c=new URLSearchParams(n).toString(),s=b+a.invoiceDocumentGuest+(c?`?${c}`:""),o=await e.post(s);l.value=o.data}async function w(t){const n=await e.post(a.motionDocumentDownload,{...t});n?.data?.Status==="Ok"&&m({url:n?.data?.Location,original_name:"Contract"})}async function h(t){const n=await e.post(a.contractEnclosureDownload,{...t});n?.data?.Status==="Ok"&&m({url:n?.data?.Location,original_name:"Contract"})}async function m({url:t,original_name:n}){const c=await e.get(t,{responseType:"blob"}),s=new Blob([c.data],{type:"application/pdf"}),o=document.createElement("a");o.href=URL.createObjectURL(s),o.download=n,o.click(),URL.revokeObjectURL(o.href)}return{motionDocumentsList:i,contractDocumentsList:u,motionDocumentDownload:w,contractEnclosureDownload:h,fetchMotionDocuments:f,fetchContractDocuments:p,fetchInvoiceDocumentGuest:D,invoiceDocumentGuest:l}});export{E as u};
