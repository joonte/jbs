import{S as x}from"./ServerItem-ef30dc67.js";import{o as c,c as l,b as C,a as i,Z as j,a9 as E,F as I,x as b,y as w,n as V,t as $,p as L,l as P,_ as A,r as F,g as G}from"./index-90eb49f0.js";import{u as M}from"./dedicatedServer-b5b8ddac.js";import{u as U}from"./vps-7b1b7363.js";import{u as z}from"./resetServer-5aa8ad31.js";import{B as N}from"./BlockBalanceAgreement-267acfcf.js";import{E as Z}from"./EmptyStateBlock-2d70ce64.js";import{_ as q}from"./ClausesKeeper-313482ce.js";import"./IconDots-9788fdcb.js";import"./IconCard-95aab40c.js";import"./StatusBadge-0d2c62ad.js";import"./contracts-0cbe8270.js";import"./bootstrap-vue-next.es-788a757a.js";import"./ButtonDefault-5aebc1f7.js";import"./IconArrow-380053a0.js";import"./IconClose-c838a5bc.js";const O=n=>(L("data-v-09d45468"),n=n(),P(),n),H={class:"section"},J={class:"container"},K={class:"section-header"},Q=O(()=>i("h1",{class:"section-title"},"Заказ выделенного сервера",-1)),R=O(()=>i("div",{class:"section-text"},"При покупке этой услуги у вас появляется полностью укомплектованный, настроенный выделенный сервер, с операционной системой на ваш выбор, размещённый в дата-центре в Москве, по самым низким ценам.",-1)),T={class:"section-nav"},W=["title","onClick"],X={key:0,class:"list"};function Y(n,p,a,e,v,h){const d=N,_=q,S=x,f=Z;return c(),l(I,null,[C(d),i("div",H,[i("div",J,[i("div",K,[Q,R,C(_),j(i("div",T,[(c(!0),l(I,null,b(e.filterServerGroups(),(o,D)=>{var u,s;return c(),l("div",{class:V(["section-nav__item",{active:String(e.currentGroup)===String(o==null?void 0:o.ServersGroupID)}]),title:(u=e.getServerGroup(o==null?void 0:o.ServersGroupID))==null?void 0:u.Comment,onClick:r=>e.setCurrentGroup(o==null?void 0:o.ServersGroupID)},$((s=e.getServerGroup(o==null?void 0:o.ServersGroupID))==null?void 0:s.Name),11,W)}),256))],512),[[E,e.filterServerGroups().length>1]])]),e.getDSSchemes&&e.getDSSchemes.length?(c(),l("div",X,[(c(!0),l(I,null,b(e.sort(e.getDSSchemes),o=>(c(),w(S,{data:o,specifications:e.getDSItemSpecifications(o.ID),image:o.Image},null,8,["data","specifications","image"]))),256))])):(c(),w(f,{key:1,label:"Нет доступных серверов"}))])])],64)}const rr={components:{ServerItem:x,BlockBalanceAgreement:N},async setup(){var D,u;const n=M(),p=U(),a=z(),e=F(0),v=G(()=>Object.keys(n==null?void 0:n.DSSchemes).map(s=>n==null?void 0:n.DSSchemes[s])),h=G(()=>{var s;return(s=a==null?void 0:a.serverGroupsList)==null?void 0:s.Servers});G(()=>Object.keys(p.vpsSchemes).map(s=>p.vpsSchemes[s]));function d(s){e.value=s}function _(){let s={};return Object.values(h.value).forEach(r=>{if(r.ServiceID==="40000"){const t=r.ServersGroupID;s[t]||(s[t]={SortID:r.SortID,ServersGroupID:t,servers:[]}),s[t].servers.push(r)}}),Object.values(s).sort((r,t)=>r.SortID-t.SortID)}function S(s){var r,t;return(t=(r=a==null?void 0:a.serverGroupsList)==null?void 0:r.ServersGroups)==null?void 0:t[s]}function f(s){var t,k,m,y,B;const r=(t=v.value)==null?void 0:t.find(g=>(g==null?void 0:g.ID)===s);return[`OS: ${r==null?void 0:r.OS}`,`${(k=r==null?void 0:r.Names)==null?void 0:k.CPU}: ${r==null?void 0:r.CPU}`,`${(m=r==null?void 0:r.Names)==null?void 0:m.ram}: ${r==null?void 0:r.ram} GB`,`${(y=r==null?void 0:r.Names)==null?void 0:y.raid}: ${r==null?void 0:r.raid}`,`${(B=r==null?void 0:r.Names)==null?void 0:B.disks}: ${r==null?void 0:r.disks}`]}function o(s){return s!==null?s.sort((r,t)=>r.CostMonth-t.CostMonth):s}return await n.fetchDSOrders(),await n.fetchDSSchemes(),await p.fetchVPSSchemes(),await a.fetchServerGroups(),e.value=(u=(D=_())==null?void 0:D[0])==null?void 0:u.ServersGroupID,{getDSItemSpecifications:f,sort:o,getDSSchemes:v,getServerGroup:S,filterServerGroups:_,setCurrentGroup:d,currentGroup:e}}},Dr=A(rr,[["render",Y],["__scopeId","data-v-09d45468"]]);export{Dr as default};
