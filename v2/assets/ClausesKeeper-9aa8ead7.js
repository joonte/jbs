import{o as i,c as d,a as C,b as I,t as $,k as p,n as b,_ as S,r as h,i as L,a1 as B,a2 as N,a3 as A,f as T,a6 as E,g as H,h as M,x as g,w as O,F as R,v as V,a7 as j}from"./index-ed1f28f8.js";import{I as w}from"./IconClose-a1e58263.js";const F={key:0},J={key:0,class:"notify-title"},K=["innerHTML"];function P(c,o,n,a,l,e){var r,u;const y=w;return a.show?(i(),d("div",F,[C("div",{class:b(["notify","notify--"+n.notify.class])},[C("button",{class:"notify-close",onClick:o[0]||(o[0]=m=>a.closeAlert())},[I(y)]),(r=n.notify)!=null&&r.title?(i(),d("div",J,$(n.notify.title),1)):p("",!0),(u=n.notify)!=null&&u.text?(i(),d("p",{key:1,innerHTML:n.notify.text},null,8,K)):p("",!0)],2)])):p("",!0)}const q={components:{IconClose:w},props:{show:{type:Boolean,default:!1},notify:{type:Object,default:()=>{}}},emits:["close"],setup(c,{emit:o}){const n=h(!1);function a(){n.value=!1,o("close")}return L(()=>{n.value=c.show}),{show:n,closeAlert:a}}},z=S(q,[["render",P],["__scopeId","data-v-5af090cb"]]),G=B("clauses",()=>{const c=h(null);function o(a){try{JSON.parse(a)}catch{return!1}return!0}async function n(a){let l=null;return await N.post(""+A.fetchClauses,{Partition:a}).then(e=>{o(e)&&(l=e==null?void 0:e.data)}),l}return{clausesList:c,fetchClauses:n}});const X={__name:"ClausesKeeper",props:["partition"],setup(c){const o=c,n=G(),a=T(),l=E();h("");const e=h([]),y=H(()=>a.userInfo);function r(t){var s;return`clause_${(s=y.value)==null?void 0:s.ID}_${t==null?void 0:t.ID}`}function u(t){return document.cookie.match(RegExp(`(?:^|;\\s*)${r(t)}=([^;]*)`))===null}function m(t){let s=new Date;s.setDate(7+s.getDate()),document.cookie=`${r(t)}=hidden; path=/; expires=${s}`,f()}function f(){let t=[];return Object.keys((e==null?void 0:e.value)||{}).forEach((s,x)=>{u(e==null?void 0:e.value[s])&&t.push(e==null?void 0:e.value[s])}),t}function v(){n.fetchClauses((o==null?void 0:o.partition)||`Header:${l.fullPath}`).then(t=>{t&&(e.value=t,f())})}return v(),M(o,()=>{v()}),(t,s)=>{var k;const x=z;return((k=f())==null?void 0:k.length)>0?(i(),g(j,{key:0,class:"clauses-keeper",name:"list",tag:"div"},{default:O(()=>[(i(!0),d(R,null,V(f(),(_,D)=>(i(),g(x,{class:"clauses-alert",key:D,notify:{text:_==null?void 0:_.Text,class:"basic"},show:!0,onClose:U=>m(_)},null,8,["notify","onClose"]))),128))]),_:1})):p("",!0)}}};export{X as _};
